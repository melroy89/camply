
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="juftin">
      
      
      <link rel="icon" href="../_static/camply.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>camply - camply</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-J7HWHT1EZN"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-J7HWHT1EZN",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-J7HWHT1EZN",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#camply" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="camply" class="md-header__button md-logo" aria-label="camply" data-md-component="logo">
      
  <img src="../_static/camply.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            camply
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              camply
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/juftin/camply" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    camply
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="camply" class="md-nav__button md-logo" aria-label="camply" data-md-component="logo">
      
  <img src="../_static/camply.png" alt="logo">

    </a>
    camply
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/juftin/camply" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    camply
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        camply ‚õ∫
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Installation ‚òÄÔ∏è
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../command_line_usage/" class="md-nav__link">
        Usage üìù
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../providers/" class="md-nav__link">
        Providers üèï
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../recreationdotgov/" class="md-nav__link">
        Finding Campsites on Recreation.gov üå≤
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        Object Oriented Usage üêç
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        Docker ‚õ¥
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        Command Line Interface ‚å®Ô∏è
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          API Documentation ü§ñ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API Documentation ü§ñ" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          API Documentation ü§ñ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_1" type="checkbox" id="__nav_9_1" checked>
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index md-nav__link--active">
          <a href="./">camply</a>
          
            <label for="__nav_9_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="camply" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_1">
          <span class="md-nav__icon md-icon"></span>
          camply
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="_version/" class="md-nav__link">
        _version
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cli/" class="md-nav__link">
        cli
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_1_3" type="checkbox" id="__nav_9_1_3" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="config/">config</a>
          
            <label for="__nav_9_1_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="config" data-md-level="3">
        <label class="md-nav__title" for="__nav_9_1_3">
          <span class="md-nav__icon md-icon"></span>
          config
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="config/api_config/" class="md-nav__link">
        api_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="config/data_columns/" class="md-nav__link">
        data_columns
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="config/file_config/" class="md-nav__link">
        file_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="config/logging_config/" class="md-nav__link">
        logging_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="config/notification_config/" class="md-nav__link">
        notification_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="config/search_config/" class="md-nav__link">
        search_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="config/yellowstone_config/" class="md-nav__link">
        yellowstone_config
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_1_4" type="checkbox" id="__nav_9_1_4" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="containers/">containers</a>
          
            <label for="__nav_9_1_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="containers" data-md-level="3">
        <label class="md-nav__title" for="__nav_9_1_4">
          <span class="md-nav__icon md-icon"></span>
          containers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="containers/api_responses/" class="md-nav__link">
        api_responses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="containers/base_container/" class="md-nav__link">
        base_container
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="containers/data_containers/" class="md-nav__link">
        data_containers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="containers/gtc_api_responses/" class="md-nav__link">
        gtc_api_responses
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_1_5" type="checkbox" id="__nav_9_1_5" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="notifications/">notifications</a>
          
            <label for="__nav_9_1_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="notifications" data-md-level="3">
        <label class="md-nav__title" for="__nav_9_1_5">
          <span class="md-nav__icon md-icon"></span>
          notifications
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="notifications/base_notifications/" class="md-nav__link">
        base_notifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="notifications/email_notifications/" class="md-nav__link">
        email_notifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="notifications/multi_provider_notifications/" class="md-nav__link">
        multi_provider_notifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="notifications/pushbullet/" class="md-nav__link">
        pushbullet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="notifications/pushover/" class="md-nav__link">
        pushover
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="notifications/silent_notifications/" class="md-nav__link">
        silent_notifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="notifications/slack/" class="md-nav__link">
        slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="notifications/telegram/" class="md-nav__link">
        telegram
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="notifications/twilio/" class="md-nav__link">
        twilio
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_1_6" type="checkbox" id="__nav_9_1_6" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="providers/">providers</a>
          
            <label for="__nav_9_1_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="providers" data-md-level="3">
        <label class="md-nav__title" for="__nav_9_1_6">
          <span class="md-nav__icon md-icon"></span>
          providers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="providers/base_provider/" class="md-nav__link">
        base_provider
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_1_6_2" type="checkbox" id="__nav_9_1_6_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="providers/going_to_camp/">going_to_camp</a>
          
            <label for="__nav_9_1_6_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="going_to_camp" data-md-level="4">
        <label class="md-nav__title" for="__nav_9_1_6_2">
          <span class="md-nav__icon md-icon"></span>
          going_to_camp
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="providers/going_to_camp/going_to_camp_provider/" class="md-nav__link">
        going_to_camp_provider
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_1_6_3" type="checkbox" id="__nav_9_1_6_3" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="providers/recreation_dot_gov/">recreation_dot_gov</a>
          
            <label for="__nav_9_1_6_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="recreation_dot_gov" data-md-level="4">
        <label class="md-nav__title" for="__nav_9_1_6_3">
          <span class="md-nav__icon md-icon"></span>
          recreation_dot_gov
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="providers/recreation_dot_gov/recdotgov_provider/" class="md-nav__link">
        recdotgov_provider
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_1_6_4" type="checkbox" id="__nav_9_1_6_4" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="providers/xanterra/">xanterra</a>
          
            <label for="__nav_9_1_6_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="xanterra" data-md-level="4">
        <label class="md-nav__title" for="__nav_9_1_6_4">
          <span class="md-nav__icon md-icon"></span>
          xanterra
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="providers/xanterra/yellowstone_lodging/" class="md-nav__link">
        yellowstone_lodging
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_1_7" type="checkbox" id="__nav_9_1_7" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="search/">search</a>
          
            <label for="__nav_9_1_7">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="search" data-md-level="3">
        <label class="md-nav__title" for="__nav_9_1_7">
          <span class="md-nav__icon md-icon"></span>
          search
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="search/base_search/" class="md-nav__link">
        base_search
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="search/search_going_to_camp/" class="md-nav__link">
        search_going_to_camp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="search/search_recreationdotgov/" class="md-nav__link">
        search_recreationdotgov
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="search/search_yellowstone/" class="md-nav__link">
        search_yellowstone
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_1_8" type="checkbox" id="__nav_9_1_8" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="utils/">utils</a>
          
            <label for="__nav_9_1_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="utils" data-md-level="3">
        <label class="md-nav__title" for="__nav_9_1_8">
          <span class="md-nav__icon md-icon"></span>
          utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="utils/api_utils/" class="md-nav__link">
        api_utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="utils/configure_camply/" class="md-nav__link">
        configure_camply
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="utils/general_utils/" class="md-nav__link">
        general_utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="utils/logging_utils/" class="md-nav__link">
        logging_utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="utils/yaml_utils/" class="md-nav__link">
        yaml_utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dependencies/" class="md-nav__link">
        Dependencies ‚ôªÔ∏è
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        Contributing üë•
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/juftin/camply" class="md-nav__link">
        GitHub üõ†
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/juftin/camply/releases" class="md-nav__link">
        Changelog üìù
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#camply" class="md-nav__link">
    camply
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#camply.AvailableCampsite" class="md-nav__link">
    AvailableCampsite
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#camply.EquipmentOptions" class="md-nav__link">
    EquipmentOptions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#camply.GoingToCampProvider" class="md-nav__link">
    GoingToCampProvider
  </a>
  
    <nav class="md-nav" aria-label="GoingToCampProvider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
    <nav class="md-nav" aria-label="__repr__()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.__repr__--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_campgrounds" class="md-nav__link">
    find_campgrounds()
  </a>
  
    <nav class="md-nav" aria-label="find_campgrounds()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_campgrounds--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_campgrounds--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_facilities_per_recreation_area" class="md-nav__link">
    find_facilities_per_recreation_area()
  </a>
  
    <nav class="md-nav" aria-label="find_facilities_per_recreation_area()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_facilities_per_recreation_area--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_facilities_per_recreation_area--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_recreation_areas" class="md-nav__link">
    find_recreation_areas()
  </a>
  
    <nav class="md-nav" aria-label="find_recreation_areas()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_recreation_areas--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_recreation_areas--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_reservation_link" class="md-nav__link">
    get_reservation_link()
  </a>
  
    <nav class="md-nav" aria-label="get_reservation_link()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_reservation_link--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_site_details" class="md-nav__link">
    get_site_details()
  </a>
  
    <nav class="md-nav" aria-label="get_site_details()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_site_details--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_site_details--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_equipment_types" class="md-nav__link">
    list_equipment_types()
  </a>
  
    <nav class="md-nav" aria-label="list_equipment_types()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_equipment_types--params" class="md-nav__link">
    Params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_equipment_types--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_site_availability" class="md-nav__link">
    list_site_availability()
  </a>
  
    <nav class="md-nav" aria-label="list_site_availability()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_site_availability--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.rec_area_lookup" class="md-nav__link">
    rec_area_lookup()
  </a>
  
    <nav class="md-nav" aria-label="rec_area_lookup()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.rec_area_lookup--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.rec_area_lookup--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#camply.RecreationDotGov" class="md-nav__link">
    RecreationDotGov
  </a>
  
    <nav class="md-nav" aria-label="RecreationDotGov">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
    <nav class="md-nav" aria-label="__repr__()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.__repr__--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_campgrounds" class="md-nav__link">
    find_campgrounds()
  </a>
  
    <nav class="md-nav" aria-label="find_campgrounds()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_campgrounds--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_campgrounds--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_facilities_per_recreation_area" class="md-nav__link">
    find_facilities_per_recreation_area()
  </a>
  
    <nav class="md-nav" aria-label="find_facilities_per_recreation_area()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_facilities_per_recreation_area--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_facilities_per_recreation_area--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_recreation_areas" class="md-nav__link">
    find_recreation_areas()
  </a>
  
    <nav class="md-nav" aria-label="find_recreation_areas()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_recreation_areas--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_recreation_areas--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campground_ids_by_campsites" class="md-nav__link">
    get_campground_ids_by_campsites()
  </a>
  
    <nav class="md-nav" aria-label="get_campground_ids_by_campsites()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campground_ids_by_campsites--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campground_ids_by_campsites--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campsite_by_id" class="md-nav__link">
    get_campsite_by_id()
  </a>
  
    <nav class="md-nav" aria-label="get_campsite_by_id()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campsite_by_id--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campsite_by_id--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_internal_campsite_metadata" class="md-nav__link">
    get_internal_campsite_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_recdotgov_data" class="md-nav__link">
    get_recdotgov_data()
  </a>
  
    <nav class="md-nav" aria-label="get_recdotgov_data()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_recdotgov_data--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_recdotgov_data--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_ridb_data" class="md-nav__link">
    get_ridb_data()
  </a>
  
    <nav class="md-nav" aria-label="get_ridb_data()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_ridb_data--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_ridb_data--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request" class="md-nav__link">
    make_recdotgov_request()
  </a>
  
    <nav class="md-nav" aria-label="make_recdotgov_request()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request_retry" class="md-nav__link">
    make_recdotgov_request_retry()
  </a>
  
    <nav class="md-nav" aria-label="make_recdotgov_request_retry()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request_retry--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request_retry--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.paginate_recdotgov_campsites" class="md-nav__link">
    paginate_recdotgov_campsites()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_campsite_availability" class="md-nav__link">
    process_campsite_availability()
  </a>
  
    <nav class="md-nav" aria-label="process_campsite_availability()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_campsite_availability--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_campsite_availability--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_facilities_responses" class="md-nav__link">
    process_facilities_responses()
  </a>
  
    <nav class="md-nav" aria-label="process_facilities_responses()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_facilities_responses--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_facilities_responses--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#camply.SearchRecreationDotGov" class="md-nav__link">
    SearchRecreationDotGov
  </a>
  
    <nav class="md-nav" aria-label="SearchRecreationDotGov">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.search.search_recreationdotgov.SearchRecreationDotGov.__init__" class="md-nav__link">
    __init__()
  </a>
  
    <nav class="md-nav" aria-label="__init__()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.search.search_recreationdotgov.SearchRecreationDotGov.__init__--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.search.search_recreationdotgov.SearchRecreationDotGov.filter_campsites_to_equipment" class="md-nav__link">
    filter_campsites_to_equipment()
  </a>
  
    <nav class="md-nav" aria-label="filter_campsites_to_equipment()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.search.search_recreationdotgov.SearchRecreationDotGov.filter_campsites_to_equipment--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.search.search_recreationdotgov.SearchRecreationDotGov.filter_campsites_to_equipment--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.search.search_recreationdotgov.SearchRecreationDotGov.get_all_campsites" class="md-nav__link">
    get_all_campsites()
  </a>
  
    <nav class="md-nav" aria-label="get_all_campsites()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.search.search_recreationdotgov.SearchRecreationDotGov.get_all_campsites--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#camply.SearchWindow" class="md-nav__link">
    SearchWindow
  </a>
  
    <nav class="md-nav" aria-label="SearchWindow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.containers.data_containers.SearchWindow.end_date_must_be_in_future" class="md-nav__link">
    end_date_must_be_in_future()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.containers.data_containers.SearchWindow.get_date_range" class="md-nav__link">
    get_date_range()
  </a>
  
    <nav class="md-nav" aria-label="get_date_range()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.containers.data_containers.SearchWindow.get_date_range--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.containers.data_containers.SearchWindow.start_date_must_be_in_future" class="md-nav__link">
    start_date_must_be_in_future()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#camply.SearchYellowstone" class="md-nav__link">
    SearchYellowstone
  </a>
  
    <nav class="md-nav" aria-label="SearchYellowstone">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.search.search_yellowstone.SearchYellowstone.__init__" class="md-nav__link">
    __init__()
  </a>
  
    <nav class="md-nav" aria-label="__init__()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.search.search_yellowstone.SearchYellowstone.__init__--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.search.search_yellowstone.SearchYellowstone.get_all_campsites" class="md-nav__link">
    get_all_campsites()
  </a>
  
    <nav class="md-nav" aria-label="get_all_campsites()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.search.search_yellowstone.SearchYellowstone.get_all_campsites--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.search.search_yellowstone.SearchYellowstone.print_campgrounds" class="md-nav__link">
    print_campgrounds()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#camply.YellowstoneLodging" class="md-nav__link">
    YellowstoneLodging
  </a>
  
    <nav class="md-nav" aria-label="YellowstoneLodging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
    <nav class="md-nav" aria-label="__repr__()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.__repr__--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.get_monthly_campsites" class="md-nav__link">
    get_monthly_campsites()
  </a>
  
    <nav class="md-nav" aria-label="get_monthly_campsites()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.get_monthly_campsites--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.get_monthly_campsites--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.make_yellowstone_request" class="md-nav__link">
    make_yellowstone_request()
  </a>
  
    <nav class="md-nav" aria-label="make_yellowstone_request()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.make_yellowstone_request--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.make_yellowstone_request--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/home/runner/work/camply/camply/camply/__init__.py" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


  <h1>camply</h1>

<div class="doc doc-object doc-module">


<a id="camply"></a>
  <div class="doc doc-contents first">
  
      <p>camply <strong>init</strong> file</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="camply.AvailableCampsite" class="doc doc-heading">
        <code>AvailableCampsite</code>


<a href="#camply.AvailableCampsite" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="camply.containers.base_container.CamplyModel" href="containers/base_container/#camply.containers.base_container.CamplyModel">CamplyModel</a></code></p>

  
      <p>Campsite Storage</p>
<p>This container should be universal regardless of API Provider</p>


        <details class="quote">
          <summary>Source code in <code>camply/containers/data_containers.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span>
<span class="normal"><a href="#__codelineno-0-70">70</a></span>
<span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span>
<span class="normal"><a href="#__codelineno-0-75">75</a></span>
<span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span>
<span class="normal"><a href="#__codelineno-0-84">84</a></span>
<span class="normal"><a href="#__codelineno-0-85">85</a></span>
<span class="normal"><a href="#__codelineno-0-86">86</a></span>
<span class="normal"><a href="#__codelineno-0-87">87</a></span>
<span class="normal"><a href="#__codelineno-0-88">88</a></span>
<span class="normal"><a href="#__codelineno-0-89">89</a></span>
<span class="normal"><a href="#__codelineno-0-90">90</a></span>
<span class="normal"><a href="#__codelineno-0-91">91</a></span>
<span class="normal"><a href="#__codelineno-0-92">92</a></span>
<span class="normal"><a href="#__codelineno-0-93">93</a></span>
<span class="normal"><a href="#__codelineno-0-94">94</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="k">class</span> <span class="nc">AvailableCampsite</span><span class="p">(</span><span class="n">CamplyModel</span><span class="p">):</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="sd">    Campsite Storage</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">    This container should be universal regardless of API Provider</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>    <span class="n">campsite_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a>    <span class="n">booking_date</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a>    <span class="n">booking_end_date</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>    <span class="n">booking_nights</span><span class="p">:</span> <span class="nb">int</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>    <span class="n">campsite_site_name</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>    <span class="n">campsite_loop_name</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>    <span class="n">campsite_type</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>    <span class="n">campsite_occupancy</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>    <span class="n">campsite_use_type</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>    <span class="n">availability_status</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>    <span class="n">recreation_area</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>    <span class="n">recreation_area_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>    <span class="n">facility_name</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>    <span class="n">facility_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>    <span class="n">booking_url</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>    <span class="n">permitted_equipment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">RecDotGovEquipment</span><span class="p">]]</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>    <span class="n">campsite_attributes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">RecDotGovAttribute</span><span class="p">]]</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>    <span class="n">__unhashable__</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;permitted_equipment&quot;</span><span class="p">,</span> <span class="s2">&quot;campsite_attributes&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="camply.EquipmentOptions" class="doc doc-heading">
        <code>EquipmentOptions</code>


<a href="#camply.EquipmentOptions" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code>str</code>, <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>Enumeration of the Equipment Options</p>


        <details class="quote">
          <summary>Source code in <code>camply/config/search_config.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="k">class</span> <span class="nc">EquipmentOptions</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">    Enumeration of the Equipment Options</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>    <span class="n">tent</span> <span class="o">=</span> <span class="s2">&quot;tent&quot;</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a>    <span class="n">rv</span> <span class="o">=</span> <span class="s2">&quot;rv&quot;</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a>    <span class="n">trailer</span> <span class="o">=</span> <span class="s2">&quot;trailer&quot;</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>    <span class="n">vehicle</span> <span class="o">=</span> <span class="s2">&quot;vehicle&quot;</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>    <span class="n">other</span> <span class="o">=</span> <span class="s2">&quot;other&quot;</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>    <span class="n">__all_accepted_equipment__</span> <span class="o">=</span> <span class="p">[</span><span class="n">tent</span><span class="p">,</span> <span class="n">rv</span><span class="p">,</span> <span class="n">trailer</span><span class="p">,</span> <span class="n">vehicle</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="camply.GoingToCampProvider" class="doc doc-heading">
        <code>GoingToCampProvider</code>


<a href="#camply.GoingToCampProvider" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="camply.providers.base_provider.BaseProvider" href="providers/base_provider/#camply.providers.base_provider.BaseProvider">BaseProvider</a></code></p>

  
      <p>Going To Camp API provider</p>


        <details class="quote">
          <summary>Source code in <code>camply/providers/going_to_camp/going_to_camp_provider.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="k">class</span> <span class="nc">GoingToCampProvider</span><span class="p">(</span><span class="n">BaseProvider</span><span class="p">):</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">    Going To Camp API provider</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">        String Representation</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">        -------</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="sd">        str</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>        <span class="k">return</span> <span class="s2">&quot;&lt;GoingToCampProvider&gt;&quot;</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>    <span class="k">def</span> <span class="nf">find_recreation_areas</span><span class="p">(</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">search_string</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">RecreationArea</span><span class="p">]:</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">        Find Matching Recreation Areas based on search string</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">        search_string: Optional[str]</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">            Search Keyword(s)</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="sd">        -------</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a><span class="sd">        filtered_responses: List[RecreationArea]</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a><span class="sd">            Array of Matching Recreation Areas</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Searching for Recreation Areas matching: &quot;</span><span class="si">{</span><span class="n">search_string</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">search_string</span> <span class="ow">or</span> <span class="n">search_string</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>            <span class="n">rec_areas</span> <span class="o">=</span> <span class="n">RECREATION_AREAS</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>            <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">rec_areas</span><span class="p">)</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>            <span class="k">return</span> <span class="n">rec_areas</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>        <span class="n">rec_areas</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">rec_area</span> <span class="ow">in</span> <span class="n">RECREATION_AREAS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>            <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>                <span class="n">search_string</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">rec_area</span><span class="o">.</span><span class="n">recreation_area</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>                <span class="ow">or</span> <span class="n">search_string</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">rec_area</span><span class="o">.</span><span class="n">recreation_area_location</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>            <span class="p">):</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>                <span class="n">rec_areas</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rec_area</span><span class="p">)</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>        <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">rec_areas</span><span class="p">)</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>        <span class="k">return</span> <span class="n">rec_areas</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>    <span class="k">def</span> <span class="nf">rec_area_lookup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rec_area_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">RecreationArea</span><span class="p">):</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="sd">        Lookup a recreation area by ID</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a><span class="sd">        rec_ara_id: int</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="sd">            The recreation area ID to lookup</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">        -------</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">        domain_name, rec_ara: Tuple[str, RecreationArea]</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">            The rec area&#39;s domain name and the recreation area object</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>        <span class="k">for</span> <span class="n">domain_name</span><span class="p">,</span> <span class="n">rec_area</span> <span class="ow">in</span> <span class="n">RECREATION_AREAS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">rec_area</span><span class="o">.</span><span class="n">recreation_area_id</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">):</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>                <span class="k">return</span> <span class="n">domain_name</span><span class="p">,</span> <span class="n">rec_area</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>    <span class="k">def</span> <span class="nf">find_campgrounds</span><span class="p">(</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>        <span class="n">search_string</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>        <span class="n">rec_area_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>        <span class="n">campground_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>        <span class="n">campsite_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]:</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a><span class="sd">        Find Campgrounds Given a Set of Search Criteria</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a><span class="sd">        search_string: str</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="sd">            Search Keyword(s)</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="sd">        rec_area_id: Optional[List[int]]</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="sd">            Recreation Area ID by which to filter</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a><span class="sd">        campground_id: Optional[List[int]]</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">            ID of the Campground</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">        -------</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">        facilities: List[CampgroundFacility]</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="sd">            Array of Matching Campgrounds</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>        <span class="k">if</span> <span class="n">rec_area_id</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[],</span> <span class="p">()):</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>                <span class="s2">&quot;This provider requires --rec-area to be specified when seaching for campsites&quot;</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>            <span class="p">)</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>            <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_facilities_per_recreation_area</span><span class="p">(</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>            <span class="n">rec_area_id</span><span class="o">=</span><span class="n">rec_area_id</span><span class="p">,</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>            <span class="n">campground_id</span><span class="o">=</span><span class="n">campground_id</span><span class="p">,</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>            <span class="n">searching_string</span><span class="o">=</span><span class="n">search_string</span><span class="p">,</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>        <span class="p">)</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>    <span class="k">def</span> <span class="nf">_get_attr_val</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">attribute_detail</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">any</span><span class="p">:</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>        <span class="k">for</span> <span class="n">attr_value</span> <span class="ow">in</span> <span class="n">attribute</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;values&quot;</span><span class="p">,</span> <span class="p">[]):</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>            <span class="k">for</span> <span class="n">attribute_enum_detail</span> <span class="ow">in</span> <span class="n">attribute_detail</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;values&quot;</span><span class="p">):</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>                <span class="k">if</span> <span class="n">attribute_enum_detail</span><span class="p">[</span><span class="s2">&quot;enumValue&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">attr_value</span><span class="p">:</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>                    <span class="k">return</span> <span class="n">_fetch_nested_key</span><span class="p">(</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>                        <span class="n">attribute_enum_detail</span><span class="p">,</span> <span class="s2">&quot;localizedValues&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;displayName&quot;</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>                    <span class="p">)</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>    <span class="k">def</span> <span class="nf">get_site_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rec_area_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a><span class="sd">        Get the details about a site in a recreation area</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a><span class="sd">        search_string: str</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a><span class="sd">            Search Keyword(s)</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a><span class="sd">        rec_area_id: Optional[List[int]]</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><span class="sd">            Recreation Area ID by which to filter</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">        -------</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a><span class="sd">        details: dict[str, str]</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a><span class="sd">            The details about the site</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_attribute_details&quot;</span><span class="p">):</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_attribute_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request</span><span class="p">(</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>                <span class="n">rec_area_id</span><span class="p">,</span> <span class="s2">&quot;ATTRIBUTE_DETAILS&quot;</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>            <span class="p">)</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>        <span class="n">attribute_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attribute_details</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>        <span class="n">site_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request</span><span class="p">(</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>            <span class="n">rec_area_id</span><span class="p">,</span> <span class="s2">&quot;SITE_DETAILS&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;resourceId&quot;</span><span class="p">:</span> <span class="n">resource_id</span><span class="p">}</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>        <span class="p">)</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>        <span class="n">site_attributes</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>        <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="n">site_details</span><span class="p">[</span><span class="s2">&quot;definedAttributes&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>            <span class="n">attribute_detail</span> <span class="o">=</span> <span class="n">attribute_details</span><span class="p">[</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">attribute</span><span class="p">[</span><span class="s1">&#39;attributeDefinitionId&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>            <span class="p">]</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>            <span class="n">attribute_name</span> <span class="o">=</span> <span class="n">_fetch_nested_key</span><span class="p">(</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>                <span class="n">attribute_detail</span><span class="p">,</span> <span class="s2">&quot;localizedValues&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;displayName&quot;</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>            <span class="p">)</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>            <span class="n">attribute_value</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>            <span class="n">attribute_values</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>            <span class="c1"># Attribute a multi-value enum</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">attribute_value</span><span class="p">:</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>                <span class="n">attr_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_attr_val</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="n">attribute_detail</span><span class="p">)</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">attr_value</span><span class="p">:</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>                    <span class="k">continue</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>                <span class="n">attribute_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attr_value</span><span class="p">)</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>                <span class="n">attribute_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">attribute_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>            <span class="n">site_attributes</span><span class="p">[</span><span class="n">attribute_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">attribute_values</span><span class="p">)</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>        <span class="n">site_details</span><span class="p">[</span><span class="s2">&quot;site_attributes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">site_attributes</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>        <span class="k">return</span> <span class="n">site_details</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>    <span class="k">def</span> <span class="nf">get_reservation_link</span><span class="p">(</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>        <span class="n">rec_area_domain_name</span><span class="p">,</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>        <span class="n">resource_location_id</span><span class="p">,</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a>        <span class="n">map_id</span><span class="p">,</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>        <span class="n">equipment_id</span><span class="p">,</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>        <span class="n">sub_equipment_id</span><span class="p">,</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>        <span class="n">party_size</span><span class="p">,</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>        <span class="n">start_date</span><span class="p">,</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>        <span class="n">end_date</span><span class="p">,</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>    <span class="p">):</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a><span class="sd">        Generate a URL which a site can be booked</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a><span class="sd">        -------</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a><span class="sd">        url: str</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a><span class="sd">            The reservation link URL</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">sub_equipment_id</span><span class="p">:</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>            <span class="n">sub_equipment_id</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>        <span class="k">return</span> <span class="p">(</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>            <span class="s2">&quot;https://</span><span class="si">%s</span><span class="s2">/create-booking/results?mapId=</span><span class="si">%s</span><span class="s2">&quot;</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>            <span class="s2">&quot;&amp;bookingCategoryId=0&quot;</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>            <span class="s2">&quot;&amp;startDate=</span><span class="si">%s</span><span class="s2">&quot;</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>            <span class="s2">&quot;&amp;endDate=</span><span class="si">%s</span><span class="s2">&quot;</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>            <span class="s2">&quot;&amp;isReserving=true&quot;</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>            <span class="s2">&quot;&amp;equipmentId=</span><span class="si">%s</span><span class="s2">&quot;</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>            <span class="s2">&quot;&amp;subEquipmentId=</span><span class="si">%s</span><span class="s2">&quot;</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>            <span class="s2">&quot;&amp;partySize=</span><span class="si">%s</span><span class="s2">&quot;</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>            <span class="s2">&quot;&amp;resourceLocationId=</span><span class="si">%s</span><span class="s2">&quot;</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>            <span class="o">%</span> <span class="p">(</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>                <span class="n">rec_area_domain_name</span><span class="p">,</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>                <span class="n">map_id</span><span class="p">,</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>                <span class="n">start_date</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>                <span class="n">end_date</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>                <span class="n">equipment_id</span><span class="p">,</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>                <span class="n">sub_equipment_id</span><span class="p">,</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>                <span class="n">party_size</span><span class="p">,</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>                <span class="n">resource_location_id</span><span class="p">,</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>            <span class="p">)</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>        <span class="p">)</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>    <span class="k">def</span> <span class="nf">find_facilities_per_recreation_area</span><span class="p">(</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>        <span class="n">rec_area_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>        <span class="n">campground_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>        <span class="n">search_string</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]:</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a><span class="sd">        Find Matching Campsites by Recreation Area</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a><span class="sd">        rec_area_id: int</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a><span class="sd">            Recreation Area ID</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="sd">        campground_id: Optional[list[int]]</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a><span class="sd">            Campground IDs</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a><span class="sd">        search_string: Optional[str]</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">            A string to search for in the facility name</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a><span class="sd">        -------</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a><span class="sd">        campgrounds: List[CampgroundFacility]</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a><span class="sd">            Array of Matching Campsites</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>            <span class="sa">f</span><span class="s2">&quot;Retrieving Facility Information for Recreation Area ID: `</span><span class="si">{</span><span class="n">rec_area_id</span><span class="si">}</span><span class="s2">`.&quot;</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>        <span class="p">)</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>        <span class="n">rec_area</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">ra</span> <span class="ow">in</span> <span class="n">RECREATION_AREAS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">ra</span><span class="o">.</span><span class="n">recreation_area_id</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">):</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>                <span class="n">rec_area</span> <span class="o">=</span> <span class="n">ra</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">rec_area</span><span class="p">:</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recreation area &#39;</span><span class="si">{</span><span class="n">rec_area_id</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>            <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">campground_details</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>        <span class="n">api_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">,</span> <span class="s2">&quot;LIST_CAMPGROUNDS&quot;</span><span class="p">)</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>        <span class="n">filtered_facilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_facilities_responses</span><span class="p">(</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>            <span class="n">rec_area_id</span><span class="p">,</span> <span class="n">facilities</span><span class="o">=</span><span class="n">api_response</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>        <span class="p">)</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>        <span class="n">campgrounds</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>        <span class="c1"># Fetch campgrounds details for all facilities</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>        <span class="k">for</span> <span class="n">camp_details</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">,</span> <span class="s2">&quot;CAMP_DETAILS&quot;</span><span class="p">):</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">campground_details</span><span class="p">[</span><span class="n">camp_details</span><span class="p">[</span><span class="s2">&quot;resourceLocationId&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">camp_details</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>        <span class="c1"># If a search string is provided, make sure every facility name contains</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>        <span class="c1"># the search string</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>        <span class="k">if</span> <span class="n">search_string</span> <span class="ow">and</span> <span class="n">search_string</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[[],</span> <span class="p">(),</span> <span class="s2">&quot;&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>            <span class="n">filtered_facilities</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>                <span class="n">f</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">filtered_facilities</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>                <span class="k">if</span> <span class="n">search_string</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">resource_location_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>            <span class="p">]</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>        <span class="k">for</span> <span class="n">facility</span> <span class="ow">in</span> <span class="n">filtered_facilities</span><span class="p">:</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>            <span class="n">_</span><span class="p">,</span> <span class="n">campground_facility</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_facilities_responses</span><span class="p">(</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>                <span class="n">rec_area</span><span class="p">,</span> <span class="n">facility</span><span class="o">=</span><span class="n">facility</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>            <span class="p">)</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">campground_facility</span><span class="p">:</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>                <span class="k">continue</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">campground_id</span><span class="p">:</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>                <span class="n">campgrounds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">campground_facility</span><span class="p">)</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>            <span class="k">if</span> <span class="n">campground_id</span> <span class="ow">and</span> <span class="nb">str</span><span class="p">(</span><span class="n">campground_facility</span><span class="o">.</span><span class="n">facility_id</span><span class="p">)</span> <span class="ow">in</span> <span class="n">campground_id</span><span class="p">:</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>                <span class="n">campgrounds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">campground_facility</span><span class="p">)</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">campgrounds</span><span class="p">)</span><span class="si">}</span><span class="s2"> Matching Campgrounds Found&quot;</span><span class="p">)</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>        <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">response_array</span><span class="o">=</span><span class="n">campgrounds</span><span class="p">)</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>        <span class="k">return</span> <span class="n">campgrounds</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>    <span class="k">def</span> <span class="nf">_hostname_for</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recreation_area_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>        <span class="k">for</span> <span class="n">hostname</span><span class="p">,</span> <span class="n">recreation_area</span> <span class="ow">in</span> <span class="n">RECREATION_AREAS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">recreation_area</span><span class="o">.</span><span class="n">recreation_area_id</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">recreation_area_id</span><span class="p">):</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>                <span class="k">return</span> <span class="n">hostname</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>        <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>    <span class="k">def</span> <span class="nf">_api_request</span><span class="p">(</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>        <span class="n">rec_area_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>        <span class="n">endpoint_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>            <span class="n">params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>        <span class="n">hostname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hostname_for</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">)</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>        <span class="n">endpoint</span> <span class="o">=</span> <span class="n">ENDPOINTS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">endpoint_name</span><span class="p">)</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>        <span class="n">url</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>        <span class="k">if</span> <span class="n">endpoint</span><span class="p">:</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>            <span class="n">url</span> <span class="o">=</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">hostname</span><span class="p">)</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>        <span class="n">headers</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>        <span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">choice</span><span class="p">(</span><span class="n">USER_AGENTS</span><span class="p">))</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>            <span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>        <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Receiving bad data from GoingToCamp API: status_code: &quot;</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>            <span class="k">raise</span> <span class="ne">ConnectionError</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>    <span class="k">def</span> <span class="nf">_filter_facilities_responses</span><span class="p">(</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">rec_area_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">facilities</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ResourceLocation</span><span class="p">]:</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a><span class="sd">        Filter Facilities to Actual Reservable Campsites</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a><span class="sd">        responses</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a><span class="sd">        -------</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a><span class="sd">        List[dict]</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>        <span class="n">filtered_facilities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>        <span class="k">for</span> <span class="n">facil</span> <span class="ow">in</span> <span class="n">facilities</span><span class="p">:</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>            <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>                <span class="n">location_name</span> <span class="o">=</span> <span class="n">_fetch_nested_key</span><span class="p">(</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>                    <span class="n">facil</span><span class="p">,</span> <span class="s2">&quot;resourceLocationLocalizedValues&quot;</span><span class="p">,</span> <span class="s2">&quot;en-US&quot;</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>                <span class="p">)</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">location_name</span><span class="p">:</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>                    <span class="n">location_name</span> <span class="o">=</span> <span class="n">_fetch_nested_key</span><span class="p">(</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>                        <span class="n">facil</span><span class="p">,</span> <span class="s2">&quot;resourceLocationLocalizedValues&quot;</span><span class="p">,</span> <span class="s2">&quot;en-CA&quot;</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>                    <span class="p">)</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>                <span class="n">park_alerts</span> <span class="o">=</span> <span class="n">_fetch_nested_key</span><span class="p">(</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>                    <span class="n">facil</span><span class="p">,</span> <span class="s2">&quot;park_alerts&quot;</span><span class="p">,</span> <span class="s2">&quot;en-US&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;messageTitle&quot;</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>                <span class="p">)</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">park_alerts</span><span class="p">:</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>                    <span class="n">_fetch_nested_key</span><span class="p">(</span><span class="n">facil</span><span class="p">,</span> <span class="s2">&quot;park_alerts&quot;</span><span class="p">,</span> <span class="s2">&quot;en-CA&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;messageTitle&quot;</span><span class="p">)</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>                <span class="n">facility</span> <span class="o">=</span> <span class="n">ResourceLocation</span><span class="p">(</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>                    <span class="nb">id</span><span class="o">=</span><span class="n">facil</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;mapId&quot;</span><span class="p">),</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>                    <span class="n">park_alerts</span><span class="o">=</span><span class="n">park_alerts</span><span class="p">,</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>                    <span class="n">rec_area_id</span><span class="o">=</span><span class="n">rec_area_id</span><span class="p">,</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>                    <span class="n">resource_categories</span><span class="o">=</span><span class="n">facil</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;resourceCategoryIds&quot;</span><span class="p">),</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>                    <span class="n">resource_location_id</span><span class="o">=</span><span class="n">facil</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;resourceLocationId&quot;</span><span class="p">),</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>                    <span class="n">resource_location_name</span><span class="o">=</span><span class="n">location_name</span><span class="p">,</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>                <span class="p">)</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>            <span class="k">except</span> <span class="n">ValidationError</span><span class="p">:</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;That doesn&#39;t look like a valid Campground Facility&quot;</span><span class="p">)</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">facil</span><span class="p">)</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>                <span class="k">raise</span> <span class="n">ProviderSearchError</span><span class="p">(</span><span class="s2">&quot;Invalid Campground Facility Returned&quot;</span><span class="p">)</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">facility</span><span class="o">.</span><span class="n">resource_categories</span><span class="p">:</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>                <span class="k">continue</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>            <span class="c1"># Resource categories from: /api/resourcecategory</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>                <span class="p">[</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>                    <span class="n">CAMP_SITE</span> <span class="ow">in</span> <span class="n">facility</span><span class="o">.</span><span class="n">resource_categories</span><span class="p">,</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>                    <span class="n">GROUP_SITE</span> <span class="ow">in</span> <span class="n">facility</span><span class="o">.</span><span class="n">resource_categories</span><span class="p">,</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>                    <span class="n">OVERFLOW_SITE</span> <span class="ow">in</span> <span class="n">facility</span><span class="o">.</span><span class="n">resource_categories</span><span class="p">,</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>                <span class="p">]</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>            <span class="p">):</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>                <span class="n">filtered_facilities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">facility</span><span class="p">)</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>        <span class="k">return</span> <span class="n">filtered_facilities</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>    <span class="k">def</span> <span class="nf">_process_facilities_responses</span><span class="p">(</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">rec_area</span><span class="p">:</span> <span class="n">RecreationArea</span><span class="p">,</span> <span class="n">facility</span><span class="p">:</span> <span class="n">ResourceLocation</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]]:</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a><span class="sd">        Process Facilities Responses to be More Usable</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a><span class="sd">        facility: dict</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a><span class="sd">        -------</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a><span class="sd">        Tuple[dict, CampgroundFacility]</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>        <span class="n">details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">campground_details</span><span class="p">[</span><span class="n">facility</span><span class="o">.</span><span class="n">resource_location_id</span><span class="p">]</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>        <span class="n">facility_name</span> <span class="o">=</span> <span class="n">_fetch_nested_key</span><span class="p">(</span><span class="n">details</span><span class="p">,</span> <span class="s2">&quot;localizedValues&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;fullName&quot;</span><span class="p">)</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>        <span class="n">facility_state</span> <span class="o">=</span> <span class="n">_fetch_nested_key</span><span class="p">(</span><span class="n">details</span><span class="p">,</span> <span class="s2">&quot;region&quot;</span><span class="p">)</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>        <span class="n">formatted_recreation_area</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">rec_area</span><span class="o">.</span><span class="n">recreation_area</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">facility_state</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>        <span class="n">campground_facility</span> <span class="o">=</span> <span class="n">CampgroundFacility</span><span class="p">(</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>            <span class="n">facility_name</span><span class="o">=</span><span class="n">facility_name</span><span class="p">,</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>            <span class="n">recreation_area</span><span class="o">=</span><span class="n">formatted_recreation_area</span><span class="p">,</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>            <span class="n">facility_id</span><span class="o">=</span><span class="n">facility</span><span class="o">.</span><span class="n">resource_location_id</span><span class="p">,</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>            <span class="n">recreation_area_id</span><span class="o">=</span><span class="n">facility</span><span class="o">.</span><span class="n">rec_area_id</span><span class="p">,</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>            <span class="n">map_id</span><span class="o">=</span><span class="n">facility</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>        <span class="p">)</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>        <span class="k">return</span> <span class="n">facility</span><span class="p">,</span> <span class="n">campground_facility</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>    <span class="k">def</span> <span class="nf">_find_matching_resources</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rec_area_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">search_filter</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">any</span><span class="p">]):</span>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>        <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">,</span> <span class="s2">&quot;MAPDATA&quot;</span><span class="p">,</span> <span class="n">search_filter</span><span class="p">)</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>        <span class="n">availability_details</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>            <span class="n">search_filter</span><span class="p">[</span><span class="s2">&quot;mapId&quot;</span><span class="p">]:</span> <span class="n">results</span><span class="p">[</span><span class="s2">&quot;resourceAvailabilities&quot;</span><span class="p">]</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>        <span class="p">}</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>        <span class="k">return</span> <span class="n">availability_details</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s2">&quot;mapLinkAvailabilities&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>    <span class="k">def</span> <span class="nf">list_equipment_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rec_area_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a><span class="sd">        List equipment types available for a recreation area</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a><span class="sd">        Params</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a><span class="sd">        ------</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a><span class="sd">        rec_area_id: int</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a><span class="sd">            The ID of the recreation area</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a><span class="sd">        -------</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a><span class="sd">        types: list[GoingToCampEquipment]</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a><span class="sd">            A list of equipment types available to this rec area</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>        <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">,</span> <span class="s2">&quot;LIST_EQUIPMENT&quot;</span><span class="p">)</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>        <span class="n">equipment_types</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>        <span class="c1"># Only allow equipment from non-group equipment category (the 0th</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>        <span class="c1"># element in results)</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>        <span class="k">for</span> <span class="n">sub_category</span> <span class="ow">in</span> <span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;subEquipmentCategories&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>            <span class="n">equipment_name</span> <span class="o">=</span> <span class="n">_fetch_nested_key</span><span class="p">(</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>                <span class="n">sub_category</span><span class="p">,</span> <span class="s2">&quot;localizedValues&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>            <span class="p">)</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>            <span class="n">equipment_id</span> <span class="o">=</span> <span class="n">sub_category</span><span class="p">[</span><span class="s2">&quot;subEquipmentCategoryId&quot;</span><span class="p">]</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>            <span class="n">equipment_types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>                <span class="n">GoingToCampEquipment</span><span class="p">(</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>                    <span class="n">equipment_name</span><span class="o">=</span><span class="n">equipment_name</span><span class="p">,</span> <span class="n">equipment_type_id</span><span class="o">=</span><span class="n">equipment_id</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>                <span class="p">)</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>            <span class="p">)</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>        <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">response_array</span><span class="o">=</span><span class="n">equipment_types</span><span class="p">)</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>        <span class="k">return</span> <span class="n">equipment_types</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>    <span class="k">def</span> <span class="nf">list_site_availability</span><span class="p">(</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>        <span class="n">campground</span><span class="p">:</span> <span class="n">CampgroundFacility</span><span class="p">,</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>        <span class="n">start_date</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>        <span class="n">end_date</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>        <span class="n">equipment_type_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AvailableResource</span><span class="p">]:</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a><span class="sd">        Retrieve the Availability for all Sites in a Camp Area</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a><span class="sd">        Sites are filtered on the provided date range and compatible</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a><span class="sd">        equipment.</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a><span class="sd">        -------</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a><span class="sd">        available_sites: List[AvailableResource]</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a><span class="sd">            The list of available sites</span>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a>        <span class="n">search_filter</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a>            <span class="s2">&quot;mapId&quot;</span><span class="p">:</span> <span class="n">campground</span><span class="o">.</span><span class="n">map_id</span><span class="p">,</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a>            <span class="s2">&quot;resourceLocationId&quot;</span><span class="p">:</span> <span class="n">campground</span><span class="o">.</span><span class="n">facility_id</span><span class="p">,</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a>            <span class="s2">&quot;bookingCategoryId&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>            <span class="s2">&quot;startDate&quot;</span><span class="p">:</span> <span class="n">start_date</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>            <span class="s2">&quot;endDate&quot;</span><span class="p">:</span> <span class="n">end_date</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>            <span class="s2">&quot;isReserving&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>            <span class="s2">&quot;getDailyAvailability&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>            <span class="s2">&quot;partySize&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>            <span class="s2">&quot;equipmentCategoryId&quot;</span><span class="p">:</span> <span class="n">NON_GROUP_EQUIPMENT</span><span class="p">,</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>            <span class="s2">&quot;filterData&quot;</span><span class="p">:</span> <span class="p">[],</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>        <span class="p">}</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>        <span class="k">if</span> <span class="n">equipment_type_id</span><span class="p">:</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a>            <span class="n">search_filter</span><span class="p">[</span><span class="s2">&quot;subEquipmentCategoryId&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">equipment_type_id</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>        <span class="n">resources</span><span class="p">,</span> <span class="n">additional_resources</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_matching_resources</span><span class="p">(</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>            <span class="n">campground</span><span class="o">.</span><span class="n">recreation_area_id</span><span class="p">,</span> <span class="n">search_filter</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>        <span class="p">)</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>        <span class="c1"># Resources are often deeply nested; fetch nested resources</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>        <span class="k">for</span> <span class="n">map_id</span> <span class="ow">in</span> <span class="n">additional_resources</span><span class="p">:</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>            <span class="n">search_filter</span><span class="p">[</span><span class="s2">&quot;mapId&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_id</span>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>            <span class="n">avail</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_matching_resources</span><span class="p">(</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>                <span class="n">campground</span><span class="o">.</span><span class="n">recreation_area_id</span><span class="p">,</span> <span class="n">search_filter</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>            <span class="p">)</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>            <span class="n">resources</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">avail</span><span class="p">)</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>        <span class="n">availabilities</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>        <span class="k">for</span> <span class="n">map_id</span><span class="p">,</span> <span class="n">resource_details</span> <span class="ow">in</span> <span class="n">resources</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>            <span class="k">for</span> <span class="n">resource_id</span><span class="p">,</span> <span class="n">availability_details</span> <span class="ow">in</span> <span class="n">resource_details</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>                <span class="k">if</span> <span class="n">availability_details</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;availability&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>                    <span class="n">ar</span> <span class="o">=</span> <span class="n">AvailableResource</span><span class="p">(</span><span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span> <span class="n">map_id</span><span class="o">=</span><span class="n">map_id</span><span class="p">)</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>                    <span class="n">availabilities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ar</span><span class="p">)</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>        <span class="k">return</span> <span class="n">availabilities</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

<a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.__repr__" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>String Representation</p>
<h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.__repr__--returns">Returns<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.__repr__--returns" title="Permanent link">#</a></h5>
<p>str</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/going_to_camp/going_to_camp_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">    String Representation</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">    -------</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="sd">    str</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>    <span class="k">return</span> <span class="s2">&quot;&lt;GoingToCampProvider&gt;&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_campgrounds" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_campgrounds</span><span class="p">(</span><span class="n">search_string</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rec_area_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">campground_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">campsite_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_campgrounds" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Find Campgrounds Given a Set of Search Criteria</p>
<h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_campgrounds--parameters">Parameters<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_campgrounds--parameters" title="Permanent link">#</a></h5>

<details class="search_string">
  <summary>str</summary>
  <p>Search Keyword(s)</p>
</details>
<details class="rec_area_id">
  <summary>Optional[List[int]]</summary>
  <p>Recreation Area ID by which to filter</p>
</details>
<details class="campground_id">
  <summary>Optional[List[int]]</summary>
  <p>ID of the Campground</p>
</details>      <h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_campgrounds--returns">Returns<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_campgrounds--returns" title="Permanent link">#</a></h5>

<details class="facilities">
  <summary>List[CampgroundFacility]</summary>
  <p>Array of Matching Campgrounds</p>
</details>
      <details class="quote">
        <summary>Source code in <code>camply/providers/going_to_camp/going_to_camp_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-164" name="__codelineno-0-164"></a><span class="k">def</span> <span class="nf">find_campgrounds</span><span class="p">(</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>    <span class="n">search_string</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>    <span class="n">rec_area_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>    <span class="n">campground_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>    <span class="n">campsite_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]:</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a><span class="sd">    Find Campgrounds Given a Set of Search Criteria</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a><span class="sd">    search_string: str</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="sd">        Search Keyword(s)</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="sd">    rec_area_id: Optional[List[int]]</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="sd">        Recreation Area ID by which to filter</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a><span class="sd">    campground_id: Optional[List[int]]</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">        ID of the Campground</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">    -------</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">    facilities: List[CampgroundFacility]</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="sd">        Array of Matching Campgrounds</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>    <span class="k">if</span> <span class="n">rec_area_id</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[],</span> <span class="p">()):</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>            <span class="s2">&quot;This provider requires --rec-area to be specified when seaching for campsites&quot;</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>        <span class="p">)</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_facilities_per_recreation_area</span><span class="p">(</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>        <span class="n">rec_area_id</span><span class="o">=</span><span class="n">rec_area_id</span><span class="p">,</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>        <span class="n">campground_id</span><span class="o">=</span><span class="n">campground_id</span><span class="p">,</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>        <span class="n">searching_string</span><span class="o">=</span><span class="n">search_string</span><span class="p">,</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_facilities_per_recreation_area" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_facilities_per_recreation_area</span><span class="p">(</span><span class="n">rec_area_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">campground_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">search_string</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_facilities_per_recreation_area" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Find Matching Campsites by Recreation Area</p>
<h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_facilities_per_recreation_area--parameters">Parameters<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_facilities_per_recreation_area--parameters" title="Permanent link">#</a></h5>

<details class="rec_area_id">
  <summary>int</summary>
  <p>Recreation Area ID</p>
</details>
<details class="campground_id">
  <summary>Optional[list[int]]</summary>
  <p>Campground IDs</p>
</details>
<details class="search_string">
  <summary>Optional[str]</summary>
  <p>A string to search for in the facility name</p>
</details>      <h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_facilities_per_recreation_area--returns">Returns<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_facilities_per_recreation_area--returns" title="Permanent link">#</a></h5>

<details class="campgrounds">
  <summary>List[CampgroundFacility]</summary>
  <p>Array of Matching Campsites</p>
</details>
      <details class="quote">
        <summary>Source code in <code>camply/providers/going_to_camp/going_to_camp_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-303" name="__codelineno-0-303"></a><span class="k">def</span> <span class="nf">find_facilities_per_recreation_area</span><span class="p">(</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>    <span class="n">rec_area_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>    <span class="n">campground_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>    <span class="n">search_string</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]:</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a><span class="sd">    Find Matching Campsites by Recreation Area</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a><span class="sd">    rec_area_id: int</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a><span class="sd">        Recreation Area ID</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="sd">    campground_id: Optional[list[int]]</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a><span class="sd">        Campground IDs</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a><span class="sd">    search_string: Optional[str]</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">        A string to search for in the facility name</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a><span class="sd">    -------</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a><span class="sd">    campgrounds: List[CampgroundFacility]</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a><span class="sd">        Array of Matching Campsites</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>        <span class="sa">f</span><span class="s2">&quot;Retrieving Facility Information for Recreation Area ID: `</span><span class="si">{</span><span class="n">rec_area_id</span><span class="si">}</span><span class="s2">`.&quot;</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>    <span class="p">)</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>    <span class="n">rec_area</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">ra</span> <span class="ow">in</span> <span class="n">RECREATION_AREAS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">ra</span><span class="o">.</span><span class="n">recreation_area_id</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">):</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>            <span class="n">rec_area</span> <span class="o">=</span> <span class="n">ra</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">rec_area</span><span class="p">:</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recreation area &#39;</span><span class="si">{</span><span class="n">rec_area_id</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">campground_details</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>    <span class="n">api_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">,</span> <span class="s2">&quot;LIST_CAMPGROUNDS&quot;</span><span class="p">)</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>    <span class="n">filtered_facilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_facilities_responses</span><span class="p">(</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>        <span class="n">rec_area_id</span><span class="p">,</span> <span class="n">facilities</span><span class="o">=</span><span class="n">api_response</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>    <span class="p">)</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>    <span class="n">campgrounds</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>    <span class="c1"># Fetch campgrounds details for all facilities</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>    <span class="k">for</span> <span class="n">camp_details</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">,</span> <span class="s2">&quot;CAMP_DETAILS&quot;</span><span class="p">):</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">campground_details</span><span class="p">[</span><span class="n">camp_details</span><span class="p">[</span><span class="s2">&quot;resourceLocationId&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">camp_details</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>    <span class="c1"># If a search string is provided, make sure every facility name contains</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>    <span class="c1"># the search string</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>    <span class="k">if</span> <span class="n">search_string</span> <span class="ow">and</span> <span class="n">search_string</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[[],</span> <span class="p">(),</span> <span class="s2">&quot;&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>        <span class="n">filtered_facilities</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>            <span class="n">f</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">filtered_facilities</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>            <span class="k">if</span> <span class="n">search_string</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">resource_location_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>        <span class="p">]</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>    <span class="k">for</span> <span class="n">facility</span> <span class="ow">in</span> <span class="n">filtered_facilities</span><span class="p">:</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>        <span class="n">_</span><span class="p">,</span> <span class="n">campground_facility</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_facilities_responses</span><span class="p">(</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>            <span class="n">rec_area</span><span class="p">,</span> <span class="n">facility</span><span class="o">=</span><span class="n">facility</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>        <span class="p">)</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">campground_facility</span><span class="p">:</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>            <span class="k">continue</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">campground_id</span><span class="p">:</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>            <span class="n">campgrounds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">campground_facility</span><span class="p">)</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>        <span class="k">if</span> <span class="n">campground_id</span> <span class="ow">and</span> <span class="nb">str</span><span class="p">(</span><span class="n">campground_facility</span><span class="o">.</span><span class="n">facility_id</span><span class="p">)</span> <span class="ow">in</span> <span class="n">campground_id</span><span class="p">:</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>            <span class="n">campgrounds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">campground_facility</span><span class="p">)</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">campgrounds</span><span class="p">)</span><span class="si">}</span><span class="s2"> Matching Campgrounds Found&quot;</span><span class="p">)</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>    <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">response_array</span><span class="o">=</span><span class="n">campgrounds</span><span class="p">)</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>    <span class="k">return</span> <span class="n">campgrounds</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_recreation_areas" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_recreation_areas</span><span class="p">(</span><span class="n">search_string</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_recreation_areas" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Find Matching Recreation Areas based on search string</p>
<h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_recreation_areas--parameters">Parameters<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_recreation_areas--parameters" title="Permanent link">#</a></h5>

<details class="search_string">
  <summary>Optional[str]</summary>
  <p>Search Keyword(s)</p>
</details>      <h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_recreation_areas--returns">Returns<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.find_recreation_areas--returns" title="Permanent link">#</a></h5>

<details class="filtered_responses">
  <summary>List[RecreationArea]</summary>
  <p>Array of Matching Recreation Areas</p>
</details>
      <details class="quote">
        <summary>Source code in <code>camply/providers/going_to_camp/going_to_camp_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="k">def</span> <span class="nf">find_recreation_areas</span><span class="p">(</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">search_string</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">RecreationArea</span><span class="p">]:</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">    Find Matching Recreation Areas based on search string</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">    search_string: Optional[str]</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">        Search Keyword(s)</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="sd">    -------</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a><span class="sd">    filtered_responses: List[RecreationArea]</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a><span class="sd">        Array of Matching Recreation Areas</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Searching for Recreation Areas matching: &quot;</span><span class="si">{</span><span class="n">search_string</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">search_string</span> <span class="ow">or</span> <span class="n">search_string</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>        <span class="n">rec_areas</span> <span class="o">=</span> <span class="n">RECREATION_AREAS</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>        <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">rec_areas</span><span class="p">)</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>        <span class="k">return</span> <span class="n">rec_areas</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>    <span class="n">rec_areas</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">rec_area</span> <span class="ow">in</span> <span class="n">RECREATION_AREAS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>        <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>            <span class="n">search_string</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">rec_area</span><span class="o">.</span><span class="n">recreation_area</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>            <span class="ow">or</span> <span class="n">search_string</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">rec_area</span><span class="o">.</span><span class="n">recreation_area_location</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>        <span class="p">):</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>            <span class="n">rec_areas</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rec_area</span><span class="p">)</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>    <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">rec_areas</span><span class="p">)</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>    <span class="k">return</span> <span class="n">rec_areas</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_reservation_link" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_reservation_link</span><span class="p">(</span><span class="n">rec_area_domain_name</span><span class="p">,</span> <span class="n">resource_location_id</span><span class="p">,</span> <span class="n">map_id</span><span class="p">,</span> <span class="n">equipment_id</span><span class="p">,</span> <span class="n">sub_equipment_id</span><span class="p">,</span> <span class="n">party_size</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span></code>

<a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_reservation_link" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Generate a URL which a site can be booked</p>
<h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_reservation_link--returns">Returns<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_reservation_link--returns" title="Permanent link">#</a></h5>

<details class="url">
  <summary>str</summary>
  <p>The reservation link URL</p>
</details>
      <details class="quote">
        <summary>Source code in <code>camply/providers/going_to_camp/going_to_camp_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-258" name="__codelineno-0-258"></a><span class="k">def</span> <span class="nf">get_reservation_link</span><span class="p">(</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>    <span class="n">rec_area_domain_name</span><span class="p">,</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>    <span class="n">resource_location_id</span><span class="p">,</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a>    <span class="n">map_id</span><span class="p">,</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>    <span class="n">equipment_id</span><span class="p">,</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>    <span class="n">sub_equipment_id</span><span class="p">,</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>    <span class="n">party_size</span><span class="p">,</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>    <span class="n">start_date</span><span class="p">,</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>    <span class="n">end_date</span><span class="p">,</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><span class="p">):</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a><span class="sd">    Generate a URL which a site can be booked</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a><span class="sd">    -------</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a><span class="sd">    url: str</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a><span class="sd">        The reservation link URL</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">sub_equipment_id</span><span class="p">:</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>        <span class="n">sub_equipment_id</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>    <span class="k">return</span> <span class="p">(</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>        <span class="s2">&quot;https://</span><span class="si">%s</span><span class="s2">/create-booking/results?mapId=</span><span class="si">%s</span><span class="s2">&quot;</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>        <span class="s2">&quot;&amp;bookingCategoryId=0&quot;</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>        <span class="s2">&quot;&amp;startDate=</span><span class="si">%s</span><span class="s2">&quot;</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>        <span class="s2">&quot;&amp;endDate=</span><span class="si">%s</span><span class="s2">&quot;</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>        <span class="s2">&quot;&amp;isReserving=true&quot;</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>        <span class="s2">&quot;&amp;equipmentId=</span><span class="si">%s</span><span class="s2">&quot;</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>        <span class="s2">&quot;&amp;subEquipmentId=</span><span class="si">%s</span><span class="s2">&quot;</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>        <span class="s2">&quot;&amp;partySize=</span><span class="si">%s</span><span class="s2">&quot;</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>        <span class="s2">&quot;&amp;resourceLocationId=</span><span class="si">%s</span><span class="s2">&quot;</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>        <span class="o">%</span> <span class="p">(</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>            <span class="n">rec_area_domain_name</span><span class="p">,</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>            <span class="n">map_id</span><span class="p">,</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>            <span class="n">start_date</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>            <span class="n">end_date</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>            <span class="n">equipment_id</span><span class="p">,</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>            <span class="n">sub_equipment_id</span><span class="p">,</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>            <span class="n">party_size</span><span class="p">,</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>            <span class="n">resource_location_id</span><span class="p">,</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>        <span class="p">)</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_site_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_site_details</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">)</span></code>

<a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_site_details" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Get the details about a site in a recreation area</p>
<h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_site_details--parameters">Parameters<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_site_details--parameters" title="Permanent link">#</a></h5>

<details class="search_string">
  <summary>str</summary>
  <p>Search Keyword(s)</p>
</details>
<details class="rec_area_id">
  <summary>Optional[List[int]]</summary>
  <p>Recreation Area ID by which to filter</p>
</details>      <h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_site_details--returns">Returns<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.get_site_details--returns" title="Permanent link">#</a></h5>

<details class="details">
  <summary>dict[str, str]</summary>
  <p>The details about the site</p>
</details>
      <details class="quote">
        <summary>Source code in <code>camply/providers/going_to_camp/going_to_camp_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-209" name="__codelineno-0-209"></a><span class="k">def</span> <span class="nf">get_site_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rec_area_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a><span class="sd">    Get the details about a site in a recreation area</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a><span class="sd">    search_string: str</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a><span class="sd">        Search Keyword(s)</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a><span class="sd">    rec_area_id: Optional[List[int]]</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><span class="sd">        Recreation Area ID by which to filter</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">    -------</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a><span class="sd">    details: dict[str, str]</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a><span class="sd">        The details about the site</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_attribute_details&quot;</span><span class="p">):</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_attribute_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request</span><span class="p">(</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>            <span class="n">rec_area_id</span><span class="p">,</span> <span class="s2">&quot;ATTRIBUTE_DETAILS&quot;</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>        <span class="p">)</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>    <span class="n">attribute_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attribute_details</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>    <span class="n">site_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request</span><span class="p">(</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>        <span class="n">rec_area_id</span><span class="p">,</span> <span class="s2">&quot;SITE_DETAILS&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;resourceId&quot;</span><span class="p">:</span> <span class="n">resource_id</span><span class="p">}</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>    <span class="p">)</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>    <span class="n">site_attributes</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>    <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="n">site_details</span><span class="p">[</span><span class="s2">&quot;definedAttributes&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>        <span class="n">attribute_detail</span> <span class="o">=</span> <span class="n">attribute_details</span><span class="p">[</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">attribute</span><span class="p">[</span><span class="s1">&#39;attributeDefinitionId&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>        <span class="p">]</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>        <span class="n">attribute_name</span> <span class="o">=</span> <span class="n">_fetch_nested_key</span><span class="p">(</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>            <span class="n">attribute_detail</span><span class="p">,</span> <span class="s2">&quot;localizedValues&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;displayName&quot;</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>        <span class="p">)</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>        <span class="n">attribute_value</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>        <span class="n">attribute_values</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>        <span class="c1"># Attribute a multi-value enum</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">attribute_value</span><span class="p">:</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>            <span class="n">attr_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_attr_val</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="n">attribute_detail</span><span class="p">)</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">attr_value</span><span class="p">:</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>                <span class="k">continue</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>            <span class="n">attribute_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attr_value</span><span class="p">)</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>            <span class="n">attribute_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">attribute_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>        <span class="n">site_attributes</span><span class="p">[</span><span class="n">attribute_name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">attribute_values</span><span class="p">)</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>    <span class="n">site_details</span><span class="p">[</span><span class="s2">&quot;site_attributes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">site_attributes</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>    <span class="k">return</span> <span class="n">site_details</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_equipment_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_equipment_types</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">)</span></code>

<a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_equipment_types" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>List equipment types available for a recreation area</p>
<h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_equipment_types--params">Params<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_equipment_types--params" title="Permanent link">#</a></h5>

<details class="rec_area_id">
  <summary>int</summary>
  <p>The ID of the recreation area</p>
</details>      <h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_equipment_types--returns">Returns<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_equipment_types--returns" title="Permanent link">#</a></h5>

<details class="types">
  <summary>list[GoingToCampEquipment]</summary>
  <p>A list of equipment types available to this rec area</p>
</details>
      <details class="quote">
        <summary>Source code in <code>camply/providers/going_to_camp/going_to_camp_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-506" name="__codelineno-0-506"></a><span class="k">def</span> <span class="nf">list_equipment_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rec_area_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a><span class="sd">    List equipment types available for a recreation area</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a><span class="sd">    Params</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a><span class="sd">    ------</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a><span class="sd">    rec_area_id: int</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a><span class="sd">        The ID of the recreation area</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a><span class="sd">    -------</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a><span class="sd">    types: list[GoingToCampEquipment]</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a><span class="sd">        A list of equipment types available to this rec area</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>    <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">,</span> <span class="s2">&quot;LIST_EQUIPMENT&quot;</span><span class="p">)</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>    <span class="n">equipment_types</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>    <span class="c1"># Only allow equipment from non-group equipment category (the 0th</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>    <span class="c1"># element in results)</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>    <span class="k">for</span> <span class="n">sub_category</span> <span class="ow">in</span> <span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;subEquipmentCategories&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>        <span class="n">equipment_name</span> <span class="o">=</span> <span class="n">_fetch_nested_key</span><span class="p">(</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>            <span class="n">sub_category</span><span class="p">,</span> <span class="s2">&quot;localizedValues&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>        <span class="p">)</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>        <span class="n">equipment_id</span> <span class="o">=</span> <span class="n">sub_category</span><span class="p">[</span><span class="s2">&quot;subEquipmentCategoryId&quot;</span><span class="p">]</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>        <span class="n">equipment_types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>            <span class="n">GoingToCampEquipment</span><span class="p">(</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>                <span class="n">equipment_name</span><span class="o">=</span><span class="n">equipment_name</span><span class="p">,</span> <span class="n">equipment_type_id</span><span class="o">=</span><span class="n">equipment_id</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>            <span class="p">)</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>        <span class="p">)</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>    <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">response_array</span><span class="o">=</span><span class="n">equipment_types</span><span class="p">)</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>    <span class="k">return</span> <span class="n">equipment_types</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_site_availability" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_site_availability</span><span class="p">(</span><span class="n">campground</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">,</span> <span class="n">equipment_type_id</span><span class="p">)</span></code>

<a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_site_availability" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Retrieve the Availability for all Sites in a Camp Area</p>
<p>Sites are filtered on the provided date range and compatible
equipment.</p>
<h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_site_availability--returns">Returns<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.list_site_availability--returns" title="Permanent link">#</a></h5>

<details class="available_sites">
  <summary>List[AvailableResource]</summary>
  <p>The list of available sites</p>
</details>
      <details class="quote">
        <summary>Source code in <code>camply/providers/going_to_camp/going_to_camp_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-539" name="__codelineno-0-539"></a><span class="k">def</span> <span class="nf">list_site_availability</span><span class="p">(</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>    <span class="n">campground</span><span class="p">:</span> <span class="n">CampgroundFacility</span><span class="p">,</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>    <span class="n">start_date</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>    <span class="n">end_date</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>    <span class="n">equipment_type_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AvailableResource</span><span class="p">]:</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a><span class="sd">    Retrieve the Availability for all Sites in a Camp Area</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a><span class="sd">    Sites are filtered on the provided date range and compatible</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a><span class="sd">    equipment.</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a><span class="sd">    -------</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a><span class="sd">    available_sites: List[AvailableResource]</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a><span class="sd">        The list of available sites</span>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a>    <span class="n">search_filter</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a>        <span class="s2">&quot;mapId&quot;</span><span class="p">:</span> <span class="n">campground</span><span class="o">.</span><span class="n">map_id</span><span class="p">,</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a>        <span class="s2">&quot;resourceLocationId&quot;</span><span class="p">:</span> <span class="n">campground</span><span class="o">.</span><span class="n">facility_id</span><span class="p">,</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a>        <span class="s2">&quot;bookingCategoryId&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>        <span class="s2">&quot;startDate&quot;</span><span class="p">:</span> <span class="n">start_date</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>        <span class="s2">&quot;endDate&quot;</span><span class="p">:</span> <span class="n">end_date</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>        <span class="s2">&quot;isReserving&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>        <span class="s2">&quot;getDailyAvailability&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>        <span class="s2">&quot;partySize&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>        <span class="s2">&quot;equipmentCategoryId&quot;</span><span class="p">:</span> <span class="n">NON_GROUP_EQUIPMENT</span><span class="p">,</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>        <span class="s2">&quot;filterData&quot;</span><span class="p">:</span> <span class="p">[],</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>    <span class="p">}</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>    <span class="k">if</span> <span class="n">equipment_type_id</span><span class="p">:</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a>        <span class="n">search_filter</span><span class="p">[</span><span class="s2">&quot;subEquipmentCategoryId&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">equipment_type_id</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>    <span class="n">resources</span><span class="p">,</span> <span class="n">additional_resources</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_matching_resources</span><span class="p">(</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>        <span class="n">campground</span><span class="o">.</span><span class="n">recreation_area_id</span><span class="p">,</span> <span class="n">search_filter</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>    <span class="p">)</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>    <span class="c1"># Resources are often deeply nested; fetch nested resources</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>    <span class="k">for</span> <span class="n">map_id</span> <span class="ow">in</span> <span class="n">additional_resources</span><span class="p">:</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>        <span class="n">search_filter</span><span class="p">[</span><span class="s2">&quot;mapId&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_id</span>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>        <span class="n">avail</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_matching_resources</span><span class="p">(</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>            <span class="n">campground</span><span class="o">.</span><span class="n">recreation_area_id</span><span class="p">,</span> <span class="n">search_filter</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>        <span class="p">)</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>        <span class="n">resources</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">avail</span><span class="p">)</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>    <span class="n">availabilities</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>    <span class="k">for</span> <span class="n">map_id</span><span class="p">,</span> <span class="n">resource_details</span> <span class="ow">in</span> <span class="n">resources</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>        <span class="k">for</span> <span class="n">resource_id</span><span class="p">,</span> <span class="n">availability_details</span> <span class="ow">in</span> <span class="n">resource_details</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>            <span class="k">if</span> <span class="n">availability_details</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;availability&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>                <span class="n">ar</span> <span class="o">=</span> <span class="n">AvailableResource</span><span class="p">(</span><span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span> <span class="n">map_id</span><span class="o">=</span><span class="n">map_id</span><span class="p">)</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>                <span class="n">availabilities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ar</span><span class="p">)</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>    <span class="k">return</span> <span class="n">availabilities</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.rec_area_lookup" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rec_area_lookup</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">)</span></code>

<a href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.rec_area_lookup" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Lookup a recreation area by ID</p>
<h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.rec_area_lookup--parameters">Parameters<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.rec_area_lookup--parameters" title="Permanent link">#</a></h5>

<details class="rec_ara_id">
  <summary>int</summary>
  <p>The recreation area ID to lookup</p>
</details>      <h5 id="camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.rec_area_lookup--returns">Returns<a class="headerlink" href="#camply.providers.going_to_camp.going_to_camp_provider.GoingToCampProvider.rec_area_lookup--returns" title="Permanent link">#</a></h5>
<p>domain_name, rec_ara: Tuple[str, RecreationArea]
    The rec area's domain name and the recreation area object</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/going_to_camp/going_to_camp_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-146" name="__codelineno-0-146"></a><span class="k">def</span> <span class="nf">rec_area_lookup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rec_area_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">RecreationArea</span><span class="p">):</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="sd">    Lookup a recreation area by ID</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a><span class="sd">    rec_ara_id: int</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="sd">        The recreation area ID to lookup</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">    -------</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">    domain_name, rec_ara: Tuple[str, RecreationArea]</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">        The rec area&#39;s domain name and the recreation area object</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>    <span class="k">for</span> <span class="n">domain_name</span><span class="p">,</span> <span class="n">rec_area</span> <span class="ow">in</span> <span class="n">RECREATION_AREAS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">rec_area</span><span class="o">.</span><span class="n">recreation_area_id</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">rec_area_id</span><span class="p">):</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>            <span class="k">return</span> <span class="n">domain_name</span><span class="p">,</span> <span class="n">rec_area</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="camply.RecreationDotGov" class="doc doc-heading">
        <code>RecreationDotGov</code>


<a href="#camply.RecreationDotGov" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="camply.providers.base_provider.BaseProvider" href="providers/base_provider/#camply.providers.base_provider.BaseProvider">BaseProvider</a></code></p>

  
      <p>Python Class for Working with Recreation.gov API / NPS APIs</p>


        <details class="quote">
          <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-0-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-0-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span>
<span class="normal"><a href="#__codelineno-0-615">615</a></span>
<span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span>
<span class="normal"><a href="#__codelineno-0-628">628</a></span>
<span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span>
<span class="normal"><a href="#__codelineno-0-635">635</a></span>
<span class="normal"><a href="#__codelineno-0-636">636</a></span>
<span class="normal"><a href="#__codelineno-0-637">637</a></span>
<span class="normal"><a href="#__codelineno-0-638">638</a></span>
<span class="normal"><a href="#__codelineno-0-639">639</a></span>
<span class="normal"><a href="#__codelineno-0-640">640</a></span>
<span class="normal"><a href="#__codelineno-0-641">641</a></span>
<span class="normal"><a href="#__codelineno-0-642">642</a></span>
<span class="normal"><a href="#__codelineno-0-643">643</a></span>
<span class="normal"><a href="#__codelineno-0-644">644</a></span>
<span class="normal"><a href="#__codelineno-0-645">645</a></span>
<span class="normal"><a href="#__codelineno-0-646">646</a></span>
<span class="normal"><a href="#__codelineno-0-647">647</a></span>
<span class="normal"><a href="#__codelineno-0-648">648</a></span>
<span class="normal"><a href="#__codelineno-0-649">649</a></span>
<span class="normal"><a href="#__codelineno-0-650">650</a></span>
<span class="normal"><a href="#__codelineno-0-651">651</a></span>
<span class="normal"><a href="#__codelineno-0-652">652</a></span>
<span class="normal"><a href="#__codelineno-0-653">653</a></span>
<span class="normal"><a href="#__codelineno-0-654">654</a></span>
<span class="normal"><a href="#__codelineno-0-655">655</a></span>
<span class="normal"><a href="#__codelineno-0-656">656</a></span>
<span class="normal"><a href="#__codelineno-0-657">657</a></span>
<span class="normal"><a href="#__codelineno-0-658">658</a></span>
<span class="normal"><a href="#__codelineno-0-659">659</a></span>
<span class="normal"><a href="#__codelineno-0-660">660</a></span>
<span class="normal"><a href="#__codelineno-0-661">661</a></span>
<span class="normal"><a href="#__codelineno-0-662">662</a></span>
<span class="normal"><a href="#__codelineno-0-663">663</a></span>
<span class="normal"><a href="#__codelineno-0-664">664</a></span>
<span class="normal"><a href="#__codelineno-0-665">665</a></span>
<span class="normal"><a href="#__codelineno-0-666">666</a></span>
<span class="normal"><a href="#__codelineno-0-667">667</a></span>
<span class="normal"><a href="#__codelineno-0-668">668</a></span>
<span class="normal"><a href="#__codelineno-0-669">669</a></span>
<span class="normal"><a href="#__codelineno-0-670">670</a></span>
<span class="normal"><a href="#__codelineno-0-671">671</a></span>
<span class="normal"><a href="#__codelineno-0-672">672</a></span>
<span class="normal"><a href="#__codelineno-0-673">673</a></span>
<span class="normal"><a href="#__codelineno-0-674">674</a></span>
<span class="normal"><a href="#__codelineno-0-675">675</a></span>
<span class="normal"><a href="#__codelineno-0-676">676</a></span>
<span class="normal"><a href="#__codelineno-0-677">677</a></span>
<span class="normal"><a href="#__codelineno-0-678">678</a></span>
<span class="normal"><a href="#__codelineno-0-679">679</a></span>
<span class="normal"><a href="#__codelineno-0-680">680</a></span>
<span class="normal"><a href="#__codelineno-0-681">681</a></span>
<span class="normal"><a href="#__codelineno-0-682">682</a></span>
<span class="normal"><a href="#__codelineno-0-683">683</a></span>
<span class="normal"><a href="#__codelineno-0-684">684</a></span>
<span class="normal"><a href="#__codelineno-0-685">685</a></span>
<span class="normal"><a href="#__codelineno-0-686">686</a></span>
<span class="normal"><a href="#__codelineno-0-687">687</a></span>
<span class="normal"><a href="#__codelineno-0-688">688</a></span>
<span class="normal"><a href="#__codelineno-0-689">689</a></span>
<span class="normal"><a href="#__codelineno-0-690">690</a></span>
<span class="normal"><a href="#__codelineno-0-691">691</a></span>
<span class="normal"><a href="#__codelineno-0-692">692</a></span>
<span class="normal"><a href="#__codelineno-0-693">693</a></span>
<span class="normal"><a href="#__codelineno-0-694">694</a></span>
<span class="normal"><a href="#__codelineno-0-695">695</a></span>
<span class="normal"><a href="#__codelineno-0-696">696</a></span>
<span class="normal"><a href="#__codelineno-0-697">697</a></span>
<span class="normal"><a href="#__codelineno-0-698">698</a></span>
<span class="normal"><a href="#__codelineno-0-699">699</a></span>
<span class="normal"><a href="#__codelineno-0-700">700</a></span>
<span class="normal"><a href="#__codelineno-0-701">701</a></span>
<span class="normal"><a href="#__codelineno-0-702">702</a></span>
<span class="normal"><a href="#__codelineno-0-703">703</a></span>
<span class="normal"><a href="#__codelineno-0-704">704</a></span>
<span class="normal"><a href="#__codelineno-0-705">705</a></span>
<span class="normal"><a href="#__codelineno-0-706">706</a></span>
<span class="normal"><a href="#__codelineno-0-707">707</a></span>
<span class="normal"><a href="#__codelineno-0-708">708</a></span>
<span class="normal"><a href="#__codelineno-0-709">709</a></span>
<span class="normal"><a href="#__codelineno-0-710">710</a></span>
<span class="normal"><a href="#__codelineno-0-711">711</a></span>
<span class="normal"><a href="#__codelineno-0-712">712</a></span>
<span class="normal"><a href="#__codelineno-0-713">713</a></span>
<span class="normal"><a href="#__codelineno-0-714">714</a></span>
<span class="normal"><a href="#__codelineno-0-715">715</a></span>
<span class="normal"><a href="#__codelineno-0-716">716</a></span>
<span class="normal"><a href="#__codelineno-0-717">717</a></span>
<span class="normal"><a href="#__codelineno-0-718">718</a></span>
<span class="normal"><a href="#__codelineno-0-719">719</a></span>
<span class="normal"><a href="#__codelineno-0-720">720</a></span>
<span class="normal"><a href="#__codelineno-0-721">721</a></span>
<span class="normal"><a href="#__codelineno-0-722">722</a></span>
<span class="normal"><a href="#__codelineno-0-723">723</a></span>
<span class="normal"><a href="#__codelineno-0-724">724</a></span>
<span class="normal"><a href="#__codelineno-0-725">725</a></span>
<span class="normal"><a href="#__codelineno-0-726">726</a></span>
<span class="normal"><a href="#__codelineno-0-727">727</a></span>
<span class="normal"><a href="#__codelineno-0-728">728</a></span>
<span class="normal"><a href="#__codelineno-0-729">729</a></span>
<span class="normal"><a href="#__codelineno-0-730">730</a></span>
<span class="normal"><a href="#__codelineno-0-731">731</a></span>
<span class="normal"><a href="#__codelineno-0-732">732</a></span>
<span class="normal"><a href="#__codelineno-0-733">733</a></span>
<span class="normal"><a href="#__codelineno-0-734">734</a></span>
<span class="normal"><a href="#__codelineno-0-735">735</a></span>
<span class="normal"><a href="#__codelineno-0-736">736</a></span>
<span class="normal"><a href="#__codelineno-0-737">737</a></span>
<span class="normal"><a href="#__codelineno-0-738">738</a></span>
<span class="normal"><a href="#__codelineno-0-739">739</a></span>
<span class="normal"><a href="#__codelineno-0-740">740</a></span>
<span class="normal"><a href="#__codelineno-0-741">741</a></span>
<span class="normal"><a href="#__codelineno-0-742">742</a></span>
<span class="normal"><a href="#__codelineno-0-743">743</a></span>
<span class="normal"><a href="#__codelineno-0-744">744</a></span>
<span class="normal"><a href="#__codelineno-0-745">745</a></span>
<span class="normal"><a href="#__codelineno-0-746">746</a></span>
<span class="normal"><a href="#__codelineno-0-747">747</a></span>
<span class="normal"><a href="#__codelineno-0-748">748</a></span>
<span class="normal"><a href="#__codelineno-0-749">749</a></span>
<span class="normal"><a href="#__codelineno-0-750">750</a></span>
<span class="normal"><a href="#__codelineno-0-751">751</a></span>
<span class="normal"><a href="#__codelineno-0-752">752</a></span>
<span class="normal"><a href="#__codelineno-0-753">753</a></span>
<span class="normal"><a href="#__codelineno-0-754">754</a></span>
<span class="normal"><a href="#__codelineno-0-755">755</a></span>
<span class="normal"><a href="#__codelineno-0-756">756</a></span>
<span class="normal"><a href="#__codelineno-0-757">757</a></span>
<span class="normal"><a href="#__codelineno-0-758">758</a></span>
<span class="normal"><a href="#__codelineno-0-759">759</a></span>
<span class="normal"><a href="#__codelineno-0-760">760</a></span>
<span class="normal"><a href="#__codelineno-0-761">761</a></span>
<span class="normal"><a href="#__codelineno-0-762">762</a></span>
<span class="normal"><a href="#__codelineno-0-763">763</a></span>
<span class="normal"><a href="#__codelineno-0-764">764</a></span>
<span class="normal"><a href="#__codelineno-0-765">765</a></span>
<span class="normal"><a href="#__codelineno-0-766">766</a></span>
<span class="normal"><a href="#__codelineno-0-767">767</a></span>
<span class="normal"><a href="#__codelineno-0-768">768</a></span>
<span class="normal"><a href="#__codelineno-0-769">769</a></span>
<span class="normal"><a href="#__codelineno-0-770">770</a></span>
<span class="normal"><a href="#__codelineno-0-771">771</a></span>
<span class="normal"><a href="#__codelineno-0-772">772</a></span>
<span class="normal"><a href="#__codelineno-0-773">773</a></span>
<span class="normal"><a href="#__codelineno-0-774">774</a></span>
<span class="normal"><a href="#__codelineno-0-775">775</a></span>
<span class="normal"><a href="#__codelineno-0-776">776</a></span>
<span class="normal"><a href="#__codelineno-0-777">777</a></span>
<span class="normal"><a href="#__codelineno-0-778">778</a></span>
<span class="normal"><a href="#__codelineno-0-779">779</a></span>
<span class="normal"><a href="#__codelineno-0-780">780</a></span>
<span class="normal"><a href="#__codelineno-0-781">781</a></span>
<span class="normal"><a href="#__codelineno-0-782">782</a></span>
<span class="normal"><a href="#__codelineno-0-783">783</a></span>
<span class="normal"><a href="#__codelineno-0-784">784</a></span>
<span class="normal"><a href="#__codelineno-0-785">785</a></span>
<span class="normal"><a href="#__codelineno-0-786">786</a></span>
<span class="normal"><a href="#__codelineno-0-787">787</a></span>
<span class="normal"><a href="#__codelineno-0-788">788</a></span>
<span class="normal"><a href="#__codelineno-0-789">789</a></span>
<span class="normal"><a href="#__codelineno-0-790">790</a></span>
<span class="normal"><a href="#__codelineno-0-791">791</a></span>
<span class="normal"><a href="#__codelineno-0-792">792</a></span>
<span class="normal"><a href="#__codelineno-0-793">793</a></span>
<span class="normal"><a href="#__codelineno-0-794">794</a></span>
<span class="normal"><a href="#__codelineno-0-795">795</a></span>
<span class="normal"><a href="#__codelineno-0-796">796</a></span>
<span class="normal"><a href="#__codelineno-0-797">797</a></span>
<span class="normal"><a href="#__codelineno-0-798">798</a></span>
<span class="normal"><a href="#__codelineno-0-799">799</a></span>
<span class="normal"><a href="#__codelineno-0-800">800</a></span>
<span class="normal"><a href="#__codelineno-0-801">801</a></span>
<span class="normal"><a href="#__codelineno-0-802">802</a></span>
<span class="normal"><a href="#__codelineno-0-803">803</a></span>
<span class="normal"><a href="#__codelineno-0-804">804</a></span>
<span class="normal"><a href="#__codelineno-0-805">805</a></span>
<span class="normal"><a href="#__codelineno-0-806">806</a></span>
<span class="normal"><a href="#__codelineno-0-807">807</a></span>
<span class="normal"><a href="#__codelineno-0-808">808</a></span>
<span class="normal"><a href="#__codelineno-0-809">809</a></span>
<span class="normal"><a href="#__codelineno-0-810">810</a></span>
<span class="normal"><a href="#__codelineno-0-811">811</a></span>
<span class="normal"><a href="#__codelineno-0-812">812</a></span>
<span class="normal"><a href="#__codelineno-0-813">813</a></span>
<span class="normal"><a href="#__codelineno-0-814">814</a></span>
<span class="normal"><a href="#__codelineno-0-815">815</a></span>
<span class="normal"><a href="#__codelineno-0-816">816</a></span>
<span class="normal"><a href="#__codelineno-0-817">817</a></span>
<span class="normal"><a href="#__codelineno-0-818">818</a></span>
<span class="normal"><a href="#__codelineno-0-819">819</a></span>
<span class="normal"><a href="#__codelineno-0-820">820</a></span>
<span class="normal"><a href="#__codelineno-0-821">821</a></span>
<span class="normal"><a href="#__codelineno-0-822">822</a></span>
<span class="normal"><a href="#__codelineno-0-823">823</a></span>
<span class="normal"><a href="#__codelineno-0-824">824</a></span>
<span class="normal"><a href="#__codelineno-0-825">825</a></span>
<span class="normal"><a href="#__codelineno-0-826">826</a></span>
<span class="normal"><a href="#__codelineno-0-827">827</a></span>
<span class="normal"><a href="#__codelineno-0-828">828</a></span>
<span class="normal"><a href="#__codelineno-0-829">829</a></span>
<span class="normal"><a href="#__codelineno-0-830">830</a></span>
<span class="normal"><a href="#__codelineno-0-831">831</a></span>
<span class="normal"><a href="#__codelineno-0-832">832</a></span>
<span class="normal"><a href="#__codelineno-0-833">833</a></span>
<span class="normal"><a href="#__codelineno-0-834">834</a></span>
<span class="normal"><a href="#__codelineno-0-835">835</a></span>
<span class="normal"><a href="#__codelineno-0-836">836</a></span>
<span class="normal"><a href="#__codelineno-0-837">837</a></span>
<span class="normal"><a href="#__codelineno-0-838">838</a></span>
<span class="normal"><a href="#__codelineno-0-839">839</a></span>
<span class="normal"><a href="#__codelineno-0-840">840</a></span>
<span class="normal"><a href="#__codelineno-0-841">841</a></span>
<span class="normal"><a href="#__codelineno-0-842">842</a></span>
<span class="normal"><a href="#__codelineno-0-843">843</a></span>
<span class="normal"><a href="#__codelineno-0-844">844</a></span>
<span class="normal"><a href="#__codelineno-0-845">845</a></span>
<span class="normal"><a href="#__codelineno-0-846">846</a></span>
<span class="normal"><a href="#__codelineno-0-847">847</a></span>
<span class="normal"><a href="#__codelineno-0-848">848</a></span>
<span class="normal"><a href="#__codelineno-0-849">849</a></span>
<span class="normal"><a href="#__codelineno-0-850">850</a></span>
<span class="normal"><a href="#__codelineno-0-851">851</a></span>
<span class="normal"><a href="#__codelineno-0-852">852</a></span>
<span class="normal"><a href="#__codelineno-0-853">853</a></span>
<span class="normal"><a href="#__codelineno-0-854">854</a></span>
<span class="normal"><a href="#__codelineno-0-855">855</a></span>
<span class="normal"><a href="#__codelineno-0-856">856</a></span>
<span class="normal"><a href="#__codelineno-0-857">857</a></span>
<span class="normal"><a href="#__codelineno-0-858">858</a></span>
<span class="normal"><a href="#__codelineno-0-859">859</a></span>
<span class="normal"><a href="#__codelineno-0-860">860</a></span>
<span class="normal"><a href="#__codelineno-0-861">861</a></span>
<span class="normal"><a href="#__codelineno-0-862">862</a></span>
<span class="normal"><a href="#__codelineno-0-863">863</a></span>
<span class="normal"><a href="#__codelineno-0-864">864</a></span>
<span class="normal"><a href="#__codelineno-0-865">865</a></span>
<span class="normal"><a href="#__codelineno-0-866">866</a></span>
<span class="normal"><a href="#__codelineno-0-867">867</a></span>
<span class="normal"><a href="#__codelineno-0-868">868</a></span>
<span class="normal"><a href="#__codelineno-0-869">869</a></span>
<span class="normal"><a href="#__codelineno-0-870">870</a></span>
<span class="normal"><a href="#__codelineno-0-871">871</a></span>
<span class="normal"><a href="#__codelineno-0-872">872</a></span>
<span class="normal"><a href="#__codelineno-0-873">873</a></span>
<span class="normal"><a href="#__codelineno-0-874">874</a></span>
<span class="normal"><a href="#__codelineno-0-875">875</a></span>
<span class="normal"><a href="#__codelineno-0-876">876</a></span>
<span class="normal"><a href="#__codelineno-0-877">877</a></span>
<span class="normal"><a href="#__codelineno-0-878">878</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="k">class</span> <span class="nc">RecreationDotGov</span><span class="p">(</span><span class="n">BaseProvider</span><span class="p">):</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">    Python Class for Working with Recreation.gov API / NPS APIs</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">        Initialize with Search Dates</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>        <span class="k">if</span> <span class="n">api_key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>            <span class="n">_api_key</span> <span class="o">=</span> <span class="n">RIDBConfig</span><span class="o">.</span><span class="n">API_KEY</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_api_key</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>                <span class="n">_api_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">b64decode</span><span class="p">(</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">API_KEY</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>            <span class="n">_api_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">api_key</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ridb_api_headers</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">accept</span><span class="o">=</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span> <span class="n">apikey</span><span class="o">=</span><span class="n">_api_key</span><span class="p">)</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">        String Representation</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="sd">        -------</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">        str</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>        <span class="k">return</span> <span class="s2">&quot;&lt;RecreationDotGov&gt;&quot;</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a>    <span class="k">def</span> <span class="nf">find_recreation_areas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_string</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">        Find Matching Campsites Based on Search String</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="sd">        search_string: str</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">            Search Keyword(s)</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">        -------</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">        filtered_responses: List[dict]</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">            Array of Matching Campsites</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>            <span class="k">assert</span> <span class="nb">any</span><span class="p">(</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>                <span class="p">[</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>                    <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>                    <span class="n">search_string</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">search_string</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>                <span class="p">]</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>            <span class="p">)</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>        <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>                <span class="s2">&quot;You must provide a search query or state(s) &quot;</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>                <span class="s2">&quot;to find Recreation Areas&quot;</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>            <span class="p">)</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Searching for Recreation Areas: &quot;</span><span class="si">{</span><span class="n">search_string</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>        <span class="n">state_arg</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>        <span class="k">if</span> <span class="n">state_arg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>            <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">state_arg</span><span class="o">.</span><span class="n">upper</span><span class="p">()})</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>        <span class="n">params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="n">search_string</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="n">full</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>        <span class="k">if</span> <span class="n">search_string</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>            <span class="n">params</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>        <span class="n">api_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ridb_get_paginate</span><span class="p">(</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>            <span class="n">path</span><span class="o">=</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">REC_AREA_API_PATH</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>        <span class="p">)</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">api_response</span><span class="p">)</span><span class="si">}</span><span class="s2"> recreation areas found.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>        <span class="n">logging_messages</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>        <span class="k">for</span> <span class="n">recreation_area_object</span> <span class="ow">in</span> <span class="n">api_response</span><span class="p">:</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>            <span class="n">_</span><span class="p">,</span> <span class="n">recreation_area</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_rec_area_response</span><span class="p">(</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>                <span class="n">recreation_area</span><span class="o">=</span><span class="n">recreation_area_object</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>            <span class="p">)</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>            <span class="k">if</span> <span class="n">recreation_area</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>                <span class="n">logging_messages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">recreation_area</span><span class="p">)</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>        <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">response_array</span><span class="o">=</span><span class="n">logging_messages</span><span class="p">)</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>        <span class="k">return</span> <span class="n">api_response</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>    <span class="k">def</span> <span class="nf">find_campgrounds</span><span class="p">(</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>        <span class="n">search_string</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>        <span class="n">rec_area_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>        <span class="n">campground_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>        <span class="n">campsite_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]:</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="sd">        Find Bookable Campgrounds Given a Set of Search Criteria</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="sd">        search_string: str</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a><span class="sd">            Search Keyword(s)</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">        rec_area_id: Optional[List[int]]</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="sd">            Recreation Area ID to filter with</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">        campground_id: Optional[List[int]]</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">            ID of the Campground</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">        campsite_id: Optional[List[int]]</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">            ID of the Campsite</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="sd">        -------</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a><span class="sd">        facilities: List[CampgroundFacility]</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a><span class="sd">            Array of Matching Campsites</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>        <span class="k">if</span> <span class="n">campsite_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[],</span> <span class="p">()):</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>            <span class="n">facilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_specific_campsites_provided</span><span class="p">(</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>                <span class="n">campsite_id</span><span class="o">=</span><span class="n">campsite_id</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>            <span class="p">)</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>        <span class="k">elif</span> <span class="n">campground_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[],</span> <span class="p">()):</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>            <span class="n">facilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_facilities_from_campgrounds</span><span class="p">(</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>                <span class="n">campground_id</span><span class="o">=</span><span class="n">campground_id</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>            <span class="p">)</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>        <span class="k">elif</span> <span class="n">rec_area_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[],</span> <span class="p">()):</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>            <span class="n">facilities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>            <span class="k">for</span> <span class="n">recreation_area</span> <span class="ow">in</span> <span class="n">rec_area_id</span><span class="p">:</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>                <span class="n">facilities</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_facilities_per_recreation_area</span><span class="p">(</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>                    <span class="n">rec_area_id</span><span class="o">=</span><span class="n">recreation_area</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>                <span class="p">)</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>            <span class="n">state_arg</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>            <span class="k">if</span> <span class="n">state_arg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>                <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">state_arg</span><span class="o">.</span><span class="n">upper</span><span class="p">()})</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>            <span class="k">if</span> <span class="n">search_string</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="ow">and</span> <span class="n">state_arg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>                    <span class="s2">&quot;You must provide a search query or state to find campsites&quot;</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>                <span class="p">)</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>            <span class="n">facilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_facilities_from_search</span><span class="p">(</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>                <span class="n">search</span><span class="o">=</span><span class="n">search_string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>            <span class="p">)</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>        <span class="k">return</span> <span class="n">facilities</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>    <span class="k">def</span> <span class="nf">find_facilities_per_recreation_area</span><span class="p">(</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">rec_area_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]:</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="sd">        Find Matching Campsites Based from Recreation Area</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="sd">        rec_area_id: int</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="sd">            Recreation Area ID</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">        -------</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">        campgrounds: List[CampgroundFacility]</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">            Array of Matching Campsites</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>            <span class="sa">f</span><span class="s2">&quot;Retrieving Facility Information for Recreation Area ID: `</span><span class="si">{</span><span class="n">rec_area_id</span><span class="si">}</span><span class="s2">`.&quot;</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>        <span class="p">)</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>        <span class="n">api_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">REC_AREA_API_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">rec_area_id</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">FACILITIES_API_PATH</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>        <span class="n">api_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ridb_get_paginate</span><span class="p">(</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>            <span class="n">path</span><span class="o">=</span><span class="n">api_path</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">full</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>        <span class="p">)</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>        <span class="n">filtered_facilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_facilities_responses</span><span class="p">(</span><span class="n">responses</span><span class="o">=</span><span class="n">api_response</span><span class="p">)</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>        <span class="n">campgrounds</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">filtered_facilities</span><span class="p">)</span><span class="si">}</span><span class="s2"> Matching Campgrounds Found&quot;</span><span class="p">)</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>        <span class="k">for</span> <span class="n">facility</span> <span class="ow">in</span> <span class="n">filtered_facilities</span><span class="p">:</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>            <span class="n">_</span><span class="p">,</span> <span class="n">campground_facility</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_facilities_responses</span><span class="p">(</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>                <span class="n">facility</span><span class="o">=</span><span class="n">facility</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>            <span class="p">)</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>            <span class="k">if</span> <span class="n">campground_facility</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>                <span class="n">campgrounds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">campground_facility</span><span class="p">)</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>        <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">response_array</span><span class="o">=</span><span class="n">campgrounds</span><span class="p">)</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>        <span class="k">return</span> <span class="n">campgrounds</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>    <span class="k">def</span> <span class="nf">_find_facilities_from_campgrounds</span><span class="p">(</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">campground_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]:</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a><span class="sd">        Find Matching Campsites from Campground ID</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">        campground_id: Union[int, List[int]]</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a><span class="sd">            ID of the Campsite</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a><span class="sd">        -------</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><span class="sd">        filtered_responses: List[CampgroundFacility]</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a><span class="sd">            Array of Matching Campsites</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>        <span class="n">campgrounds</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>        <span class="k">for</span> <span class="n">campground_identifier</span> <span class="ow">in</span> <span class="n">campground_id</span><span class="p">:</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>            <span class="n">facility_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ridb_data</span><span class="p">(</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>                <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">FACILITIES_API_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">campground_identifier</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>                <span class="n">params</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">full</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>            <span class="p">)</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>            <span class="n">filtered_facility</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_facilities_responses</span><span class="p">(</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>                <span class="n">responses</span><span class="o">=</span><span class="p">[</span><span class="n">facility_data</span><span class="p">]</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>            <span class="p">)</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>            <span class="n">_</span><span class="p">,</span> <span class="n">campground_facility</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_facilities_responses</span><span class="p">(</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>                <span class="n">facility</span><span class="o">=</span><span class="n">filtered_facility</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>            <span class="p">)</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>            <span class="k">if</span> <span class="n">campground_facility</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>                <span class="n">campgrounds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">campground_facility</span><span class="p">)</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">campgrounds</span><span class="p">)</span><span class="si">}</span><span class="s2"> Matching Campgrounds Found&quot;</span><span class="p">)</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>        <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">response_array</span><span class="o">=</span><span class="n">campgrounds</span><span class="p">)</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>        <span class="k">return</span> <span class="n">campgrounds</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>    <span class="k">def</span> <span class="nf">_find_facilities_from_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a><span class="sd">        Find Matching Campgrounds Based on Search String</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a><span class="sd">        search: str</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a><span class="sd">            Search String</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a><span class="sd">        -------</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a><span class="sd">        campgrounds: List[dict]</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a><span class="sd">            Array of Matching Campsites</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>        <span class="n">facilities_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ridb_get_paginate</span><span class="p">(</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>            <span class="n">path</span><span class="o">=</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">FACILITIES_API_PATH</span><span class="p">,</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>            <span class="n">params</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="n">search</span><span class="p">,</span> <span class="n">activity</span><span class="o">=</span><span class="s2">&quot;CAMPING&quot;</span><span class="p">,</span> <span class="n">full</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>        <span class="p">)</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>        <span class="n">filtered_responses</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_facilities_responses</span><span class="p">(</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>            <span class="n">responses</span><span class="o">=</span><span class="n">facilities_response</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>        <span class="p">)</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">filtered_responses</span><span class="p">)</span><span class="si">}</span><span class="s2"> Matching Campgrounds Found&quot;</span><span class="p">)</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>        <span class="n">campgrounds</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a>        <span class="k">for</span> <span class="n">facility</span> <span class="ow">in</span> <span class="n">filtered_responses</span><span class="p">:</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>            <span class="n">_</span><span class="p">,</span> <span class="n">campground_facility</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_facilities_responses</span><span class="p">(</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>                <span class="n">facility</span><span class="o">=</span><span class="n">facility</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>            <span class="p">)</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>            <span class="k">if</span> <span class="n">campground_facility</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>                <span class="n">campgrounds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">campground_facility</span><span class="p">)</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>        <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">response_array</span><span class="o">=</span><span class="n">campgrounds</span><span class="p">)</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>        <span class="k">return</span> <span class="n">campgrounds</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>    <span class="k">def</span> <span class="nf">_ridb_get_endpoint</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a><span class="sd">        Return an API Endpoint for the RIDP</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a><span class="sd">        path: str</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a><span class="sd">            URL Endpoint, see https://ridb.recreation.gov/docs</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a><span class="sd">        -------</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a><span class="sd">        endpoint_url: str</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a><span class="sd">            URL for the API Endpoint</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>        <span class="k">assert</span> <span class="n">RIDBConfig</span><span class="o">.</span><span class="n">RIDB_BASE_PATH</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>        <span class="n">base_url</span> <span class="o">=</span> <span class="n">api_utils</span><span class="o">.</span><span class="n">generate_url</span><span class="p">(</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>            <span class="n">scheme</span><span class="o">=</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">RIDB_SCHEME</span><span class="p">,</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>            <span class="n">netloc</span><span class="o">=</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">RIDB_NET_LOC</span><span class="p">,</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>            <span class="n">path</span><span class="o">=</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">RIDB_BASE_PATH</span><span class="p">,</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>        <span class="p">)</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>        <span class="n">endpoint_url</span> <span class="o">=</span> <span class="n">parse</span><span class="o">.</span><span class="n">urljoin</span><span class="p">(</span><span class="n">base_url</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>        <span class="k">return</span> <span class="n">endpoint_url</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>    <span class="nd">@tenacity</span><span class="o">.</span><span class="n">retry</span><span class="p">(</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>        <span class="n">wait</span><span class="o">=</span><span class="n">tenacity</span><span class="o">.</span><span class="n">wait_random_exponential</span><span class="p">(</span><span class="n">multiplier</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>        <span class="n">stop</span><span class="o">=</span><span class="n">tenacity</span><span class="o">.</span><span class="n">stop</span><span class="o">.</span><span class="n">stop_after_delay</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>    <span class="p">)</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>    <span class="k">def</span> <span class="nf">get_ridb_data</span><span class="p">(</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">]:</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a><span class="sd">        Find Matching Campsites Based on Search String</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a><span class="sd">        path: str</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a><span class="sd">            URL Endpoint, see https://ridb.recreation.gov/docs</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a><span class="sd">        params: Optional[dict]</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a><span class="sd">            API Call Parameters</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="sd">        -------</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a><span class="sd">        Union[dict, list]</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>        <span class="n">api_endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ridb_get_endpoint</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>        <span class="n">headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ridb_api_headers</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>        <span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">choice</span><span class="p">(</span><span class="n">USER_AGENTS</span><span class="p">))</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>            <span class="n">url</span><span class="o">=</span><span class="n">api_endpoint</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>        <span class="p">)</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>            <span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>        <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>            <span class="n">error_message</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>                <span class="sa">f</span><span class="s2">&quot;Receiving bad data from Recreation.gov API: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>            <span class="p">)</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>            <span class="k">raise</span> <span class="ne">ConnectionError</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>        <span class="k">return</span> <span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>    <span class="k">def</span> <span class="nf">_ridb_get_paginate</span><span class="p">(</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>        <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a><span class="sd">        Return the Paginated Response from the RIDP</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a><span class="sd">        path: str</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a><span class="sd">            URL Endpoint, see https://ridb.recreation.gov/docs</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a><span class="sd">        params: Optional[dict]</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="sd">            API Call Parameters</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><span class="sd">        -------</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a><span class="sd">        paginated_response: list</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a><span class="sd">            Concatted Response</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>        <span class="n">paginated_response</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>        <span class="n">data_incomplete</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>        <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>        <span class="n">historical_results</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>        <span class="k">while</span> <span class="n">data_incomplete</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>            <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="n">offset</span><span class="p">)</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>            <span class="n">data_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ridb_data</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>            <span class="n">response_object</span> <span class="o">=</span> <span class="n">GenericResponse</span><span class="p">(</span><span class="o">**</span><span class="n">data_response</span><span class="p">)</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>            <span class="n">paginated_response</span> <span class="o">+=</span> <span class="n">response_object</span><span class="o">.</span><span class="n">RECDATA</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>            <span class="n">result_count</span> <span class="o">=</span> <span class="n">response_object</span><span class="o">.</span><span class="n">METADATA</span><span class="o">.</span><span class="n">RESULTS</span><span class="o">.</span><span class="n">CURRENT_COUNT</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>            <span class="n">historical_results</span> <span class="o">+=</span> <span class="n">result_count</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>            <span class="n">total_count</span> <span class="o">=</span> <span class="n">response_object</span><span class="o">.</span><span class="n">METADATA</span><span class="o">.</span><span class="n">RESULTS</span><span class="o">.</span><span class="n">TOTAL_COUNT</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>            <span class="k">if</span> <span class="n">offset</span> <span class="o">&gt;=</span> <span class="mi">500</span><span class="p">:</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>                    <span class="sa">f</span><span class="s2">&quot;Too Many Results returned (</span><span class="si">{</span><span class="n">total_count</span><span class="si">}</span><span class="s2">), &quot;</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>                    <span class="s2">&quot;try performing a more specific search&quot;</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>                <span class="p">)</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>                <span class="n">data_incomplete</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>            <span class="k">elif</span> <span class="n">historical_results</span> <span class="o">&lt;</span> <span class="n">total_count</span><span class="p">:</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>                <span class="n">offset</span> <span class="o">=</span> <span class="n">historical_results</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>                <span class="n">data_incomplete</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>        <span class="k">return</span> <span class="n">paginated_response</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>    <span class="k">def</span> <span class="nf">_filter_facilities_responses</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">responses</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a><span class="sd">        Filter Facilities to Actual Reservable Campsites</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a><span class="sd">        responses</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a><span class="sd">        -------</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a><span class="sd">        List[dict]</span>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>        <span class="n">filtered_responses</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>        <span class="k">for</span> <span class="n">possible_match</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">:</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>            <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>                <span class="n">facility</span> <span class="o">=</span> <span class="n">FacilityResponse</span><span class="p">(</span><span class="o">**</span><span class="n">possible_match</span><span class="p">)</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>            <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;That doesn&#39;t look like a valid Campground Facility&quot;</span><span class="p">)</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">possible_match</span><span class="p">))</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>                <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>                <span class="k">raise</span> <span class="n">ProviderSearchError</span><span class="p">(</span><span class="s2">&quot;Invalid Campground Facility Returned&quot;</span><span class="p">)</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>                <span class="p">[</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>                    <span class="n">facility</span><span class="o">.</span><span class="n">FacilityTypeDescription</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>                    <span class="o">==</span> <span class="n">RIDBConfig</span><span class="o">.</span><span class="n">CAMPGROUND_FACILITY_FIELD_QUALIFIER</span><span class="p">,</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>                    <span class="n">facility</span><span class="o">.</span><span class="n">Enabled</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>                    <span class="n">facility</span><span class="o">.</span><span class="n">Reservable</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>                <span class="p">]</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>            <span class="p">):</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>                <span class="n">filtered_responses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">possible_match</span><span class="p">)</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>        <span class="k">return</span> <span class="n">filtered_responses</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>    <span class="k">def</span> <span class="nf">process_facilities_responses</span><span class="p">(</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>        <span class="bp">cls</span><span class="p">,</span> <span class="n">facility</span><span class="p">:</span> <span class="nb">dict</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]]:</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a><span class="sd">        Process Facilities Responses to be More Usable</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a><span class="sd">        facility: dict</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a><span class="sd">        -------</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a><span class="sd">        Tuple[dict, CampgroundFacility]</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>        <span class="n">facility_object</span> <span class="o">=</span> <span class="n">FacilityResponse</span><span class="p">(</span><span class="o">**</span><span class="n">facility</span><span class="p">)</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>            <span class="n">facility_state</span> <span class="o">=</span> <span class="n">facility_object</span><span class="o">.</span><span class="n">FACILITYADDRESS</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">AddressStateCode</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>            <span class="n">facility_state</span> <span class="o">=</span> <span class="s2">&quot;USA&quot;</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">facility_object</span><span class="o">.</span><span class="n">RECAREA</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>                <span class="n">recreation_area_id</span> <span class="o">=</span> <span class="n">facility_object</span><span class="o">.</span><span class="n">ParentRecAreaID</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>                <span class="n">formatted_recreation_area</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">facility_object</span><span class="o">.</span><span class="n">ORGANIZATION</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">OrgName</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">facility_state</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>                <span class="p">)</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>                <span class="n">recreation_area</span> <span class="o">=</span> <span class="n">facility_object</span><span class="o">.</span><span class="n">RECAREA</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">RecAreaName</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>                <span class="n">recreation_area_id</span> <span class="o">=</span> <span class="n">facility_object</span><span class="o">.</span><span class="n">RECAREA</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">RecAreaID</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>                <span class="n">formatted_recreation_area</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">recreation_area</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">facility_state</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>            <span class="n">campground_facility</span> <span class="o">=</span> <span class="n">CampgroundFacility</span><span class="p">(</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>                <span class="n">facility_name</span><span class="o">=</span><span class="n">facility_object</span><span class="o">.</span><span class="n">FacilityName</span><span class="o">.</span><span class="n">title</span><span class="p">(),</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>                <span class="n">recreation_area</span><span class="o">=</span><span class="n">formatted_recreation_area</span><span class="p">,</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>                <span class="n">facility_id</span><span class="o">=</span><span class="n">facility_object</span><span class="o">.</span><span class="n">FacilityID</span><span class="p">,</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>                <span class="n">recreation_area_id</span><span class="o">=</span><span class="n">recreation_area_id</span><span class="p">,</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>            <span class="p">)</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>            <span class="k">return</span> <span class="n">facility</span><span class="p">,</span> <span class="n">campground_facility</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>            <span class="k">return</span> <span class="n">facility</span><span class="p">,</span> <span class="kc">None</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>    <span class="k">def</span> <span class="nf">_process_rec_area_response</span><span class="p">(</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>        <span class="bp">cls</span><span class="p">,</span> <span class="n">recreation_area</span><span class="o">=</span><span class="nb">dict</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="n">RecreationArea</span><span class="p">]]:</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a><span class="sd">        Process Rec Area Responses to be More Usable</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a><span class="sd">        recreation_area: dict</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a><span class="sd">        -------</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a><span class="sd">        Tuple[dict, RecreationArea]</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>        <span class="n">rec_area_response</span> <span class="o">=</span> <span class="n">RecreationAreaResponse</span><span class="p">(</span><span class="o">**</span><span class="n">recreation_area</span><span class="p">)</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>            <span class="n">recreation_area_location</span> <span class="o">=</span> <span class="n">rec_area_response</span><span class="o">.</span><span class="n">RECAREAADDRESS</span><span class="p">[</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>                <span class="mi">0</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>            <span class="p">]</span><span class="o">.</span><span class="n">AddressStateCode</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>            <span class="n">recreation_area_tuple</span> <span class="o">=</span> <span class="n">RecreationArea</span><span class="p">(</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>                <span class="n">recreation_area</span><span class="o">=</span><span class="n">rec_area_response</span><span class="o">.</span><span class="n">RecAreaName</span><span class="p">,</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a>                <span class="n">recreation_area_id</span><span class="o">=</span><span class="n">rec_area_response</span><span class="o">.</span><span class="n">RecAreaID</span><span class="p">,</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>                <span class="n">recreation_area_location</span><span class="o">=</span><span class="n">recreation_area_location</span><span class="p">,</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>            <span class="p">)</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>            <span class="k">return</span> <span class="n">recreation_area</span><span class="p">,</span> <span class="n">recreation_area_tuple</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>            <span class="k">return</span> <span class="n">recreation_area</span><span class="p">,</span> <span class="kc">None</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>    <span class="k">def</span> <span class="nf">_rec_availability_get_endpoint</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a><span class="sd">        Return an API Endpoint for the Recreation.gov Campground Availability API</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a><span class="sd">        path: str</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a><span class="sd">            URL Endpoint Path</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a><span class="sd">        -------</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a><span class="sd">        endpoint_url: str</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a><span class="sd">            URL for the API Endpoint</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>        <span class="n">base_url</span> <span class="o">=</span> <span class="n">api_utils</span><span class="o">.</span><span class="n">generate_url</span><span class="p">(</span>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>            <span class="n">scheme</span><span class="o">=</span><span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">API_SCHEME</span><span class="p">,</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>            <span class="n">netloc</span><span class="o">=</span><span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">API_NET_LOC</span><span class="p">,</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>            <span class="n">path</span><span class="o">=</span><span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">API_BASE_PATH</span><span class="p">,</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>        <span class="p">)</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>        <span class="n">endpoint_url</span> <span class="o">=</span> <span class="n">parse</span><span class="o">.</span><span class="n">urljoin</span><span class="p">(</span><span class="n">base_url</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>        <span class="k">return</span> <span class="n">endpoint_url</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>    <span class="k">def</span> <span class="nf">make_recdotgov_request</span><span class="p">(</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>        <span class="bp">cls</span><span class="p">,</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>        <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a><span class="sd">        Make a Raw Request to RecreationDotGov</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a><span class="sd">        url: str</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a><span class="sd">        method: str</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a><span class="sd">        params: Optional[Dict[str, Any]]</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a><span class="sd">        -------</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a><span class="sd">        requests.Response</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>        <span class="c1"># BUILD THE HEADERS EXPECTED FROM THE API</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>        <span class="n">headers</span> <span class="o">=</span> <span class="n">STANDARD_HEADERS</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>        <span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">choice</span><span class="p">(</span><span class="n">USER_AGENTS</span><span class="p">))</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>        <span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">API_REFERRERS</span><span class="p">)</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>            <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>        <span class="p">)</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>        <span class="k">return</span> <span class="n">response</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>    <span class="nd">@tenacity</span><span class="o">.</span><span class="n">retry</span><span class="p">(</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>        <span class="n">wait</span><span class="o">=</span><span class="n">tenacity</span><span class="o">.</span><span class="n">wait_random_exponential</span><span class="p">(</span><span class="n">multiplier</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>        <span class="n">stop</span><span class="o">=</span><span class="n">tenacity</span><span class="o">.</span><span class="n">stop</span><span class="o">.</span><span class="n">stop_after_delay</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>    <span class="p">)</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>    <span class="k">def</span> <span class="nf">make_recdotgov_request_retry</span><span class="p">(</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>        <span class="bp">cls</span><span class="p">,</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>        <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a><span class="sd">        Make a Raw Request to RecreationDotGov - But Handle 404</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a><span class="sd">        url: str</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a><span class="sd">        method: str</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a><span class="sd">        params: Optional[Dict[str, Any]]</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a><span class="sd">        -------</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a><span class="sd">        requests.Response</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">make_recdotgov_request</span><span class="p">(</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>            <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>        <span class="p">)</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>        <span class="k">return</span> <span class="n">response</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>    <span class="k">def</span> <span class="nf">paginate_recdotgov_campsites</span><span class="p">(</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">facility_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">equipment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">RecDotGovCampsite</span><span class="p">]:</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a><span class="sd">        Paginate through the RecDotGov Campsite Metadata</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>        <span class="n">results</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>        <span class="n">continue_paginate</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>        <span class="n">endpoint_url</span> <span class="o">=</span> <span class="n">api_utils</span><span class="o">.</span><span class="n">generate_url</span><span class="p">(</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>            <span class="n">scheme</span><span class="o">=</span><span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">API_SCHEME</span><span class="p">,</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>            <span class="n">netloc</span><span class="o">=</span><span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">API_NET_LOC</span><span class="p">,</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>            <span class="n">path</span><span class="o">=</span><span class="s2">&quot;api/search/campsites&quot;</span><span class="p">,</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>        <span class="p">)</span>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>        <span class="n">fq_list</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;asset_id:</span><span class="si">{</span><span class="n">facility_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">equipment</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">equipment</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">equipment</span><span class="p">:</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>                <span class="n">fq_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;campsite_equipment_name:</span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>        <span class="n">params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>            <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>            <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>            <span class="n">fq</span><span class="o">=</span><span class="n">fq_list</span><span class="p">,</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>            <span class="n">include_non_site_specific_campsites</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>        <span class="p">)</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>        <span class="n">campsites</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>        <span class="k">while</span> <span class="n">continue_paginate</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_recdotgov_request_retry</span><span class="p">(</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>                <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>                <span class="n">url</span><span class="o">=</span><span class="n">endpoint_url</span><span class="p">,</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>                <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>            <span class="p">)</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>            <span class="n">returned_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>            <span class="n">campsite_response</span> <span class="o">=</span> <span class="n">RecDotGovCampsiteResponse</span><span class="p">(</span><span class="o">**</span><span class="n">returned_data</span><span class="p">)</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>            <span class="n">campsites</span> <span class="o">+=</span> <span class="n">campsite_response</span><span class="o">.</span><span class="n">campsites</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>            <span class="n">results</span> <span class="o">+=</span> <span class="n">campsite_response</span><span class="o">.</span><span class="n">size</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a>            <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">results</span><span class="p">)</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a>            <span class="k">if</span> <span class="n">results</span> <span class="o">==</span> <span class="n">campsite_response</span><span class="o">.</span><span class="n">total</span><span class="p">:</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a>                <span class="n">continue_paginate</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>        <span class="k">return</span> <span class="n">campsites</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>    <span class="nd">@tenacity</span><span class="o">.</span><span class="n">retry</span><span class="p">(</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>        <span class="n">wait</span><span class="o">=</span><span class="n">tenacity</span><span class="o">.</span><span class="n">wait_random_exponential</span><span class="p">(</span><span class="n">multiplier</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">1800</span><span class="p">),</span>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a>        <span class="n">stop</span><span class="o">=</span><span class="n">tenacity</span><span class="o">.</span><span class="n">stop</span><span class="o">.</span><span class="n">stop_after_delay</span><span class="p">(</span><span class="mi">6000</span><span class="p">),</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>    <span class="p">)</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a>    <span class="k">def</span> <span class="nf">_make_recdotgov_availability_request</span><span class="p">(</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a>        <span class="n">campground_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>        <span class="n">month</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a><span class="sd">        Make a request to the RecreationDotGov API - Handle Exponential Backoff</span>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a><span class="sd">        campground_id</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a><span class="sd">        month</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a><span class="sd">        -------</span>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a><span class="sd">        requests.Response</span>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a>            <span class="n">api_endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rec_availability_get_endpoint</span><span class="p">(</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a>                <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">campground_id</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">API_MONTH_PATH</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a>            <span class="p">)</span>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a>            <span class="n">formatted_month</span> <span class="o">=</span> <span class="n">month</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-01T00:00:00.000Z&quot;</span><span class="p">)</span>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a>            <span class="n">query_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">start_date</span><span class="o">=</span><span class="n">formatted_month</span><span class="p">)</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a>            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_recdotgov_request</span><span class="p">(</span>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a>                <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a>                <span class="n">url</span><span class="o">=</span><span class="n">api_endpoint</span><span class="p">,</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a>                <span class="n">params</span><span class="o">=</span><span class="n">query_params</span><span class="p">,</span>
<a id="__codelineno-0-636" name="__codelineno-0-636"></a>            <span class="p">)</span>
<a id="__codelineno-0-637" name="__codelineno-0-637"></a>            <span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span>
<a id="__codelineno-0-638" name="__codelineno-0-638"></a>        <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
<a id="__codelineno-0-639" name="__codelineno-0-639"></a>            <span class="n">response_error</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>
<a id="__codelineno-0-640" name="__codelineno-0-640"></a>            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Bad Data Returned from the RecreationDotGov API&quot;</span>
<a id="__codelineno-0-641" name="__codelineno-0-641"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">error_message</span><span class="si">}</span><span class="s2">, will continue to retry&quot;</span><span class="p">)</span>
<a id="__codelineno-0-642" name="__codelineno-0-642"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error Details: </span><span class="si">{</span><span class="n">response_error</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-643" name="__codelineno-0-643"></a>            <span class="k">raise</span> <span class="ne">ConnectionError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">error_message</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">response_error</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-644" name="__codelineno-0-644"></a>        <span class="k">return</span> <span class="n">response</span>
<a id="__codelineno-0-645" name="__codelineno-0-645"></a>
<a id="__codelineno-0-646" name="__codelineno-0-646"></a>    <span class="k">def</span> <span class="nf">get_recdotgov_data</span><span class="p">(</span>
<a id="__codelineno-0-647" name="__codelineno-0-647"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">campground_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">month</span><span class="p">:</span> <span class="n">datetime</span>
<a id="__codelineno-0-648" name="__codelineno-0-648"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">]:</span>
<a id="__codelineno-0-649" name="__codelineno-0-649"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-650" name="__codelineno-0-650"></a><span class="sd">        Find Campsite Availability Data</span>
<a id="__codelineno-0-651" name="__codelineno-0-651"></a>
<a id="__codelineno-0-652" name="__codelineno-0-652"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-653" name="__codelineno-0-653"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-654" name="__codelineno-0-654"></a><span class="sd">        campground_id: int</span>
<a id="__codelineno-0-655" name="__codelineno-0-655"></a><span class="sd">            Campground ID from the RIDB API. Can also be pulled of URLs on Recreation.gov</span>
<a id="__codelineno-0-656" name="__codelineno-0-656"></a><span class="sd">        month: datetime</span>
<a id="__codelineno-0-657" name="__codelineno-0-657"></a><span class="sd">            datetime object, results will be filtered to month</span>
<a id="__codelineno-0-658" name="__codelineno-0-658"></a>
<a id="__codelineno-0-659" name="__codelineno-0-659"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-660" name="__codelineno-0-660"></a><span class="sd">        -------</span>
<a id="__codelineno-0-661" name="__codelineno-0-661"></a><span class="sd">        Union[dict, list]</span>
<a id="__codelineno-0-662" name="__codelineno-0-662"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-663" name="__codelineno-0-663"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-664" name="__codelineno-0-664"></a>            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_recdotgov_availability_request</span><span class="p">(</span>
<a id="__codelineno-0-665" name="__codelineno-0-665"></a>                <span class="n">campground_id</span><span class="o">=</span><span class="n">campground_id</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">month</span>
<a id="__codelineno-0-666" name="__codelineno-0-666"></a>            <span class="p">)</span>
<a id="__codelineno-0-667" name="__codelineno-0-667"></a>        <span class="k">except</span> <span class="n">tenacity</span><span class="o">.</span><span class="n">RetryError</span><span class="p">:</span>
<a id="__codelineno-0-668" name="__codelineno-0-668"></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
<a id="__codelineno-0-669" name="__codelineno-0-669"></a>                <span class="s2">&quot;Something went wrong in fetching data from the &quot;</span>
<a id="__codelineno-0-670" name="__codelineno-0-670"></a>                <span class="s2">&quot;RecreationDotGov API.&quot;</span>
<a id="__codelineno-0-671" name="__codelineno-0-671"></a>            <span class="p">)</span>
<a id="__codelineno-0-672" name="__codelineno-0-672"></a>        <span class="k">return</span> <span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<a id="__codelineno-0-673" name="__codelineno-0-673"></a>
<a id="__codelineno-0-674" name="__codelineno-0-674"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-675" name="__codelineno-0-675"></a>    <span class="k">def</span> <span class="nf">_items_to_unique_dicts</span><span class="p">(</span>
<a id="__codelineno-0-676" name="__codelineno-0-676"></a>        <span class="bp">cls</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">]</span>
<a id="__codelineno-0-677" name="__codelineno-0-677"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<a id="__codelineno-0-678" name="__codelineno-0-678"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-679" name="__codelineno-0-679"></a><span class="sd">        Ensure the proper items are parsed for equipment and attributes</span>
<a id="__codelineno-0-680" name="__codelineno-0-680"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-681" name="__codelineno-0-681"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">):</span>
<a id="__codelineno-0-682" name="__codelineno-0-682"></a>            <span class="n">list_of_dicts</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>
<a id="__codelineno-0-683" name="__codelineno-0-683"></a>            <span class="n">unique_list_of_dicts</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-684" name="__codelineno-0-684"></a>                <span class="nb">dict</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="nb">frozenset</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">list_of_dicts</span><span class="p">)</span>
<a id="__codelineno-0-685" name="__codelineno-0-685"></a>            <span class="p">]</span>
<a id="__codelineno-0-686" name="__codelineno-0-686"></a>            <span class="k">return</span> <span class="n">unique_list_of_dicts</span>
<a id="__codelineno-0-687" name="__codelineno-0-687"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-688" name="__codelineno-0-688"></a>            <span class="k">return</span> <span class="n">item</span>
<a id="__codelineno-0-689" name="__codelineno-0-689"></a>
<a id="__codelineno-0-690" name="__codelineno-0-690"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-691" name="__codelineno-0-691"></a>    <span class="k">def</span> <span class="nf">_get_equipment_and_attributes</span><span class="p">(</span>
<a id="__codelineno-0-692" name="__codelineno-0-692"></a>        <span class="bp">cls</span><span class="p">,</span>
<a id="__codelineno-0-693" name="__codelineno-0-693"></a>        <span class="n">campsite_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-694" name="__codelineno-0-694"></a>        <span class="n">campsite_metadata</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<a id="__codelineno-0-695" name="__codelineno-0-695"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]:</span>
<a id="__codelineno-0-696" name="__codelineno-0-696"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-697" name="__codelineno-0-697"></a><span class="sd">        Index a DataFrame in a Complicated Way</span>
<a id="__codelineno-0-698" name="__codelineno-0-698"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-699" name="__codelineno-0-699"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-700" name="__codelineno-0-700"></a>            <span class="n">equipment</span> <span class="o">=</span> <span class="n">campsite_metadata</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">campsite_id</span><span class="p">,</span> <span class="s2">&quot;permitted_equipment&quot;</span><span class="p">]</span>
<a id="__codelineno-0-701" name="__codelineno-0-701"></a>        <span class="k">except</span> <span class="ne">LookupError</span><span class="p">:</span>
<a id="__codelineno-0-702" name="__codelineno-0-702"></a>            <span class="n">equipment</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-703" name="__codelineno-0-703"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-704" name="__codelineno-0-704"></a>            <span class="n">attributes</span> <span class="o">=</span> <span class="n">campsite_metadata</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">campsite_id</span><span class="p">,</span> <span class="s2">&quot;attributes&quot;</span><span class="p">]</span>
<a id="__codelineno-0-705" name="__codelineno-0-705"></a>        <span class="k">except</span> <span class="ne">LookupError</span><span class="p">:</span>
<a id="__codelineno-0-706" name="__codelineno-0-706"></a>            <span class="n">attributes</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-707" name="__codelineno-0-707"></a>        <span class="n">equipment</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_items_to_unique_dicts</span><span class="p">(</span><span class="n">item</span><span class="o">=</span><span class="n">equipment</span><span class="p">)</span>
<a id="__codelineno-0-708" name="__codelineno-0-708"></a>        <span class="n">attributes</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_items_to_unique_dicts</span><span class="p">(</span><span class="n">item</span><span class="o">=</span><span class="n">attributes</span><span class="p">)</span>
<a id="__codelineno-0-709" name="__codelineno-0-709"></a>        <span class="k">return</span> <span class="n">equipment</span><span class="p">,</span> <span class="n">attributes</span>
<a id="__codelineno-0-710" name="__codelineno-0-710"></a>
<a id="__codelineno-0-711" name="__codelineno-0-711"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a>    <span class="k">def</span> <span class="nf">process_campsite_availability</span><span class="p">(</span>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a>        <span class="bp">cls</span><span class="p">,</span>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a>        <span class="n">availability</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a>        <span class="n">recreation_area</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-716" name="__codelineno-0-716"></a>        <span class="n">recreation_area_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<a id="__codelineno-0-717" name="__codelineno-0-717"></a>        <span class="n">facility_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-718" name="__codelineno-0-718"></a>        <span class="n">facility_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-719" name="__codelineno-0-719"></a>        <span class="n">month</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
<a id="__codelineno-0-720" name="__codelineno-0-720"></a>        <span class="n">campsite_metadata</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<a id="__codelineno-0-721" name="__codelineno-0-721"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">AvailableCampsite</span><span class="p">]]:</span>
<a id="__codelineno-0-722" name="__codelineno-0-722"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-723" name="__codelineno-0-723"></a><span class="sd">        Parse the JSON Response and return availabilities</span>
<a id="__codelineno-0-724" name="__codelineno-0-724"></a>
<a id="__codelineno-0-725" name="__codelineno-0-725"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-726" name="__codelineno-0-726"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-727" name="__codelineno-0-727"></a><span class="sd">        availability: dict</span>
<a id="__codelineno-0-728" name="__codelineno-0-728"></a><span class="sd">            API Response</span>
<a id="__codelineno-0-729" name="__codelineno-0-729"></a><span class="sd">        recreation_area: str</span>
<a id="__codelineno-0-730" name="__codelineno-0-730"></a><span class="sd">            Name of Recreation Area</span>
<a id="__codelineno-0-731" name="__codelineno-0-731"></a><span class="sd">        recreation_area_id: Union[int, str]</span>
<a id="__codelineno-0-732" name="__codelineno-0-732"></a><span class="sd">            ID of Recreation Area</span>
<a id="__codelineno-0-733" name="__codelineno-0-733"></a><span class="sd">        facility_name: str</span>
<a id="__codelineno-0-734" name="__codelineno-0-734"></a><span class="sd">            Campground Facility Name</span>
<a id="__codelineno-0-735" name="__codelineno-0-735"></a><span class="sd">        facility_id: int</span>
<a id="__codelineno-0-736" name="__codelineno-0-736"></a><span class="sd">            Campground Facility ID</span>
<a id="__codelineno-0-737" name="__codelineno-0-737"></a><span class="sd">        month: datetime</span>
<a id="__codelineno-0-738" name="__codelineno-0-738"></a><span class="sd">            Month to Process</span>
<a id="__codelineno-0-739" name="__codelineno-0-739"></a><span class="sd">        campsite_metadata: pd.DataFrame</span>
<a id="__codelineno-0-740" name="__codelineno-0-740"></a><span class="sd">            Metadata Fetched from the Recreation.gov API about the Campsites</span>
<a id="__codelineno-0-741" name="__codelineno-0-741"></a>
<a id="__codelineno-0-742" name="__codelineno-0-742"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-743" name="__codelineno-0-743"></a><span class="sd">        -------</span>
<a id="__codelineno-0-744" name="__codelineno-0-744"></a><span class="sd">        total_campsite_availability: List[Optional[AvailableCampsite]]</span>
<a id="__codelineno-0-745" name="__codelineno-0-745"></a><span class="sd">            Any monthly availabilities</span>
<a id="__codelineno-0-746" name="__codelineno-0-746"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-747" name="__codelineno-0-747"></a>        <span class="n">total_campsite_availability</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">AvailableCampsite</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-748" name="__codelineno-0-748"></a>        <span class="n">campsite_data</span> <span class="o">=</span> <span class="n">CampsiteAvailabilityResponse</span><span class="p">(</span><span class="o">**</span><span class="n">availability</span><span class="p">)</span>
<a id="__codelineno-0-749" name="__codelineno-0-749"></a>        <span class="k">for</span> <span class="n">campsite_id</span><span class="p">,</span> <span class="n">site_related_data</span> <span class="ow">in</span> <span class="n">campsite_data</span><span class="o">.</span><span class="n">campsites</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-750" name="__codelineno-0-750"></a>            <span class="k">for</span> <span class="p">(</span>
<a id="__codelineno-0-751" name="__codelineno-0-751"></a>                <span class="n">matching_date</span><span class="p">,</span>
<a id="__codelineno-0-752" name="__codelineno-0-752"></a>                <span class="n">availability_status</span><span class="p">,</span>
<a id="__codelineno-0-753" name="__codelineno-0-753"></a>            <span class="p">)</span> <span class="ow">in</span> <span class="n">site_related_data</span><span class="o">.</span><span class="n">availabilities</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-754" name="__codelineno-0-754"></a>                <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-755" name="__codelineno-0-755"></a>                    <span class="n">availability_status</span>
<a id="__codelineno-0-756" name="__codelineno-0-756"></a>                    <span class="ow">not</span> <span class="ow">in</span> <span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">CAMPSITE_UNAVAILABLE_STRINGS</span>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a>                <span class="p">):</span>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a>                    <span class="n">booking_url</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-759" name="__codelineno-0-759"></a>                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">CAMPSITE_BOOKING_URL</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">campsite_id</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-760" name="__codelineno-0-760"></a>                    <span class="p">)</span>
<a id="__codelineno-0-761" name="__codelineno-0-761"></a>                    <span class="n">equipment</span><span class="p">,</span> <span class="n">attributes</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_equipment_and_attributes</span><span class="p">(</span>
<a id="__codelineno-0-762" name="__codelineno-0-762"></a>                        <span class="n">campsite_id</span><span class="o">=</span><span class="n">campsite_id</span><span class="p">,</span> <span class="n">campsite_metadata</span><span class="o">=</span><span class="n">campsite_metadata</span>
<a id="__codelineno-0-763" name="__codelineno-0-763"></a>                    <span class="p">)</span>
<a id="__codelineno-0-764" name="__codelineno-0-764"></a>                    <span class="n">available_campsite</span> <span class="o">=</span> <span class="n">AvailableCampsite</span><span class="p">(</span>
<a id="__codelineno-0-765" name="__codelineno-0-765"></a>                        <span class="n">campsite_id</span><span class="o">=</span><span class="n">campsite_id</span><span class="p">,</span>
<a id="__codelineno-0-766" name="__codelineno-0-766"></a>                        <span class="n">booking_date</span><span class="o">=</span><span class="n">matching_date</span><span class="p">,</span>
<a id="__codelineno-0-767" name="__codelineno-0-767"></a>                        <span class="n">booking_end_date</span><span class="o">=</span><span class="n">matching_date</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-0-768" name="__codelineno-0-768"></a>                        <span class="n">booking_nights</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-769" name="__codelineno-0-769"></a>                        <span class="n">campsite_site_name</span><span class="o">=</span><span class="n">site_related_data</span><span class="o">.</span><span class="n">site</span><span class="p">,</span>
<a id="__codelineno-0-770" name="__codelineno-0-770"></a>                        <span class="n">campsite_loop_name</span><span class="o">=</span><span class="n">site_related_data</span><span class="o">.</span><span class="n">loop</span><span class="p">,</span>
<a id="__codelineno-0-771" name="__codelineno-0-771"></a>                        <span class="n">campsite_type</span><span class="o">=</span><span class="n">site_related_data</span><span class="o">.</span><span class="n">campsite_type</span><span class="p">,</span>
<a id="__codelineno-0-772" name="__codelineno-0-772"></a>                        <span class="n">campsite_occupancy</span><span class="o">=</span><span class="p">(</span>
<a id="__codelineno-0-773" name="__codelineno-0-773"></a>                            <span class="n">site_related_data</span><span class="o">.</span><span class="n">min_num_people</span><span class="p">,</span>
<a id="__codelineno-0-774" name="__codelineno-0-774"></a>                            <span class="n">site_related_data</span><span class="o">.</span><span class="n">max_num_people</span><span class="p">,</span>
<a id="__codelineno-0-775" name="__codelineno-0-775"></a>                        <span class="p">),</span>
<a id="__codelineno-0-776" name="__codelineno-0-776"></a>                        <span class="n">campsite_use_type</span><span class="o">=</span><span class="n">site_related_data</span><span class="o">.</span><span class="n">type_of_use</span><span class="p">,</span>
<a id="__codelineno-0-777" name="__codelineno-0-777"></a>                        <span class="n">availability_status</span><span class="o">=</span><span class="n">availability_status</span><span class="p">,</span>
<a id="__codelineno-0-778" name="__codelineno-0-778"></a>                        <span class="n">recreation_area</span><span class="o">=</span><span class="n">recreation_area</span><span class="p">,</span>
<a id="__codelineno-0-779" name="__codelineno-0-779"></a>                        <span class="n">recreation_area_id</span><span class="o">=</span><span class="n">recreation_area_id</span><span class="p">,</span>
<a id="__codelineno-0-780" name="__codelineno-0-780"></a>                        <span class="n">facility_name</span><span class="o">=</span><span class="n">facility_name</span><span class="p">,</span>
<a id="__codelineno-0-781" name="__codelineno-0-781"></a>                        <span class="n">facility_id</span><span class="o">=</span><span class="n">facility_id</span><span class="p">,</span>
<a id="__codelineno-0-782" name="__codelineno-0-782"></a>                        <span class="n">booking_url</span><span class="o">=</span><span class="n">booking_url</span><span class="p">,</span>
<a id="__codelineno-0-783" name="__codelineno-0-783"></a>                        <span class="n">permitted_equipment</span><span class="o">=</span><span class="n">equipment</span><span class="p">,</span>
<a id="__codelineno-0-784" name="__codelineno-0-784"></a>                        <span class="n">campsite_attributes</span><span class="o">=</span><span class="n">attributes</span><span class="p">,</span>
<a id="__codelineno-0-785" name="__codelineno-0-785"></a>                    <span class="p">)</span>
<a id="__codelineno-0-786" name="__codelineno-0-786"></a>                    <span class="n">total_campsite_availability</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">available_campsite</span><span class="p">)</span>
<a id="__codelineno-0-787" name="__codelineno-0-787"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-788" name="__codelineno-0-788"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{</span><span class="n">logging_utils</span><span class="o">.</span><span class="n">get_emoji</span><span class="p">(</span><span class="n">total_campsite_availability</span><span class="p">)</span><span class="si">}</span><span class="se">\t</span><span class="s2">&quot;</span>
<a id="__codelineno-0-789" name="__codelineno-0-789"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">total_campsite_availability</span><span class="p">)</span><span class="si">}</span><span class="s2"> total sites found in month of &quot;</span>
<a id="__codelineno-0-790" name="__codelineno-0-790"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">month</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%B&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-791" name="__codelineno-0-791"></a>        <span class="p">)</span>
<a id="__codelineno-0-792" name="__codelineno-0-792"></a>        <span class="k">return</span> <span class="n">total_campsite_availability</span>
<a id="__codelineno-0-793" name="__codelineno-0-793"></a>
<a id="__codelineno-0-794" name="__codelineno-0-794"></a>    <span class="k">def</span> <span class="nf">get_campsite_by_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">campsite_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CampsiteResponse</span><span class="p">:</span>
<a id="__codelineno-0-795" name="__codelineno-0-795"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-796" name="__codelineno-0-796"></a><span class="sd">        Get a Campsite&#39;s Details</span>
<a id="__codelineno-0-797" name="__codelineno-0-797"></a>
<a id="__codelineno-0-798" name="__codelineno-0-798"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-799" name="__codelineno-0-799"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-800" name="__codelineno-0-800"></a><span class="sd">        campsite_id: int</span>
<a id="__codelineno-0-801" name="__codelineno-0-801"></a>
<a id="__codelineno-0-802" name="__codelineno-0-802"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-803" name="__codelineno-0-803"></a><span class="sd">        -------</span>
<a id="__codelineno-0-804" name="__codelineno-0-804"></a><span class="sd">        CampsiteResponse</span>
<a id="__codelineno-0-805" name="__codelineno-0-805"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-806" name="__codelineno-0-806"></a>        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ridb_data</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">CAMPSITE_API_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">campsite_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-807" name="__codelineno-0-807"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-808" name="__codelineno-0-808"></a>            <span class="n">response</span> <span class="o">=</span> <span class="n">CampsiteResponse</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-0-809" name="__codelineno-0-809"></a>        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
<a id="__codelineno-0-810" name="__codelineno-0-810"></a>            <span class="k">raise</span> <span class="n">ProviderSearchError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Campsite with ID #</span><span class="si">{</span><span class="n">campsite_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-811" name="__codelineno-0-811"></a>        <span class="k">return</span> <span class="n">response</span>
<a id="__codelineno-0-812" name="__codelineno-0-812"></a>
<a id="__codelineno-0-813" name="__codelineno-0-813"></a>    <span class="k">def</span> <span class="nf">get_campground_ids_by_campsites</span><span class="p">(</span>
<a id="__codelineno-0-814" name="__codelineno-0-814"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">campsite_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
<a id="__codelineno-0-815" name="__codelineno-0-815"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">CampsiteResponse</span><span class="p">]]:</span>
<a id="__codelineno-0-816" name="__codelineno-0-816"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-817" name="__codelineno-0-817"></a><span class="sd">        Retrieve a list of FacilityIDs, and Facilities from a Campsite ID List</span>
<a id="__codelineno-0-818" name="__codelineno-0-818"></a>
<a id="__codelineno-0-819" name="__codelineno-0-819"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-820" name="__codelineno-0-820"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-821" name="__codelineno-0-821"></a><span class="sd">        campsite_ids: List[int]</span>
<a id="__codelineno-0-822" name="__codelineno-0-822"></a><span class="sd">            List of Campsite IDs</span>
<a id="__codelineno-0-823" name="__codelineno-0-823"></a>
<a id="__codelineno-0-824" name="__codelineno-0-824"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-825" name="__codelineno-0-825"></a><span class="sd">        -------</span>
<a id="__codelineno-0-826" name="__codelineno-0-826"></a><span class="sd">        Tuple[List[int], List[CampsiteResponse]]</span>
<a id="__codelineno-0-827" name="__codelineno-0-827"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-828" name="__codelineno-0-828"></a>        <span class="n">campground_ids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-829" name="__codelineno-0-829"></a>        <span class="n">campgrounds</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-830" name="__codelineno-0-830"></a>        <span class="k">for</span> <span class="n">campsite_id</span> <span class="ow">in</span> <span class="n">campsite_ids</span><span class="p">:</span>
<a id="__codelineno-0-831" name="__codelineno-0-831"></a>            <span class="n">campsite</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_campsite_by_id</span><span class="p">(</span><span class="n">campsite_id</span><span class="o">=</span><span class="n">campsite_id</span><span class="p">)</span>
<a id="__codelineno-0-832" name="__codelineno-0-832"></a>            <span class="n">campgrounds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">campsite</span><span class="p">)</span>
<a id="__codelineno-0-833" name="__codelineno-0-833"></a>            <span class="n">campground_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">campsite</span><span class="o">.</span><span class="n">FacilityID</span><span class="p">)</span>
<a id="__codelineno-0-834" name="__codelineno-0-834"></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">campground_ids</span><span class="p">)),</span> <span class="nb">list</span><span class="p">(</span><span class="n">campgrounds</span><span class="p">)</span>
<a id="__codelineno-0-835" name="__codelineno-0-835"></a>
<a id="__codelineno-0-836" name="__codelineno-0-836"></a>    <span class="k">def</span> <span class="nf">_process_specific_campsites_provided</span><span class="p">(</span>
<a id="__codelineno-0-837" name="__codelineno-0-837"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">campsite_id</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-838" name="__codelineno-0-838"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]:</span>
<a id="__codelineno-0-839" name="__codelineno-0-839"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-840" name="__codelineno-0-840"></a><span class="sd">        Process Requests for Campgrounds into Facilities</span>
<a id="__codelineno-0-841" name="__codelineno-0-841"></a>
<a id="__codelineno-0-842" name="__codelineno-0-842"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-843" name="__codelineno-0-843"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-844" name="__codelineno-0-844"></a><span class="sd">        campsite_id: Optional[List[int]]</span>
<a id="__codelineno-0-845" name="__codelineno-0-845"></a>
<a id="__codelineno-0-846" name="__codelineno-0-846"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-847" name="__codelineno-0-847"></a><span class="sd">        -------</span>
<a id="__codelineno-0-848" name="__codelineno-0-848"></a><span class="sd">        List[CampgroundFacility]</span>
<a id="__codelineno-0-849" name="__codelineno-0-849"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-850" name="__codelineno-0-850"></a>        <span class="n">facility_ids</span><span class="p">,</span> <span class="n">campsites</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_campground_ids_by_campsites</span><span class="p">(</span>
<a id="__codelineno-0-851" name="__codelineno-0-851"></a>            <span class="n">campsite_ids</span><span class="o">=</span><span class="n">campsite_id</span>
<a id="__codelineno-0-852" name="__codelineno-0-852"></a>        <span class="p">)</span>
<a id="__codelineno-0-853" name="__codelineno-0-853"></a>        <span class="n">facilities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-854" name="__codelineno-0-854"></a>        <span class="k">for</span> <span class="n">campsite</span> <span class="ow">in</span> <span class="n">campsites</span><span class="p">:</span>
<a id="__codelineno-0-855" name="__codelineno-0-855"></a>            <span class="n">facility</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_facilities_from_campgrounds</span><span class="p">(</span>
<a id="__codelineno-0-856" name="__codelineno-0-856"></a>                <span class="n">campground_id</span><span class="o">=</span><span class="p">[</span><span class="n">campsite</span><span class="o">.</span><span class="n">FacilityID</span><span class="p">]</span>
<a id="__codelineno-0-857" name="__codelineno-0-857"></a>            <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-858" name="__codelineno-0-858"></a>            <span class="n">facilities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">facility</span><span class="p">)</span>
<a id="__codelineno-0-859" name="__codelineno-0-859"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-860" name="__codelineno-0-860"></a>                <span class="s2">&quot;Searching Specific Campsite: ‚õ∫Ô∏è &quot;</span>
<a id="__codelineno-0-861" name="__codelineno-0-861"></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">campsite</span><span class="o">.</span><span class="n">CampsiteName</span><span class="si">}</span><span class="s2"> (#</span><span class="si">{</span><span class="n">campsite</span><span class="o">.</span><span class="n">CampsiteID</span><span class="si">}</span><span class="s2">) - &quot;</span>
<a id="__codelineno-0-862" name="__codelineno-0-862"></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">facility</span><span class="o">.</span><span class="n">facility_name</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">facility</span><span class="o">.</span><span class="n">recreation_area</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-863" name="__codelineno-0-863"></a>            <span class="p">)</span>
<a id="__codelineno-0-864" name="__codelineno-0-864"></a>        <span class="k">return</span> <span class="n">facilities</span>
<a id="__codelineno-0-865" name="__codelineno-0-865"></a>
<a id="__codelineno-0-866" name="__codelineno-0-866"></a>    <span class="k">def</span> <span class="nf">get_internal_campsite_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">facility_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<a id="__codelineno-0-867" name="__codelineno-0-867"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-868" name="__codelineno-0-868"></a><span class="sd">        Retrieve Metadata About all of the underlying Campsites to Search</span>
<a id="__codelineno-0-869" name="__codelineno-0-869"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-870" name="__codelineno-0-870"></a>        <span class="n">all_campsites</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">RecDotGovCampsite</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-871" name="__codelineno-0-871"></a>        <span class="k">for</span> <span class="n">facility_id</span> <span class="ow">in</span> <span class="n">facility_ids</span><span class="p">:</span>
<a id="__codelineno-0-872" name="__codelineno-0-872"></a>            <span class="n">all_campsites</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginate_recdotgov_campsites</span><span class="p">(</span><span class="n">facility_id</span><span class="o">=</span><span class="n">facility_id</span><span class="p">)</span>
<a id="__codelineno-0-873" name="__codelineno-0-873"></a>        <span class="n">all_campsite_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<a id="__codelineno-0-874" name="__codelineno-0-874"></a>            <span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">all_campsites</span><span class="p">],</span>
<a id="__codelineno-0-875" name="__codelineno-0-875"></a>            <span class="n">columns</span><span class="o">=</span><span class="n">RecDotGovCampsite</span><span class="o">.</span><span class="n">__fields__</span><span class="p">,</span>
<a id="__codelineno-0-876" name="__codelineno-0-876"></a>        <span class="p">)</span>
<a id="__codelineno-0-877" name="__codelineno-0-877"></a>        <span class="n">all_campsite_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;campsite_id&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-878" name="__codelineno-0-878"></a>        <span class="k">return</span> <span class="n">all_campsite_df</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.__init__" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Initialize with Search Dates</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">    Initialize with Search Dates</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>    <span class="k">if</span> <span class="n">api_key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>        <span class="n">_api_key</span> <span class="o">=</span> <span class="n">RIDBConfig</span><span class="o">.</span><span class="n">API_KEY</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_api_key</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>            <span class="n">_api_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">b64decode</span><span class="p">(</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">API_KEY</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>        <span class="n">_api_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">api_key</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_ridb_api_headers</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">accept</span><span class="o">=</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span> <span class="n">apikey</span><span class="o">=</span><span class="n">_api_key</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.__repr__" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>String Representation</p>
<h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.__repr__--returns">Returns<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.__repr__--returns" title="Permanent link">#</a></h5>
<p>str</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">    String Representation</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="sd">    -------</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">    str</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>    <span class="k">return</span> <span class="s2">&quot;&lt;RecreationDotGov&gt;&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_campgrounds" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_campgrounds</span><span class="p">(</span><span class="n">search_string</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rec_area_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">campground_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">campsite_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_campgrounds" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Find Bookable Campgrounds Given a Set of Search Criteria</p>
<h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_campgrounds--parameters">Parameters<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_campgrounds--parameters" title="Permanent link">#</a></h5>

<details class="search_string">
  <summary>str</summary>
  <p>Search Keyword(s)</p>
</details>
<details class="rec_area_id">
  <summary>Optional[List[int]]</summary>
  <p>Recreation Area ID to filter with</p>
</details>
<details class="campground_id">
  <summary>Optional[List[int]]</summary>
  <p>ID of the Campground</p>
</details>
<details class="campsite_id">
  <summary>Optional[List[int]]</summary>
  <p>ID of the Campsite</p>
</details>      <h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_campgrounds--returns">Returns<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_campgrounds--returns" title="Permanent link">#</a></h5>

<details class="facilities">
  <summary>List[CampgroundFacility]</summary>
  <p>Array of Matching Campsites</p>
</details>
      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="k">def</span> <span class="nf">find_campgrounds</span><span class="p">(</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>    <span class="n">search_string</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>    <span class="n">rec_area_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span class="n">campground_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>    <span class="n">campsite_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]:</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="sd">    Find Bookable Campgrounds Given a Set of Search Criteria</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="sd">    search_string: str</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a><span class="sd">        Search Keyword(s)</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">    rec_area_id: Optional[List[int]]</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="sd">        Recreation Area ID to filter with</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">    campground_id: Optional[List[int]]</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">        ID of the Campground</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">    campsite_id: Optional[List[int]]</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">        ID of the Campsite</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="sd">    -------</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a><span class="sd">    facilities: List[CampgroundFacility]</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a><span class="sd">        Array of Matching Campsites</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>    <span class="k">if</span> <span class="n">campsite_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[],</span> <span class="p">()):</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>        <span class="n">facilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_specific_campsites_provided</span><span class="p">(</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>            <span class="n">campsite_id</span><span class="o">=</span><span class="n">campsite_id</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>        <span class="p">)</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>    <span class="k">elif</span> <span class="n">campground_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[],</span> <span class="p">()):</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>        <span class="n">facilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_facilities_from_campgrounds</span><span class="p">(</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>            <span class="n">campground_id</span><span class="o">=</span><span class="n">campground_id</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>        <span class="p">)</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>    <span class="k">elif</span> <span class="n">rec_area_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[],</span> <span class="p">()):</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>        <span class="n">facilities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>        <span class="k">for</span> <span class="n">recreation_area</span> <span class="ow">in</span> <span class="n">rec_area_id</span><span class="p">:</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>            <span class="n">facilities</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_facilities_per_recreation_area</span><span class="p">(</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>                <span class="n">rec_area_id</span><span class="o">=</span><span class="n">recreation_area</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>            <span class="p">)</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>        <span class="n">state_arg</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>        <span class="k">if</span> <span class="n">state_arg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>            <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">state_arg</span><span class="o">.</span><span class="n">upper</span><span class="p">()})</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>        <span class="k">if</span> <span class="n">search_string</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="ow">and</span> <span class="n">state_arg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>                <span class="s2">&quot;You must provide a search query or state to find campsites&quot;</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>            <span class="p">)</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>        <span class="n">facilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_facilities_from_search</span><span class="p">(</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>            <span class="n">search</span><span class="o">=</span><span class="n">search_string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>        <span class="p">)</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>    <span class="k">return</span> <span class="n">facilities</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_facilities_per_recreation_area" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_facilities_per_recreation_area</span><span class="p">(</span><span class="n">rec_area_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_facilities_per_recreation_area" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Find Matching Campsites Based from Recreation Area</p>
<h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_facilities_per_recreation_area--parameters">Parameters<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_facilities_per_recreation_area--parameters" title="Permanent link">#</a></h5>

<details class="rec_area_id">
  <summary>int</summary>
  <p>Recreation Area ID</p>
</details>      <h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_facilities_per_recreation_area--returns">Returns<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_facilities_per_recreation_area--returns" title="Permanent link">#</a></h5>

<details class="campgrounds">
  <summary>List[CampgroundFacility]</summary>
  <p>Array of Matching Campsites</p>
</details>
      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="k">def</span> <span class="nf">find_facilities_per_recreation_area</span><span class="p">(</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">rec_area_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]:</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="sd">    Find Matching Campsites Based from Recreation Area</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="sd">    rec_area_id: int</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="sd">        Recreation Area ID</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">    -------</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">    campgrounds: List[CampgroundFacility]</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">        Array of Matching Campsites</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>        <span class="sa">f</span><span class="s2">&quot;Retrieving Facility Information for Recreation Area ID: `</span><span class="si">{</span><span class="n">rec_area_id</span><span class="si">}</span><span class="s2">`.&quot;</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>    <span class="p">)</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>    <span class="n">api_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">REC_AREA_API_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">rec_area_id</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">FACILITIES_API_PATH</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>    <span class="n">api_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ridb_get_paginate</span><span class="p">(</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>        <span class="n">path</span><span class="o">=</span><span class="n">api_path</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">full</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>    <span class="p">)</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>    <span class="n">filtered_facilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_facilities_responses</span><span class="p">(</span><span class="n">responses</span><span class="o">=</span><span class="n">api_response</span><span class="p">)</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>    <span class="n">campgrounds</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">filtered_facilities</span><span class="p">)</span><span class="si">}</span><span class="s2"> Matching Campgrounds Found&quot;</span><span class="p">)</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>    <span class="k">for</span> <span class="n">facility</span> <span class="ow">in</span> <span class="n">filtered_facilities</span><span class="p">:</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>        <span class="n">_</span><span class="p">,</span> <span class="n">campground_facility</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_facilities_responses</span><span class="p">(</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>            <span class="n">facility</span><span class="o">=</span><span class="n">facility</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>        <span class="p">)</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>        <span class="k">if</span> <span class="n">campground_facility</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>            <span class="n">campgrounds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">campground_facility</span><span class="p">)</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>    <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">response_array</span><span class="o">=</span><span class="n">campgrounds</span><span class="p">)</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>    <span class="k">return</span> <span class="n">campgrounds</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_recreation_areas" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_recreation_areas</span><span class="p">(</span><span class="n">search_string</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_recreation_areas" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Find Matching Campsites Based on Search String</p>
<h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_recreation_areas--parameters">Parameters<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_recreation_areas--parameters" title="Permanent link">#</a></h5>

<details class="search_string">
  <summary>str</summary>
  <p>Search Keyword(s)</p>
</details>      <h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_recreation_areas--returns">Returns<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.find_recreation_areas--returns" title="Permanent link">#</a></h5>

<details class="filtered_responses">
  <summary>List[dict]</summary>
  <p>Array of Matching Campsites</p>
</details>
      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="k">def</span> <span class="nf">find_recreation_areas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_string</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">    Find Matching Campsites Based on Search String</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="sd">    search_string: str</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">        Search Keyword(s)</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">    -------</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">    filtered_responses: List[dict]</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">        Array of Matching Campsites</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>        <span class="k">assert</span> <span class="nb">any</span><span class="p">(</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>            <span class="p">[</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>                <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>                <span class="n">search_string</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">search_string</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>            <span class="p">]</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>        <span class="p">)</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>    <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>            <span class="s2">&quot;You must provide a search query or state(s) &quot;</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>            <span class="s2">&quot;to find Recreation Areas&quot;</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>        <span class="p">)</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Searching for Recreation Areas: &quot;</span><span class="si">{</span><span class="n">search_string</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>    <span class="n">state_arg</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>    <span class="k">if</span> <span class="n">state_arg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>        <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">state_arg</span><span class="o">.</span><span class="n">upper</span><span class="p">()})</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>    <span class="n">params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="n">search_string</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="n">full</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>    <span class="k">if</span> <span class="n">search_string</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>        <span class="n">params</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>    <span class="n">api_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ridb_get_paginate</span><span class="p">(</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>        <span class="n">path</span><span class="o">=</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">REC_AREA_API_PATH</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>    <span class="p">)</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">api_response</span><span class="p">)</span><span class="si">}</span><span class="s2"> recreation areas found.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>    <span class="n">logging_messages</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>    <span class="k">for</span> <span class="n">recreation_area_object</span> <span class="ow">in</span> <span class="n">api_response</span><span class="p">:</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>        <span class="n">_</span><span class="p">,</span> <span class="n">recreation_area</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_rec_area_response</span><span class="p">(</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>            <span class="n">recreation_area</span><span class="o">=</span><span class="n">recreation_area_object</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>        <span class="p">)</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>        <span class="k">if</span> <span class="n">recreation_area</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>            <span class="n">logging_messages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">recreation_area</span><span class="p">)</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>    <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">response_array</span><span class="o">=</span><span class="n">logging_messages</span><span class="p">)</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>    <span class="k">return</span> <span class="n">api_response</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campground_ids_by_campsites" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_campground_ids_by_campsites</span><span class="p">(</span><span class="n">campsite_ids</span><span class="p">)</span></code>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campground_ids_by_campsites" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Retrieve a list of FacilityIDs, and Facilities from a Campsite ID List</p>
<h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campground_ids_by_campsites--parameters">Parameters<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campground_ids_by_campsites--parameters" title="Permanent link">#</a></h5>

<details class="campsite_ids">
  <summary>List[int]</summary>
  <p>List of Campsite IDs</p>
</details>      <h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campground_ids_by_campsites--returns">Returns<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campground_ids_by_campsites--returns" title="Permanent link">#</a></h5>
<p>Tuple[List[int], List[CampsiteResponse]]</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-813">813</a></span>
<span class="normal"><a href="#__codelineno-0-814">814</a></span>
<span class="normal"><a href="#__codelineno-0-815">815</a></span>
<span class="normal"><a href="#__codelineno-0-816">816</a></span>
<span class="normal"><a href="#__codelineno-0-817">817</a></span>
<span class="normal"><a href="#__codelineno-0-818">818</a></span>
<span class="normal"><a href="#__codelineno-0-819">819</a></span>
<span class="normal"><a href="#__codelineno-0-820">820</a></span>
<span class="normal"><a href="#__codelineno-0-821">821</a></span>
<span class="normal"><a href="#__codelineno-0-822">822</a></span>
<span class="normal"><a href="#__codelineno-0-823">823</a></span>
<span class="normal"><a href="#__codelineno-0-824">824</a></span>
<span class="normal"><a href="#__codelineno-0-825">825</a></span>
<span class="normal"><a href="#__codelineno-0-826">826</a></span>
<span class="normal"><a href="#__codelineno-0-827">827</a></span>
<span class="normal"><a href="#__codelineno-0-828">828</a></span>
<span class="normal"><a href="#__codelineno-0-829">829</a></span>
<span class="normal"><a href="#__codelineno-0-830">830</a></span>
<span class="normal"><a href="#__codelineno-0-831">831</a></span>
<span class="normal"><a href="#__codelineno-0-832">832</a></span>
<span class="normal"><a href="#__codelineno-0-833">833</a></span>
<span class="normal"><a href="#__codelineno-0-834">834</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-813" name="__codelineno-0-813"></a><span class="k">def</span> <span class="nf">get_campground_ids_by_campsites</span><span class="p">(</span>
<a id="__codelineno-0-814" name="__codelineno-0-814"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">campsite_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
<a id="__codelineno-0-815" name="__codelineno-0-815"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">CampsiteResponse</span><span class="p">]]:</span>
<a id="__codelineno-0-816" name="__codelineno-0-816"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-817" name="__codelineno-0-817"></a><span class="sd">    Retrieve a list of FacilityIDs, and Facilities from a Campsite ID List</span>
<a id="__codelineno-0-818" name="__codelineno-0-818"></a>
<a id="__codelineno-0-819" name="__codelineno-0-819"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-820" name="__codelineno-0-820"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-821" name="__codelineno-0-821"></a><span class="sd">    campsite_ids: List[int]</span>
<a id="__codelineno-0-822" name="__codelineno-0-822"></a><span class="sd">        List of Campsite IDs</span>
<a id="__codelineno-0-823" name="__codelineno-0-823"></a>
<a id="__codelineno-0-824" name="__codelineno-0-824"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-825" name="__codelineno-0-825"></a><span class="sd">    -------</span>
<a id="__codelineno-0-826" name="__codelineno-0-826"></a><span class="sd">    Tuple[List[int], List[CampsiteResponse]]</span>
<a id="__codelineno-0-827" name="__codelineno-0-827"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-828" name="__codelineno-0-828"></a>    <span class="n">campground_ids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-829" name="__codelineno-0-829"></a>    <span class="n">campgrounds</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-830" name="__codelineno-0-830"></a>    <span class="k">for</span> <span class="n">campsite_id</span> <span class="ow">in</span> <span class="n">campsite_ids</span><span class="p">:</span>
<a id="__codelineno-0-831" name="__codelineno-0-831"></a>        <span class="n">campsite</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_campsite_by_id</span><span class="p">(</span><span class="n">campsite_id</span><span class="o">=</span><span class="n">campsite_id</span><span class="p">)</span>
<a id="__codelineno-0-832" name="__codelineno-0-832"></a>        <span class="n">campgrounds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">campsite</span><span class="p">)</span>
<a id="__codelineno-0-833" name="__codelineno-0-833"></a>        <span class="n">campground_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">campsite</span><span class="o">.</span><span class="n">FacilityID</span><span class="p">)</span>
<a id="__codelineno-0-834" name="__codelineno-0-834"></a>    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">campground_ids</span><span class="p">)),</span> <span class="nb">list</span><span class="p">(</span><span class="n">campgrounds</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campsite_by_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_campsite_by_id</span><span class="p">(</span><span class="n">campsite_id</span><span class="p">)</span></code>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campsite_by_id" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Get a Campsite's Details</p>
<h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campsite_by_id--parameters">Parameters<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campsite_by_id--parameters" title="Permanent link">#</a></h5>
<p>campsite_id: int</p>
<h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campsite_by_id--returns">Returns<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_campsite_by_id--returns" title="Permanent link">#</a></h5>
<p>CampsiteResponse</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-794">794</a></span>
<span class="normal"><a href="#__codelineno-0-795">795</a></span>
<span class="normal"><a href="#__codelineno-0-796">796</a></span>
<span class="normal"><a href="#__codelineno-0-797">797</a></span>
<span class="normal"><a href="#__codelineno-0-798">798</a></span>
<span class="normal"><a href="#__codelineno-0-799">799</a></span>
<span class="normal"><a href="#__codelineno-0-800">800</a></span>
<span class="normal"><a href="#__codelineno-0-801">801</a></span>
<span class="normal"><a href="#__codelineno-0-802">802</a></span>
<span class="normal"><a href="#__codelineno-0-803">803</a></span>
<span class="normal"><a href="#__codelineno-0-804">804</a></span>
<span class="normal"><a href="#__codelineno-0-805">805</a></span>
<span class="normal"><a href="#__codelineno-0-806">806</a></span>
<span class="normal"><a href="#__codelineno-0-807">807</a></span>
<span class="normal"><a href="#__codelineno-0-808">808</a></span>
<span class="normal"><a href="#__codelineno-0-809">809</a></span>
<span class="normal"><a href="#__codelineno-0-810">810</a></span>
<span class="normal"><a href="#__codelineno-0-811">811</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-794" name="__codelineno-0-794"></a><span class="k">def</span> <span class="nf">get_campsite_by_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">campsite_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CampsiteResponse</span><span class="p">:</span>
<a id="__codelineno-0-795" name="__codelineno-0-795"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-796" name="__codelineno-0-796"></a><span class="sd">    Get a Campsite&#39;s Details</span>
<a id="__codelineno-0-797" name="__codelineno-0-797"></a>
<a id="__codelineno-0-798" name="__codelineno-0-798"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-799" name="__codelineno-0-799"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-800" name="__codelineno-0-800"></a><span class="sd">    campsite_id: int</span>
<a id="__codelineno-0-801" name="__codelineno-0-801"></a>
<a id="__codelineno-0-802" name="__codelineno-0-802"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-803" name="__codelineno-0-803"></a><span class="sd">    -------</span>
<a id="__codelineno-0-804" name="__codelineno-0-804"></a><span class="sd">    CampsiteResponse</span>
<a id="__codelineno-0-805" name="__codelineno-0-805"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-806" name="__codelineno-0-806"></a>    <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ridb_data</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">RIDBConfig</span><span class="o">.</span><span class="n">CAMPSITE_API_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">campsite_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-807" name="__codelineno-0-807"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-808" name="__codelineno-0-808"></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">CampsiteResponse</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-0-809" name="__codelineno-0-809"></a>    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
<a id="__codelineno-0-810" name="__codelineno-0-810"></a>        <span class="k">raise</span> <span class="n">ProviderSearchError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Campsite with ID #</span><span class="si">{</span><span class="n">campsite_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-811" name="__codelineno-0-811"></a>    <span class="k">return</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_internal_campsite_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_internal_campsite_metadata</span><span class="p">(</span><span class="n">facility_ids</span><span class="p">)</span></code>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_internal_campsite_metadata" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Retrieve Metadata About all of the underlying Campsites to Search</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-866">866</a></span>
<span class="normal"><a href="#__codelineno-0-867">867</a></span>
<span class="normal"><a href="#__codelineno-0-868">868</a></span>
<span class="normal"><a href="#__codelineno-0-869">869</a></span>
<span class="normal"><a href="#__codelineno-0-870">870</a></span>
<span class="normal"><a href="#__codelineno-0-871">871</a></span>
<span class="normal"><a href="#__codelineno-0-872">872</a></span>
<span class="normal"><a href="#__codelineno-0-873">873</a></span>
<span class="normal"><a href="#__codelineno-0-874">874</a></span>
<span class="normal"><a href="#__codelineno-0-875">875</a></span>
<span class="normal"><a href="#__codelineno-0-876">876</a></span>
<span class="normal"><a href="#__codelineno-0-877">877</a></span>
<span class="normal"><a href="#__codelineno-0-878">878</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-866" name="__codelineno-0-866"></a><span class="k">def</span> <span class="nf">get_internal_campsite_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">facility_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<a id="__codelineno-0-867" name="__codelineno-0-867"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-868" name="__codelineno-0-868"></a><span class="sd">    Retrieve Metadata About all of the underlying Campsites to Search</span>
<a id="__codelineno-0-869" name="__codelineno-0-869"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-870" name="__codelineno-0-870"></a>    <span class="n">all_campsites</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">RecDotGovCampsite</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-871" name="__codelineno-0-871"></a>    <span class="k">for</span> <span class="n">facility_id</span> <span class="ow">in</span> <span class="n">facility_ids</span><span class="p">:</span>
<a id="__codelineno-0-872" name="__codelineno-0-872"></a>        <span class="n">all_campsites</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginate_recdotgov_campsites</span><span class="p">(</span><span class="n">facility_id</span><span class="o">=</span><span class="n">facility_id</span><span class="p">)</span>
<a id="__codelineno-0-873" name="__codelineno-0-873"></a>    <span class="n">all_campsite_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<a id="__codelineno-0-874" name="__codelineno-0-874"></a>        <span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">all_campsites</span><span class="p">],</span>
<a id="__codelineno-0-875" name="__codelineno-0-875"></a>        <span class="n">columns</span><span class="o">=</span><span class="n">RecDotGovCampsite</span><span class="o">.</span><span class="n">__fields__</span><span class="p">,</span>
<a id="__codelineno-0-876" name="__codelineno-0-876"></a>    <span class="p">)</span>
<a id="__codelineno-0-877" name="__codelineno-0-877"></a>    <span class="n">all_campsite_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;campsite_id&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-878" name="__codelineno-0-878"></a>    <span class="k">return</span> <span class="n">all_campsite_df</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_recdotgov_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_recdotgov_data</span><span class="p">(</span><span class="n">campground_id</span><span class="p">,</span> <span class="n">month</span><span class="p">)</span></code>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_recdotgov_data" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Find Campsite Availability Data</p>
<h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_recdotgov_data--parameters">Parameters<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_recdotgov_data--parameters" title="Permanent link">#</a></h5>

<details class="campground_id">
  <summary>int</summary>
  <p>Campground ID from the RIDB API. Can also be pulled of URLs on Recreation.gov</p>
</details>
<details class="month">
  <summary>datetime</summary>
  <p>datetime object, results will be filtered to month</p>
</details>      <h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_recdotgov_data--returns">Returns<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_recdotgov_data--returns" title="Permanent link">#</a></h5>
<p>Union[dict, list]</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-646">646</a></span>
<span class="normal"><a href="#__codelineno-0-647">647</a></span>
<span class="normal"><a href="#__codelineno-0-648">648</a></span>
<span class="normal"><a href="#__codelineno-0-649">649</a></span>
<span class="normal"><a href="#__codelineno-0-650">650</a></span>
<span class="normal"><a href="#__codelineno-0-651">651</a></span>
<span class="normal"><a href="#__codelineno-0-652">652</a></span>
<span class="normal"><a href="#__codelineno-0-653">653</a></span>
<span class="normal"><a href="#__codelineno-0-654">654</a></span>
<span class="normal"><a href="#__codelineno-0-655">655</a></span>
<span class="normal"><a href="#__codelineno-0-656">656</a></span>
<span class="normal"><a href="#__codelineno-0-657">657</a></span>
<span class="normal"><a href="#__codelineno-0-658">658</a></span>
<span class="normal"><a href="#__codelineno-0-659">659</a></span>
<span class="normal"><a href="#__codelineno-0-660">660</a></span>
<span class="normal"><a href="#__codelineno-0-661">661</a></span>
<span class="normal"><a href="#__codelineno-0-662">662</a></span>
<span class="normal"><a href="#__codelineno-0-663">663</a></span>
<span class="normal"><a href="#__codelineno-0-664">664</a></span>
<span class="normal"><a href="#__codelineno-0-665">665</a></span>
<span class="normal"><a href="#__codelineno-0-666">666</a></span>
<span class="normal"><a href="#__codelineno-0-667">667</a></span>
<span class="normal"><a href="#__codelineno-0-668">668</a></span>
<span class="normal"><a href="#__codelineno-0-669">669</a></span>
<span class="normal"><a href="#__codelineno-0-670">670</a></span>
<span class="normal"><a href="#__codelineno-0-671">671</a></span>
<span class="normal"><a href="#__codelineno-0-672">672</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-646" name="__codelineno-0-646"></a><span class="k">def</span> <span class="nf">get_recdotgov_data</span><span class="p">(</span>
<a id="__codelineno-0-647" name="__codelineno-0-647"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">campground_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">month</span><span class="p">:</span> <span class="n">datetime</span>
<a id="__codelineno-0-648" name="__codelineno-0-648"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">]:</span>
<a id="__codelineno-0-649" name="__codelineno-0-649"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-650" name="__codelineno-0-650"></a><span class="sd">    Find Campsite Availability Data</span>
<a id="__codelineno-0-651" name="__codelineno-0-651"></a>
<a id="__codelineno-0-652" name="__codelineno-0-652"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-653" name="__codelineno-0-653"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-654" name="__codelineno-0-654"></a><span class="sd">    campground_id: int</span>
<a id="__codelineno-0-655" name="__codelineno-0-655"></a><span class="sd">        Campground ID from the RIDB API. Can also be pulled of URLs on Recreation.gov</span>
<a id="__codelineno-0-656" name="__codelineno-0-656"></a><span class="sd">    month: datetime</span>
<a id="__codelineno-0-657" name="__codelineno-0-657"></a><span class="sd">        datetime object, results will be filtered to month</span>
<a id="__codelineno-0-658" name="__codelineno-0-658"></a>
<a id="__codelineno-0-659" name="__codelineno-0-659"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-660" name="__codelineno-0-660"></a><span class="sd">    -------</span>
<a id="__codelineno-0-661" name="__codelineno-0-661"></a><span class="sd">    Union[dict, list]</span>
<a id="__codelineno-0-662" name="__codelineno-0-662"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-663" name="__codelineno-0-663"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-664" name="__codelineno-0-664"></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_recdotgov_availability_request</span><span class="p">(</span>
<a id="__codelineno-0-665" name="__codelineno-0-665"></a>            <span class="n">campground_id</span><span class="o">=</span><span class="n">campground_id</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">month</span>
<a id="__codelineno-0-666" name="__codelineno-0-666"></a>        <span class="p">)</span>
<a id="__codelineno-0-667" name="__codelineno-0-667"></a>    <span class="k">except</span> <span class="n">tenacity</span><span class="o">.</span><span class="n">RetryError</span><span class="p">:</span>
<a id="__codelineno-0-668" name="__codelineno-0-668"></a>        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
<a id="__codelineno-0-669" name="__codelineno-0-669"></a>            <span class="s2">&quot;Something went wrong in fetching data from the &quot;</span>
<a id="__codelineno-0-670" name="__codelineno-0-670"></a>            <span class="s2">&quot;RecreationDotGov API.&quot;</span>
<a id="__codelineno-0-671" name="__codelineno-0-671"></a>        <span class="p">)</span>
<a id="__codelineno-0-672" name="__codelineno-0-672"></a>    <span class="k">return</span> <span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_ridb_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_ridb_data</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_ridb_data" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Find Matching Campsites Based on Search String</p>
<h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_ridb_data--parameters">Parameters<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_ridb_data--parameters" title="Permanent link">#</a></h5>

<details class="path">
  <summary>str</summary>
  <p>URL Endpoint, see <a href="https://ridb.recreation.gov/docs">https://ridb.recreation.gov/docs</a></p>
</details>      <h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_ridb_data--returns">Returns<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.get_ridb_data--returns" title="Permanent link">#</a></h5>
<p>Union[dict, list]</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-295" name="__codelineno-0-295"></a><span class="nd">@tenacity</span><span class="o">.</span><span class="n">retry</span><span class="p">(</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>    <span class="n">wait</span><span class="o">=</span><span class="n">tenacity</span><span class="o">.</span><span class="n">wait_random_exponential</span><span class="p">(</span><span class="n">multiplier</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>    <span class="n">stop</span><span class="o">=</span><span class="n">tenacity</span><span class="o">.</span><span class="n">stop</span><span class="o">.</span><span class="n">stop_after_delay</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a><span class="p">)</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a><span class="k">def</span> <span class="nf">get_ridb_data</span><span class="p">(</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">]:</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a><span class="sd">    Find Matching Campsites Based on Search String</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a><span class="sd">    path: str</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a><span class="sd">        URL Endpoint, see https://ridb.recreation.gov/docs</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a><span class="sd">    params: Optional[dict]</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a><span class="sd">        API Call Parameters</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="sd">    -------</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a><span class="sd">    Union[dict, list]</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>    <span class="n">api_endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ridb_get_endpoint</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>    <span class="n">headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ridb_api_headers</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>    <span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">choice</span><span class="p">(</span><span class="n">USER_AGENTS</span><span class="p">))</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>        <span class="n">url</span><span class="o">=</span><span class="n">api_endpoint</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>    <span class="p">)</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>        <span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>    <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>        <span class="n">error_message</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>            <span class="sa">f</span><span class="s2">&quot;Receiving bad data from Recreation.gov API: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>        <span class="p">)</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>        <span class="k">raise</span> <span class="ne">ConnectionError</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>    <span class="k">return</span> <span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">make_recdotgov_request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Make a Raw Request to RecreationDotGov</p>
<h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request--parameters">Parameters<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request--parameters" title="Permanent link">#</a></h5>
<p>url: str
method: str</p>
      <h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request--returns">Returns<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request--returns" title="Permanent link">#</a></h5>
<p>requests.Response</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-505" name="__codelineno-0-505"></a><span class="nd">@classmethod</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a><span class="k">def</span> <span class="nf">make_recdotgov_request</span><span class="p">(</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>    <span class="bp">cls</span><span class="p">,</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>    <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>    <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a><span class="sd">    Make a Raw Request to RecreationDotGov</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a><span class="sd">    url: str</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a><span class="sd">    method: str</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a><span class="sd">    params: Optional[Dict[str, Any]]</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a><span class="sd">    -------</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a><span class="sd">    requests.Response</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>    <span class="c1"># BUILD THE HEADERS EXPECTED FROM THE API</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>    <span class="n">headers</span> <span class="o">=</span> <span class="n">STANDARD_HEADERS</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>    <span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">choice</span><span class="p">(</span><span class="n">USER_AGENTS</span><span class="p">))</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>    <span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">API_REFERRERS</span><span class="p">)</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>        <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>    <span class="p">)</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>    <span class="k">return</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request_retry" class="doc doc-heading">
<code class="highlight language-python"><span class="n">make_recdotgov_request_retry</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request_retry" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Make a Raw Request to RecreationDotGov - But Handle 404</p>
<h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request_retry--parameters">Parameters<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request_retry--parameters" title="Permanent link">#</a></h5>
<p>url: str
method: str</p>
      <h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request_retry--returns">Returns<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.make_recdotgov_request_retry--returns" title="Permanent link">#</a></h5>
<p>requests.Response</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-535" name="__codelineno-0-535"></a><span class="nd">@classmethod</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a><span class="nd">@tenacity</span><span class="o">.</span><span class="n">retry</span><span class="p">(</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>    <span class="n">wait</span><span class="o">=</span><span class="n">tenacity</span><span class="o">.</span><span class="n">wait_random_exponential</span><span class="p">(</span><span class="n">multiplier</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>    <span class="n">stop</span><span class="o">=</span><span class="n">tenacity</span><span class="o">.</span><span class="n">stop</span><span class="o">.</span><span class="n">stop_after_delay</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a><span class="p">)</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a><span class="k">def</span> <span class="nf">make_recdotgov_request_retry</span><span class="p">(</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>    <span class="bp">cls</span><span class="p">,</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>    <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>    <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a><span class="sd">    Make a Raw Request to RecreationDotGov - But Handle 404</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a><span class="sd">    url: str</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a><span class="sd">    method: str</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a><span class="sd">    params: Optional[Dict[str, Any]]</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a><span class="sd">    -------</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a><span class="sd">    requests.Response</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a>    <span class="n">response</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">make_recdotgov_request</span><span class="p">(</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>        <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>    <span class="p">)</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>    <span class="k">return</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.paginate_recdotgov_campsites" class="doc doc-heading">
<code class="highlight language-python"><span class="n">paginate_recdotgov_campsites</span><span class="p">(</span><span class="n">facility_id</span><span class="p">,</span> <span class="n">equipment</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.paginate_recdotgov_campsites" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Paginate through the RecDotGov Campsite Metadata</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-566" name="__codelineno-0-566"></a><span class="k">def</span> <span class="nf">paginate_recdotgov_campsites</span><span class="p">(</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">facility_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">equipment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">RecDotGovCampsite</span><span class="p">]:</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a><span class="sd">    Paginate through the RecDotGov Campsite Metadata</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>    <span class="n">results</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>    <span class="n">continue_paginate</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>    <span class="n">endpoint_url</span> <span class="o">=</span> <span class="n">api_utils</span><span class="o">.</span><span class="n">generate_url</span><span class="p">(</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>        <span class="n">scheme</span><span class="o">=</span><span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">API_SCHEME</span><span class="p">,</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>        <span class="n">netloc</span><span class="o">=</span><span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">API_NET_LOC</span><span class="p">,</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>        <span class="n">path</span><span class="o">=</span><span class="s2">&quot;api/search/campsites&quot;</span><span class="p">,</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>    <span class="p">)</span>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>    <span class="n">fq_list</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;asset_id:</span><span class="si">{</span><span class="n">facility_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">equipment</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">equipment</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">equipment</span><span class="p">:</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>            <span class="n">fq_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;campsite_equipment_name:</span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>    <span class="n">params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>        <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>        <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>        <span class="n">fq</span><span class="o">=</span><span class="n">fq_list</span><span class="p">,</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>        <span class="n">include_non_site_specific_campsites</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>    <span class="p">)</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>    <span class="n">campsites</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>    <span class="k">while</span> <span class="n">continue_paginate</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_recdotgov_request_retry</span><span class="p">(</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>            <span class="n">url</span><span class="o">=</span><span class="n">endpoint_url</span><span class="p">,</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>        <span class="p">)</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>        <span class="n">returned_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>        <span class="n">campsite_response</span> <span class="o">=</span> <span class="n">RecDotGovCampsiteResponse</span><span class="p">(</span><span class="o">**</span><span class="n">returned_data</span><span class="p">)</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>        <span class="n">campsites</span> <span class="o">+=</span> <span class="n">campsite_response</span><span class="o">.</span><span class="n">campsites</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>        <span class="n">results</span> <span class="o">+=</span> <span class="n">campsite_response</span><span class="o">.</span><span class="n">size</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a>        <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">results</span><span class="p">)</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a>        <span class="k">if</span> <span class="n">results</span> <span class="o">==</span> <span class="n">campsite_response</span><span class="o">.</span><span class="n">total</span><span class="p">:</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a>            <span class="n">continue_paginate</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>    <span class="k">return</span> <span class="n">campsites</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_campsite_availability" class="doc doc-heading">
<code class="highlight language-python"><span class="n">process_campsite_availability</span><span class="p">(</span><span class="n">availability</span><span class="p">,</span> <span class="n">recreation_area</span><span class="p">,</span> <span class="n">recreation_area_id</span><span class="p">,</span> <span class="n">facility_name</span><span class="p">,</span> <span class="n">facility_id</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">campsite_metadata</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_campsite_availability" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Parse the JSON Response and return availabilities</p>
<h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_campsite_availability--parameters">Parameters<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_campsite_availability--parameters" title="Permanent link">#</a></h5>

<details class="availability">
  <summary>dict</summary>
  <p>API Response</p>
</details>
<details class="recreation_area">
  <summary>str</summary>
  <p>Name of Recreation Area</p>
</details>
<details class="recreation_area_id">
  <summary>Union[int, str]</summary>
  <p>ID of Recreation Area</p>
</details>
<details class="facility_name">
  <summary>str</summary>
  <p>Campground Facility Name</p>
</details>
<details class="facility_id">
  <summary>int</summary>
  <p>Campground Facility ID</p>
</details>
<details class="month">
  <summary>datetime</summary>
  <p>Month to Process</p>
</details>
<details class="campsite_metadata">
  <summary>pd.DataFrame</summary>
  <p>Metadata Fetched from the Recreation.gov API about the Campsites</p>
</details>      <h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_campsite_availability--returns">Returns<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_campsite_availability--returns" title="Permanent link">#</a></h5>

<details class="total_campsite_availability">
  <summary>List[Optional[AvailableCampsite]]</summary>
  <p>Any monthly availabilities</p>
</details>
      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-711">711</a></span>
<span class="normal"><a href="#__codelineno-0-712">712</a></span>
<span class="normal"><a href="#__codelineno-0-713">713</a></span>
<span class="normal"><a href="#__codelineno-0-714">714</a></span>
<span class="normal"><a href="#__codelineno-0-715">715</a></span>
<span class="normal"><a href="#__codelineno-0-716">716</a></span>
<span class="normal"><a href="#__codelineno-0-717">717</a></span>
<span class="normal"><a href="#__codelineno-0-718">718</a></span>
<span class="normal"><a href="#__codelineno-0-719">719</a></span>
<span class="normal"><a href="#__codelineno-0-720">720</a></span>
<span class="normal"><a href="#__codelineno-0-721">721</a></span>
<span class="normal"><a href="#__codelineno-0-722">722</a></span>
<span class="normal"><a href="#__codelineno-0-723">723</a></span>
<span class="normal"><a href="#__codelineno-0-724">724</a></span>
<span class="normal"><a href="#__codelineno-0-725">725</a></span>
<span class="normal"><a href="#__codelineno-0-726">726</a></span>
<span class="normal"><a href="#__codelineno-0-727">727</a></span>
<span class="normal"><a href="#__codelineno-0-728">728</a></span>
<span class="normal"><a href="#__codelineno-0-729">729</a></span>
<span class="normal"><a href="#__codelineno-0-730">730</a></span>
<span class="normal"><a href="#__codelineno-0-731">731</a></span>
<span class="normal"><a href="#__codelineno-0-732">732</a></span>
<span class="normal"><a href="#__codelineno-0-733">733</a></span>
<span class="normal"><a href="#__codelineno-0-734">734</a></span>
<span class="normal"><a href="#__codelineno-0-735">735</a></span>
<span class="normal"><a href="#__codelineno-0-736">736</a></span>
<span class="normal"><a href="#__codelineno-0-737">737</a></span>
<span class="normal"><a href="#__codelineno-0-738">738</a></span>
<span class="normal"><a href="#__codelineno-0-739">739</a></span>
<span class="normal"><a href="#__codelineno-0-740">740</a></span>
<span class="normal"><a href="#__codelineno-0-741">741</a></span>
<span class="normal"><a href="#__codelineno-0-742">742</a></span>
<span class="normal"><a href="#__codelineno-0-743">743</a></span>
<span class="normal"><a href="#__codelineno-0-744">744</a></span>
<span class="normal"><a href="#__codelineno-0-745">745</a></span>
<span class="normal"><a href="#__codelineno-0-746">746</a></span>
<span class="normal"><a href="#__codelineno-0-747">747</a></span>
<span class="normal"><a href="#__codelineno-0-748">748</a></span>
<span class="normal"><a href="#__codelineno-0-749">749</a></span>
<span class="normal"><a href="#__codelineno-0-750">750</a></span>
<span class="normal"><a href="#__codelineno-0-751">751</a></span>
<span class="normal"><a href="#__codelineno-0-752">752</a></span>
<span class="normal"><a href="#__codelineno-0-753">753</a></span>
<span class="normal"><a href="#__codelineno-0-754">754</a></span>
<span class="normal"><a href="#__codelineno-0-755">755</a></span>
<span class="normal"><a href="#__codelineno-0-756">756</a></span>
<span class="normal"><a href="#__codelineno-0-757">757</a></span>
<span class="normal"><a href="#__codelineno-0-758">758</a></span>
<span class="normal"><a href="#__codelineno-0-759">759</a></span>
<span class="normal"><a href="#__codelineno-0-760">760</a></span>
<span class="normal"><a href="#__codelineno-0-761">761</a></span>
<span class="normal"><a href="#__codelineno-0-762">762</a></span>
<span class="normal"><a href="#__codelineno-0-763">763</a></span>
<span class="normal"><a href="#__codelineno-0-764">764</a></span>
<span class="normal"><a href="#__codelineno-0-765">765</a></span>
<span class="normal"><a href="#__codelineno-0-766">766</a></span>
<span class="normal"><a href="#__codelineno-0-767">767</a></span>
<span class="normal"><a href="#__codelineno-0-768">768</a></span>
<span class="normal"><a href="#__codelineno-0-769">769</a></span>
<span class="normal"><a href="#__codelineno-0-770">770</a></span>
<span class="normal"><a href="#__codelineno-0-771">771</a></span>
<span class="normal"><a href="#__codelineno-0-772">772</a></span>
<span class="normal"><a href="#__codelineno-0-773">773</a></span>
<span class="normal"><a href="#__codelineno-0-774">774</a></span>
<span class="normal"><a href="#__codelineno-0-775">775</a></span>
<span class="normal"><a href="#__codelineno-0-776">776</a></span>
<span class="normal"><a href="#__codelineno-0-777">777</a></span>
<span class="normal"><a href="#__codelineno-0-778">778</a></span>
<span class="normal"><a href="#__codelineno-0-779">779</a></span>
<span class="normal"><a href="#__codelineno-0-780">780</a></span>
<span class="normal"><a href="#__codelineno-0-781">781</a></span>
<span class="normal"><a href="#__codelineno-0-782">782</a></span>
<span class="normal"><a href="#__codelineno-0-783">783</a></span>
<span class="normal"><a href="#__codelineno-0-784">784</a></span>
<span class="normal"><a href="#__codelineno-0-785">785</a></span>
<span class="normal"><a href="#__codelineno-0-786">786</a></span>
<span class="normal"><a href="#__codelineno-0-787">787</a></span>
<span class="normal"><a href="#__codelineno-0-788">788</a></span>
<span class="normal"><a href="#__codelineno-0-789">789</a></span>
<span class="normal"><a href="#__codelineno-0-790">790</a></span>
<span class="normal"><a href="#__codelineno-0-791">791</a></span>
<span class="normal"><a href="#__codelineno-0-792">792</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-711" name="__codelineno-0-711"></a><span class="nd">@classmethod</span>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a><span class="k">def</span> <span class="nf">process_campsite_availability</span><span class="p">(</span>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a>    <span class="bp">cls</span><span class="p">,</span>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a>    <span class="n">availability</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a>    <span class="n">recreation_area</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-716" name="__codelineno-0-716"></a>    <span class="n">recreation_area_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<a id="__codelineno-0-717" name="__codelineno-0-717"></a>    <span class="n">facility_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-718" name="__codelineno-0-718"></a>    <span class="n">facility_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-719" name="__codelineno-0-719"></a>    <span class="n">month</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
<a id="__codelineno-0-720" name="__codelineno-0-720"></a>    <span class="n">campsite_metadata</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<a id="__codelineno-0-721" name="__codelineno-0-721"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">AvailableCampsite</span><span class="p">]]:</span>
<a id="__codelineno-0-722" name="__codelineno-0-722"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-723" name="__codelineno-0-723"></a><span class="sd">    Parse the JSON Response and return availabilities</span>
<a id="__codelineno-0-724" name="__codelineno-0-724"></a>
<a id="__codelineno-0-725" name="__codelineno-0-725"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-726" name="__codelineno-0-726"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-727" name="__codelineno-0-727"></a><span class="sd">    availability: dict</span>
<a id="__codelineno-0-728" name="__codelineno-0-728"></a><span class="sd">        API Response</span>
<a id="__codelineno-0-729" name="__codelineno-0-729"></a><span class="sd">    recreation_area: str</span>
<a id="__codelineno-0-730" name="__codelineno-0-730"></a><span class="sd">        Name of Recreation Area</span>
<a id="__codelineno-0-731" name="__codelineno-0-731"></a><span class="sd">    recreation_area_id: Union[int, str]</span>
<a id="__codelineno-0-732" name="__codelineno-0-732"></a><span class="sd">        ID of Recreation Area</span>
<a id="__codelineno-0-733" name="__codelineno-0-733"></a><span class="sd">    facility_name: str</span>
<a id="__codelineno-0-734" name="__codelineno-0-734"></a><span class="sd">        Campground Facility Name</span>
<a id="__codelineno-0-735" name="__codelineno-0-735"></a><span class="sd">    facility_id: int</span>
<a id="__codelineno-0-736" name="__codelineno-0-736"></a><span class="sd">        Campground Facility ID</span>
<a id="__codelineno-0-737" name="__codelineno-0-737"></a><span class="sd">    month: datetime</span>
<a id="__codelineno-0-738" name="__codelineno-0-738"></a><span class="sd">        Month to Process</span>
<a id="__codelineno-0-739" name="__codelineno-0-739"></a><span class="sd">    campsite_metadata: pd.DataFrame</span>
<a id="__codelineno-0-740" name="__codelineno-0-740"></a><span class="sd">        Metadata Fetched from the Recreation.gov API about the Campsites</span>
<a id="__codelineno-0-741" name="__codelineno-0-741"></a>
<a id="__codelineno-0-742" name="__codelineno-0-742"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-743" name="__codelineno-0-743"></a><span class="sd">    -------</span>
<a id="__codelineno-0-744" name="__codelineno-0-744"></a><span class="sd">    total_campsite_availability: List[Optional[AvailableCampsite]]</span>
<a id="__codelineno-0-745" name="__codelineno-0-745"></a><span class="sd">        Any monthly availabilities</span>
<a id="__codelineno-0-746" name="__codelineno-0-746"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-747" name="__codelineno-0-747"></a>    <span class="n">total_campsite_availability</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">AvailableCampsite</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-748" name="__codelineno-0-748"></a>    <span class="n">campsite_data</span> <span class="o">=</span> <span class="n">CampsiteAvailabilityResponse</span><span class="p">(</span><span class="o">**</span><span class="n">availability</span><span class="p">)</span>
<a id="__codelineno-0-749" name="__codelineno-0-749"></a>    <span class="k">for</span> <span class="n">campsite_id</span><span class="p">,</span> <span class="n">site_related_data</span> <span class="ow">in</span> <span class="n">campsite_data</span><span class="o">.</span><span class="n">campsites</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-750" name="__codelineno-0-750"></a>        <span class="k">for</span> <span class="p">(</span>
<a id="__codelineno-0-751" name="__codelineno-0-751"></a>            <span class="n">matching_date</span><span class="p">,</span>
<a id="__codelineno-0-752" name="__codelineno-0-752"></a>            <span class="n">availability_status</span><span class="p">,</span>
<a id="__codelineno-0-753" name="__codelineno-0-753"></a>        <span class="p">)</span> <span class="ow">in</span> <span class="n">site_related_data</span><span class="o">.</span><span class="n">availabilities</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-754" name="__codelineno-0-754"></a>            <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-755" name="__codelineno-0-755"></a>                <span class="n">availability_status</span>
<a id="__codelineno-0-756" name="__codelineno-0-756"></a>                <span class="ow">not</span> <span class="ow">in</span> <span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">CAMPSITE_UNAVAILABLE_STRINGS</span>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a>            <span class="p">):</span>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a>                <span class="n">booking_url</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-759" name="__codelineno-0-759"></a>                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">CAMPSITE_BOOKING_URL</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">campsite_id</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-760" name="__codelineno-0-760"></a>                <span class="p">)</span>
<a id="__codelineno-0-761" name="__codelineno-0-761"></a>                <span class="n">equipment</span><span class="p">,</span> <span class="n">attributes</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_equipment_and_attributes</span><span class="p">(</span>
<a id="__codelineno-0-762" name="__codelineno-0-762"></a>                    <span class="n">campsite_id</span><span class="o">=</span><span class="n">campsite_id</span><span class="p">,</span> <span class="n">campsite_metadata</span><span class="o">=</span><span class="n">campsite_metadata</span>
<a id="__codelineno-0-763" name="__codelineno-0-763"></a>                <span class="p">)</span>
<a id="__codelineno-0-764" name="__codelineno-0-764"></a>                <span class="n">available_campsite</span> <span class="o">=</span> <span class="n">AvailableCampsite</span><span class="p">(</span>
<a id="__codelineno-0-765" name="__codelineno-0-765"></a>                    <span class="n">campsite_id</span><span class="o">=</span><span class="n">campsite_id</span><span class="p">,</span>
<a id="__codelineno-0-766" name="__codelineno-0-766"></a>                    <span class="n">booking_date</span><span class="o">=</span><span class="n">matching_date</span><span class="p">,</span>
<a id="__codelineno-0-767" name="__codelineno-0-767"></a>                    <span class="n">booking_end_date</span><span class="o">=</span><span class="n">matching_date</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-0-768" name="__codelineno-0-768"></a>                    <span class="n">booking_nights</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-769" name="__codelineno-0-769"></a>                    <span class="n">campsite_site_name</span><span class="o">=</span><span class="n">site_related_data</span><span class="o">.</span><span class="n">site</span><span class="p">,</span>
<a id="__codelineno-0-770" name="__codelineno-0-770"></a>                    <span class="n">campsite_loop_name</span><span class="o">=</span><span class="n">site_related_data</span><span class="o">.</span><span class="n">loop</span><span class="p">,</span>
<a id="__codelineno-0-771" name="__codelineno-0-771"></a>                    <span class="n">campsite_type</span><span class="o">=</span><span class="n">site_related_data</span><span class="o">.</span><span class="n">campsite_type</span><span class="p">,</span>
<a id="__codelineno-0-772" name="__codelineno-0-772"></a>                    <span class="n">campsite_occupancy</span><span class="o">=</span><span class="p">(</span>
<a id="__codelineno-0-773" name="__codelineno-0-773"></a>                        <span class="n">site_related_data</span><span class="o">.</span><span class="n">min_num_people</span><span class="p">,</span>
<a id="__codelineno-0-774" name="__codelineno-0-774"></a>                        <span class="n">site_related_data</span><span class="o">.</span><span class="n">max_num_people</span><span class="p">,</span>
<a id="__codelineno-0-775" name="__codelineno-0-775"></a>                    <span class="p">),</span>
<a id="__codelineno-0-776" name="__codelineno-0-776"></a>                    <span class="n">campsite_use_type</span><span class="o">=</span><span class="n">site_related_data</span><span class="o">.</span><span class="n">type_of_use</span><span class="p">,</span>
<a id="__codelineno-0-777" name="__codelineno-0-777"></a>                    <span class="n">availability_status</span><span class="o">=</span><span class="n">availability_status</span><span class="p">,</span>
<a id="__codelineno-0-778" name="__codelineno-0-778"></a>                    <span class="n">recreation_area</span><span class="o">=</span><span class="n">recreation_area</span><span class="p">,</span>
<a id="__codelineno-0-779" name="__codelineno-0-779"></a>                    <span class="n">recreation_area_id</span><span class="o">=</span><span class="n">recreation_area_id</span><span class="p">,</span>
<a id="__codelineno-0-780" name="__codelineno-0-780"></a>                    <span class="n">facility_name</span><span class="o">=</span><span class="n">facility_name</span><span class="p">,</span>
<a id="__codelineno-0-781" name="__codelineno-0-781"></a>                    <span class="n">facility_id</span><span class="o">=</span><span class="n">facility_id</span><span class="p">,</span>
<a id="__codelineno-0-782" name="__codelineno-0-782"></a>                    <span class="n">booking_url</span><span class="o">=</span><span class="n">booking_url</span><span class="p">,</span>
<a id="__codelineno-0-783" name="__codelineno-0-783"></a>                    <span class="n">permitted_equipment</span><span class="o">=</span><span class="n">equipment</span><span class="p">,</span>
<a id="__codelineno-0-784" name="__codelineno-0-784"></a>                    <span class="n">campsite_attributes</span><span class="o">=</span><span class="n">attributes</span><span class="p">,</span>
<a id="__codelineno-0-785" name="__codelineno-0-785"></a>                <span class="p">)</span>
<a id="__codelineno-0-786" name="__codelineno-0-786"></a>                <span class="n">total_campsite_availability</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">available_campsite</span><span class="p">)</span>
<a id="__codelineno-0-787" name="__codelineno-0-787"></a>    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-788" name="__codelineno-0-788"></a>        <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{</span><span class="n">logging_utils</span><span class="o">.</span><span class="n">get_emoji</span><span class="p">(</span><span class="n">total_campsite_availability</span><span class="p">)</span><span class="si">}</span><span class="se">\t</span><span class="s2">&quot;</span>
<a id="__codelineno-0-789" name="__codelineno-0-789"></a>        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">total_campsite_availability</span><span class="p">)</span><span class="si">}</span><span class="s2"> total sites found in month of &quot;</span>
<a id="__codelineno-0-790" name="__codelineno-0-790"></a>        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">month</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%B&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-791" name="__codelineno-0-791"></a>    <span class="p">)</span>
<a id="__codelineno-0-792" name="__codelineno-0-792"></a>    <span class="k">return</span> <span class="n">total_campsite_availability</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_facilities_responses" class="doc doc-heading">
<code class="highlight language-python"><span class="n">process_facilities_responses</span><span class="p">(</span><span class="n">facility</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_facilities_responses" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Process Facilities Responses to be More Usable</p>
<h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_facilities_responses--parameters">Parameters<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_facilities_responses--parameters" title="Permanent link">#</a></h5>
<p>facility: dict</p>
<h5 id="camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_facilities_responses--returns">Returns<a class="headerlink" href="#camply.providers.recreation_dot_gov.recdotgov_provider.RecreationDotGov.process_facilities_responses--returns" title="Permanent link">#</a></h5>
<p>Tuple[dict, CampgroundFacility]</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/recreation_dot_gov/recdotgov_provider.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-413" name="__codelineno-0-413"></a><span class="nd">@classmethod</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a><span class="k">def</span> <span class="nf">process_facilities_responses</span><span class="p">(</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>    <span class="bp">cls</span><span class="p">,</span> <span class="n">facility</span><span class="p">:</span> <span class="nb">dict</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]]:</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a><span class="sd">    Process Facilities Responses to be More Usable</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a><span class="sd">    facility: dict</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a><span class="sd">    -------</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a><span class="sd">    Tuple[dict, CampgroundFacility]</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>    <span class="n">facility_object</span> <span class="o">=</span> <span class="n">FacilityResponse</span><span class="p">(</span><span class="o">**</span><span class="n">facility</span><span class="p">)</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>        <span class="n">facility_state</span> <span class="o">=</span> <span class="n">facility_object</span><span class="o">.</span><span class="n">FACILITYADDRESS</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">AddressStateCode</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>    <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>        <span class="n">facility_state</span> <span class="o">=</span> <span class="s2">&quot;USA&quot;</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">facility_object</span><span class="o">.</span><span class="n">RECAREA</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>            <span class="n">recreation_area_id</span> <span class="o">=</span> <span class="n">facility_object</span><span class="o">.</span><span class="n">ParentRecAreaID</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>            <span class="n">formatted_recreation_area</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">facility_object</span><span class="o">.</span><span class="n">ORGANIZATION</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">OrgName</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">facility_state</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>            <span class="p">)</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>            <span class="n">recreation_area</span> <span class="o">=</span> <span class="n">facility_object</span><span class="o">.</span><span class="n">RECAREA</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">RecAreaName</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>            <span class="n">recreation_area_id</span> <span class="o">=</span> <span class="n">facility_object</span><span class="o">.</span><span class="n">RECAREA</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">RecAreaID</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>            <span class="n">formatted_recreation_area</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">recreation_area</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">facility_state</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>        <span class="n">campground_facility</span> <span class="o">=</span> <span class="n">CampgroundFacility</span><span class="p">(</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>            <span class="n">facility_name</span><span class="o">=</span><span class="n">facility_object</span><span class="o">.</span><span class="n">FacilityName</span><span class="o">.</span><span class="n">title</span><span class="p">(),</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>            <span class="n">recreation_area</span><span class="o">=</span><span class="n">formatted_recreation_area</span><span class="p">,</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>            <span class="n">facility_id</span><span class="o">=</span><span class="n">facility_object</span><span class="o">.</span><span class="n">FacilityID</span><span class="p">,</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>            <span class="n">recreation_area_id</span><span class="o">=</span><span class="n">recreation_area_id</span><span class="p">,</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>        <span class="p">)</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>        <span class="k">return</span> <span class="n">facility</span><span class="p">,</span> <span class="n">campground_facility</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>    <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>        <span class="k">return</span> <span class="n">facility</span><span class="p">,</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="camply.SearchRecreationDotGov" class="doc doc-heading">
        <code>SearchRecreationDotGov</code>


<a href="#camply.SearchRecreationDotGov" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="camply.search.base_search.BaseCampingSearch" href="search/base_search/#camply.search.base_search.BaseCampingSearch">BaseCampingSearch</a></code></p>

  
      <p>Camping Search Object</p>


        <details class="quote">
          <summary>Source code in <code>camply/search/search_recreationdotgov.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-0-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-0-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-0-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-0-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-0-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-0-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-0-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-0-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-0-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-0-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-0-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-0-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-0-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-0-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-0-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-0-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-0-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-0-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-0-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-0-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-0-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-0-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-0-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="k">class</span> <span class="nc">SearchRecreationDotGov</span><span class="p">(</span><span class="n">BaseCampingSearch</span><span class="p">):</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">    Camping Search Object</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a>        <span class="n">search_window</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">SearchWindow</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">SearchWindow</span><span class="p">]],</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>        <span class="n">recreation_area</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>        <span class="n">campgrounds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a>        <span class="n">campsites</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>        <span class="n">weekends_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>        <span class="n">nights</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>        <span class="n">equipment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>        <span class="n">offline_search</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>        <span class="n">offline_search_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">        Initialize with Search Parameters</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">        search_window: Union[SearchWindow, List[SearchWindow]]</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">            Search Window tuple containing start date and End Date</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">        recreation_area: Optional[Union[List[int], int]]</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="sd">            ID of Recreation Area (i.e. 2907 - Rocky Mountain National Park)</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">        campgrounds: Optional[Union[List[int], int]]</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">            Campground ID or List of Campground IDs</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">        campsites: Optional[Union[List[int], int]]</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="sd">            Campsite ID or List of Campsite IDs</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">        weekends_only: bool</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="sd">            Whether to only search for Camping availabilities on the weekends (Friday /</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">            Saturday nights)</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">        nights: int</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">            minimum number of consecutive nights to search per campsite,defaults to 1</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">        equipment: Optional[List[Tuple[str, Optional[int]]]]</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">            List of Tuples of Equipment to Search for. An equipment tuple array looks</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">            like this: `[(&quot;Tent&quot;, None), (&quot;RV&quot;, 20)]` - meaning the selected search</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">            looks for sites to accommodate any tent size and RVs less than or equal</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">            to 20 feet. Tuples contain the Equipment name and an optional equipment</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">            length, otherwise provide None. Equipment names include `Tent`, `RV`,</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">            `Trailer`, `Vehicle` and are not case-sensitive.</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="sd">        offline_search: bool</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">            When set to True, the campsite search will both save the results of the</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">            campsites it&#39;s found, but also load those campsites before beginning a</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">            search for other campsites.</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="sd">        offline_search_path: Optional[str]</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="sd">            When offline search is set to True, this is the name of the file to be saved/loaded.</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="sd">            When not specified, the filename will default to `camply_campsites.json`</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">campsite_finder</span><span class="p">:</span> <span class="n">RecreationDotGov</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a>        <span class="nb">super</span><span class="p">(</span><span class="n">SearchRecreationDotGov</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>            <span class="n">provider</span><span class="o">=</span><span class="n">RecreationDotGov</span><span class="p">(),</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a>            <span class="n">search_window</span><span class="o">=</span><span class="n">search_window</span><span class="p">,</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a>            <span class="n">weekends_only</span><span class="o">=</span><span class="n">weekends_only</span><span class="p">,</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>            <span class="n">nights</span><span class="o">=</span><span class="n">nights</span><span class="p">,</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>            <span class="n">offline_search</span><span class="o">=</span><span class="n">offline_search</span><span class="p">,</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>            <span class="n">offline_search_path</span><span class="o">=</span><span class="n">offline_search_path</span><span class="p">,</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>        <span class="p">)</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_recreation_area_id</span> <span class="o">=</span> <span class="n">make_list</span><span class="p">(</span><span class="n">recreation_area</span><span class="p">)</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_campground_object</span> <span class="o">=</span> <span class="n">campgrounds</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">weekends_only</span> <span class="o">=</span> <span class="n">weekends_only</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>        <span class="k">assert</span> <span class="p">(</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>            <span class="nb">any</span><span class="p">(</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>                <span class="p">[</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>                    <span class="n">campsites</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[[],</span> <span class="kc">None</span><span class="p">],</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>                    <span class="n">campgrounds</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[[],</span> <span class="kc">None</span><span class="p">],</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>                    <span class="n">recreation_area</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>                <span class="p">]</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>            <span class="p">)</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>            <span class="ow">is</span> <span class="kc">True</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>        <span class="p">)</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">campsites</span> <span class="o">=</span> <span class="n">make_list</span><span class="p">(</span><span class="n">campsites</span><span class="p">)</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_searchable_campgrounds</span><span class="p">()</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">campsite_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_searchable_equipment</span><span class="p">(</span><span class="n">equipment</span><span class="o">=</span><span class="n">equipment</span><span class="p">)</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>    <span class="k">def</span> <span class="nf">_get_searchable_campgrounds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]:</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">        Return a List of Campgrounds to search</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">        This handles scenarios where a recreation area is provided instead</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">        of a campground list</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="sd">        -------</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="sd">        searchable_campgrounds: List[int]</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">            List of searchable campground IDs</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsites</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[(),</span> <span class="p">[],</span> <span class="kc">None</span><span class="p">]:</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">campsites</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">campsite_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">campsite_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsites</span><span class="p">]</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>            <span class="n">searchable_campgrounds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_campgrounds_by_campsite_id</span><span class="p">()</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_campground_object</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[(),</span> <span class="p">[],</span> <span class="kc">None</span><span class="p">]:</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>            <span class="n">searchable_campgrounds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_campgrounds_by_campground_id</span><span class="p">()</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recreation_area_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[(),</span> <span class="p">[],</span> <span class="kc">None</span><span class="p">]:</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>            <span class="n">searchable_campgrounds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_campgrounds_by_recreation_area_id</span><span class="p">()</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;You must provide a Campground or Recreation Area ID&quot;</span><span class="p">)</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">searchable_campgrounds</span><span class="p">))</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>    <span class="k">def</span> <span class="nf">_get_searchable_equipment</span><span class="p">(</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>        <span class="bp">cls</span><span class="p">,</span> <span class="n">equipment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]]]</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]]]:</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="sd">        Sort through and validate Equipment</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="sd">        equipment: Optional[List[Tuple[str, Optional[int]]]]</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">        -------</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">        Optional[List[Tuple[str, Optional[int]]]]</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>        <span class="n">equipment_names</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>        <span class="n">final_equipment</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">equipment</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>            <span class="n">final_equipment</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>            <span class="k">for</span> <span class="n">equipment_name</span><span class="p">,</span> <span class="n">equipment_length</span> <span class="ow">in</span> <span class="n">equipment</span><span class="p">:</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>                <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>                    <span class="n">equipment_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>                    <span class="ow">not</span> <span class="ow">in</span> <span class="n">EquipmentOptions</span><span class="o">.</span><span class="n">__all_accepted_equipment__</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>                <span class="p">):</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>                        <span class="sa">f</span><span class="s2">&quot;Equipment name not recognized: </span><span class="si">{</span><span class="n">equipment_name</span><span class="si">}</span><span class="s2">. This won&#39;t &quot;</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>                        <span class="s2">&quot;be used for filtering.&quot;</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>                        <span class="s2">&quot;Acceptable options are: &quot;</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">EquipmentOptions</span><span class="o">.</span><span class="n">__all_accepted_equipment__</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>                    <span class="p">)</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>                    <span class="n">final_equipment</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">equipment_name</span><span class="p">,</span> <span class="n">equipment_length</span><span class="p">))</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>                    <span class="n">equipment_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">equipment_name</span><span class="p">)</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">final_equipment</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>                    <span class="sa">f</span><span class="s2">&quot;Filtering Campsites based on Equipment: </span><span class="si">{</span><span class="s1">&#39; | &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">equipment_names</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>                <span class="p">)</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>        <span class="k">return</span> <span class="n">final_equipment</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>    <span class="k">def</span> <span class="nf">_get_campgrounds_by_campground_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]:</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a><span class="sd">        Return a List of Campgrounds to search when provided with campground IDs</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a><span class="sd">        -------</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a><span class="sd">        returned_sites: List[int]</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="sd">            List of searchable campground IDs</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>        <span class="n">campground_list</span> <span class="o">=</span> <span class="n">make_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_campground_object</span><span class="p">)</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>        <span class="n">facilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsite_finder</span><span class="o">.</span><span class="n">find_campgrounds</span><span class="p">(</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>            <span class="n">campground_id</span><span class="o">=</span><span class="n">campground_list</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>        <span class="p">)</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>        <span class="k">return</span> <span class="n">facilities</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>    <span class="k">def</span> <span class="nf">_get_campgrounds_by_campsite_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]:</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="sd">        Return a List of Campgrounds to search when provided with Campsite IDs</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">        -------</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">        returned_sites: List[int]</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">            List of searchable campground IDs</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>        <span class="n">campsite_list</span> <span class="o">=</span> <span class="n">make_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">campsites</span><span class="p">)</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>        <span class="n">facilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsite_finder</span><span class="o">.</span><span class="n">find_campgrounds</span><span class="p">(</span><span class="n">campsite_id</span><span class="o">=</span><span class="n">campsite_list</span><span class="p">)</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>        <span class="k">return</span> <span class="n">facilities</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>    <span class="k">def</span> <span class="nf">_get_campgrounds_by_recreation_area_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CampgroundFacility</span><span class="p">]:</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a><span class="sd">        Return a List of Campgrounds to search when provided with Recreation Area IDs</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a><span class="sd">        -------</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a><span class="sd">        campgrounds: List[CampgroundFacility]</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>        <span class="n">campgrounds</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>        <span class="k">for</span> <span class="n">rec_area</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recreation_area_id</span><span class="p">:</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>            <span class="n">campground_array</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsite_finder</span><span class="o">.</span><span class="n">find_facilities_per_recreation_area</span><span class="p">(</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>                <span class="n">rec_area_id</span><span class="o">=</span><span class="n">rec_area</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>            <span class="p">)</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>            <span class="n">campgrounds</span> <span class="o">+=</span> <span class="n">campground_array</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>        <span class="k">return</span> <span class="n">campgrounds</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>    <span class="k">def</span> <span class="nf">get_all_campsites</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AvailableCampsite</span><span class="p">]:</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a><span class="sd">        Perform the Search and Return All Monthly Availabilities</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a><span class="sd">        -------</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a><span class="sd">        List[AvailableCampsite]</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>        <span class="n">found_campsites</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;No campgrounds found to search&quot;</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>            <span class="k">raise</span> <span class="n">SearchError</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Searching across </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span><span class="p">)</span><span class="si">}</span><span class="s2"> campgrounds&quot;</span><span class="p">)</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsite_metadata</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">campsite_metadata</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">campsite_finder</span><span class="o">.</span><span class="n">get_internal_campsite_metadata</span><span class="p">(</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>                    <span class="n">facility_ids</span><span class="o">=</span><span class="p">[</span><span class="n">facil</span><span class="o">.</span><span class="n">facility_id</span> <span class="k">for</span> <span class="n">facil</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span><span class="p">]</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>                <span class="p">)</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>            <span class="p">)</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>                <span class="s2">&quot;Metadata fetched for </span><span class="si">%s</span><span class="s2"> campsites&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">campsite_metadata</span><span class="p">)</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>            <span class="p">)</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">campground</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span><span class="p">):</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>            <span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_months</span><span class="p">:</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>                    <span class="sa">f</span><span class="s2">&quot;Searching </span><span class="si">{</span><span class="n">campground</span><span class="o">.</span><span class="n">facility_name</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">campground</span><span class="o">.</span><span class="n">recreation_area</span><span class="si">}</span><span class="s2"> &quot;</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>                    <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">campground</span><span class="o">.</span><span class="n">facility_id</span><span class="si">}</span><span class="s2">) for availability: &quot;</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">month</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%B, %Y&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>                <span class="p">)</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>                <span class="n">availabilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsite_finder</span><span class="o">.</span><span class="n">get_recdotgov_data</span><span class="p">(</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>                    <span class="n">campground_id</span><span class="o">=</span><span class="n">campground</span><span class="o">.</span><span class="n">facility_id</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">month</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>                <span class="p">)</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>                <span class="n">campsites</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsite_finder</span><span class="o">.</span><span class="n">process_campsite_availability</span><span class="p">(</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>                    <span class="n">availability</span><span class="o">=</span><span class="n">availabilities</span><span class="p">,</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>                    <span class="n">recreation_area</span><span class="o">=</span><span class="n">campground</span><span class="o">.</span><span class="n">recreation_area</span><span class="p">,</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>                    <span class="n">recreation_area_id</span><span class="o">=</span><span class="n">campground</span><span class="o">.</span><span class="n">recreation_area_id</span><span class="p">,</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>                    <span class="n">facility_name</span><span class="o">=</span><span class="n">campground</span><span class="o">.</span><span class="n">facility_name</span><span class="p">,</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>                    <span class="n">facility_id</span><span class="o">=</span><span class="n">campground</span><span class="o">.</span><span class="n">facility_id</span><span class="p">,</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>                    <span class="n">month</span><span class="o">=</span><span class="n">month</span><span class="p">,</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>                    <span class="n">campsite_metadata</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">campsite_metadata</span><span class="p">,</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>                <span class="p">)</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsites</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">[]]:</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>                    <span class="n">campsites</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>                        <span class="n">campsite_obj</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>                        <span class="k">for</span> <span class="n">campsite_obj</span> <span class="ow">in</span> <span class="n">campsites</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>                        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">campsite_obj</span><span class="o">.</span><span class="n">campsite_id</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsites</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>                    <span class="p">]</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>                <span class="n">found_campsites</span> <span class="o">+=</span> <span class="n">campsites</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>                <span class="k">if</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span><span class="p">):</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>                    <span class="n">sleep</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">uniform</span><span class="p">(</span><span class="o">*</span><span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">RATE_LIMITING</span><span class="p">),</span> <span class="mi">2</span><span class="p">))</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>        <span class="n">campsite_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsites_to_df</span><span class="p">(</span><span class="n">campsites</span><span class="o">=</span><span class="n">found_campsites</span><span class="p">)</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>        <span class="n">campsite_df_validated</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_date_overlap</span><span class="p">(</span><span class="n">campsites</span><span class="o">=</span><span class="n">campsite_df</span><span class="p">)</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>        <span class="n">compiled_campsite_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_consolidate_campsites</span><span class="p">(</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>            <span class="n">campsite_df</span><span class="o">=</span><span class="n">campsite_df_validated</span><span class="p">,</span> <span class="n">nights</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nights</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a>        <span class="p">)</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>        <span class="n">equipment_filtered_campsites</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_campsites_to_equipment</span><span class="p">(</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>            <span class="n">campsites</span><span class="o">=</span><span class="n">compiled_campsite_df</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>        <span class="p">)</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>        <span class="n">compiled_campsites</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df_to_campsites</span><span class="p">(</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>            <span class="n">campsite_df</span><span class="o">=</span><span class="n">equipment_filtered_campsites</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>        <span class="p">)</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>        <span class="k">return</span> <span class="n">compiled_campsites</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>    <span class="k">def</span> <span class="nf">filter_campsites_to_equipment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">campsites</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a><span class="sd">        Filter a Campsite DataFrame down to specified equipment</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a><span class="sd">        campsites: pd.DataFrame</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a><span class="sd">        -------</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a><span class="sd">        pd.DataFrame</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">equipment</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">campsites</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>            <span class="k">return</span> <span class="n">campsites</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>        <span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;campsite_id&quot;</span><span class="p">,</span> <span class="s2">&quot;permitted_equipment&quot;</span><span class="p">]</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>        <span class="n">exploded_data</span> <span class="o">=</span> <span class="n">campsites</span><span class="p">[</span><span class="n">column_names</span><span class="p">]</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s2">&quot;permitted_equipment&quot;</span><span class="p">)</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>        <span class="n">expanded_data</span> <span class="o">=</span> <span class="n">exploded_data</span><span class="p">[</span><span class="s2">&quot;permitted_equipment&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">)</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>        <span class="n">joined_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>            <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">exploded_data</span><span class="p">,</span> <span class="n">expanded_data</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>            <span class="n">columns</span><span class="o">=</span><span class="n">column_names</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;equipment_name&quot;</span><span class="p">,</span> <span class="s2">&quot;max_length&quot;</span><span class="p">],</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>        <span class="p">)</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>        <span class="n">joined_data</span><span class="p">[</span><span class="s2">&quot;equipment_name_normalized&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>            <span class="n">joined_data</span><span class="p">[</span><span class="s2">&quot;equipment_name&quot;</span><span class="p">]</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>            <span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>            <span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">EquipmentConfig</span><span class="o">.</span><span class="n">EQUIPMENT_REVERSE_MAPPING</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>        <span class="p">)</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>        <span class="n">equipment_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span><span class="p">]</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>        <span class="n">matching_equipment</span> <span class="o">=</span> <span class="n">joined_data</span><span class="p">[</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>            <span class="n">joined_data</span><span class="p">[</span><span class="s2">&quot;equipment_name_normalized&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">equipment_types</span><span class="p">)</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>        <span class="p">]</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>        <span class="n">matching_ids</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>        <span class="k">for</span> <span class="n">equipment_name</span><span class="p">,</span> <span class="n">equipment_length</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span><span class="p">:</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>            <span class="n">matching_data</span> <span class="o">=</span> <span class="n">matching_equipment</span><span class="p">[</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>                <span class="n">matching_equipment</span><span class="p">[</span><span class="s2">&quot;equipment_name_normalized&quot;</span><span class="p">]</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>                <span class="o">==</span> <span class="n">equipment_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>            <span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>            <span class="k">if</span> <span class="n">equipment_length</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>                <span class="n">matching_data</span> <span class="o">=</span> <span class="n">matching_data</span><span class="p">[</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>                    <span class="n">matching_data</span><span class="p">[</span><span class="s2">&quot;max_length&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="nb">float</span><span class="p">(</span><span class="n">equipment_length</span><span class="p">)</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>                <span class="p">]</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>            <span class="n">matching_ids</span> <span class="o">+=</span> <span class="nb">list</span><span class="p">(</span><span class="n">matching_data</span><span class="p">[</span><span class="s2">&quot;campsite_id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>        <span class="n">original_campsites</span> <span class="o">=</span> <span class="n">campsites</span><span class="p">[</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>            <span class="n">campsites</span><span class="p">[</span><span class="s2">&quot;campsite_id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">matching_ids</span><span class="p">)</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>        <span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>        <span class="k">return</span> <span class="n">original_campsites</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="camply.search.search_recreationdotgov.SearchRecreationDotGov.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">search_window</span><span class="p">,</span> <span class="n">recreation_area</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">campgrounds</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">campsites</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">weekends_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">nights</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">equipment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offline_search</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">offline_search_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#camply.search.search_recreationdotgov.SearchRecreationDotGov.__init__" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Initialize with Search Parameters</p>
<h5 id="camply.search.search_recreationdotgov.SearchRecreationDotGov.__init__--parameters">Parameters<a class="headerlink" href="#camply.search.search_recreationdotgov.SearchRecreationDotGov.__init__--parameters" title="Permanent link">#</a></h5>

<details class="search_window">
  <summary>Union[SearchWindow, List[SearchWindow]]</summary>
  <p>Search Window tuple containing start date and End Date</p>
</details>
<details class="recreation_area">
  <summary>Optional[Union[List[int], int]]</summary>
  <p>ID of Recreation Area (i.e. 2907 - Rocky Mountain National Park)</p>
</details>
<details class="campgrounds">
  <summary>Optional[Union[List[int], int]]</summary>
  <p>Campground ID or List of Campground IDs</p>
</details>
<details class="campsites">
  <summary>Optional[Union[List[int], int]]</summary>
  <p>Campsite ID or List of Campsite IDs</p>
</details>
<details class="weekends_only">
  <summary>bool</summary>
  <p>Whether to only search for Camping availabilities on the weekends (Friday /
Saturday nights)</p>
</details>
<details class="nights">
  <summary>int</summary>
  <p>minimum number of consecutive nights to search per campsite,defaults to 1</p>
</details>
<details class="equipment">
  <summary>Optional[List[Tuple[str, Optional[int]]]]</summary>
  <p>List of Tuples of Equipment to Search for. An equipment tuple array looks
like this: <code>[("Tent", None), ("RV", 20)]</code> - meaning the selected search
looks for sites to accommodate any tent size and RVs less than or equal
to 20 feet. Tuples contain the Equipment name and an optional equipment
length, otherwise provide None. Equipment names include <code>Tent</code>, <code>RV</code>,
<code>Trailer</code>, <code>Vehicle</code> and are not case-sensitive.</p>
</details>
<details class="offline_search">
  <summary>bool</summary>
  <p>When set to True, the campsite search will both save the results of the
campsites it's found, but also load those campsites before beginning a
search for other campsites.</p>
</details>
<details class="offline_search_path">
  <summary>Optional[str]</summary>
  <p>When offline search is set to True, this is the name of the file to be saved/loaded.
When not specified, the filename will default to <code>camply_campsites.json</code></p>
</details>
      <details class="quote">
        <summary>Source code in <code>camply/search/search_recreationdotgov.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span>
<span class="normal"><a href="#__codelineno-0-70">70</a></span>
<span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span>
<span class="normal"><a href="#__codelineno-0-75">75</a></span>
<span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span>
<span class="normal"><a href="#__codelineno-0-84">84</a></span>
<span class="normal"><a href="#__codelineno-0-85">85</a></span>
<span class="normal"><a href="#__codelineno-0-86">86</a></span>
<span class="normal"><a href="#__codelineno-0-87">87</a></span>
<span class="normal"><a href="#__codelineno-0-88">88</a></span>
<span class="normal"><a href="#__codelineno-0-89">89</a></span>
<span class="normal"><a href="#__codelineno-0-90">90</a></span>
<span class="normal"><a href="#__codelineno-0-91">91</a></span>
<span class="normal"><a href="#__codelineno-0-92">92</a></span>
<span class="normal"><a href="#__codelineno-0-93">93</a></span>
<span class="normal"><a href="#__codelineno-0-94">94</a></span>
<span class="normal"><a href="#__codelineno-0-95">95</a></span>
<span class="normal"><a href="#__codelineno-0-96">96</a></span>
<span class="normal"><a href="#__codelineno-0-97">97</a></span>
<span class="normal"><a href="#__codelineno-0-98">98</a></span>
<span class="normal"><a href="#__codelineno-0-99">99</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a>    <span class="n">search_window</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">SearchWindow</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">SearchWindow</span><span class="p">]],</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>    <span class="n">recreation_area</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>    <span class="n">campgrounds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a>    <span class="n">campsites</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>    <span class="n">weekends_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>    <span class="n">nights</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>    <span class="n">equipment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>    <span class="n">offline_search</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>    <span class="n">offline_search_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">    Initialize with Search Parameters</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">    search_window: Union[SearchWindow, List[SearchWindow]]</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">        Search Window tuple containing start date and End Date</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">    recreation_area: Optional[Union[List[int], int]]</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="sd">        ID of Recreation Area (i.e. 2907 - Rocky Mountain National Park)</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">    campgrounds: Optional[Union[List[int], int]]</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">        Campground ID or List of Campground IDs</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">    campsites: Optional[Union[List[int], int]]</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="sd">        Campsite ID or List of Campsite IDs</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">    weekends_only: bool</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="sd">        Whether to only search for Camping availabilities on the weekends (Friday /</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">        Saturday nights)</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">    nights: int</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">        minimum number of consecutive nights to search per campsite,defaults to 1</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">    equipment: Optional[List[Tuple[str, Optional[int]]]]</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">        List of Tuples of Equipment to Search for. An equipment tuple array looks</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">        like this: `[(&quot;Tent&quot;, None), (&quot;RV&quot;, 20)]` - meaning the selected search</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">        looks for sites to accommodate any tent size and RVs less than or equal</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">        to 20 feet. Tuples contain the Equipment name and an optional equipment</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">        length, otherwise provide None. Equipment names include `Tent`, `RV`,</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">        `Trailer`, `Vehicle` and are not case-sensitive.</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="sd">    offline_search: bool</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">        When set to True, the campsite search will both save the results of the</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">        campsites it&#39;s found, but also load those campsites before beginning a</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">        search for other campsites.</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="sd">    offline_search_path: Optional[str]</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="sd">        When offline search is set to True, this is the name of the file to be saved/loaded.</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="sd">        When not specified, the filename will default to `camply_campsites.json`</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">campsite_finder</span><span class="p">:</span> <span class="n">RecreationDotGov</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a>    <span class="nb">super</span><span class="p">(</span><span class="n">SearchRecreationDotGov</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>        <span class="n">provider</span><span class="o">=</span><span class="n">RecreationDotGov</span><span class="p">(),</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a>        <span class="n">search_window</span><span class="o">=</span><span class="n">search_window</span><span class="p">,</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a>        <span class="n">weekends_only</span><span class="o">=</span><span class="n">weekends_only</span><span class="p">,</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>        <span class="n">nights</span><span class="o">=</span><span class="n">nights</span><span class="p">,</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>        <span class="n">offline_search</span><span class="o">=</span><span class="n">offline_search</span><span class="p">,</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>        <span class="n">offline_search_path</span><span class="o">=</span><span class="n">offline_search_path</span><span class="p">,</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>    <span class="p">)</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_recreation_area_id</span> <span class="o">=</span> <span class="n">make_list</span><span class="p">(</span><span class="n">recreation_area</span><span class="p">)</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_campground_object</span> <span class="o">=</span> <span class="n">campgrounds</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">weekends_only</span> <span class="o">=</span> <span class="n">weekends_only</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>    <span class="k">assert</span> <span class="p">(</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>        <span class="nb">any</span><span class="p">(</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>            <span class="p">[</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>                <span class="n">campsites</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[[],</span> <span class="kc">None</span><span class="p">],</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>                <span class="n">campgrounds</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[[],</span> <span class="kc">None</span><span class="p">],</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>                <span class="n">recreation_area</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>            <span class="p">]</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>        <span class="p">)</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>        <span class="ow">is</span> <span class="kc">True</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>    <span class="p">)</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">campsites</span> <span class="o">=</span> <span class="n">make_list</span><span class="p">(</span><span class="n">campsites</span><span class="p">)</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_searchable_campgrounds</span><span class="p">()</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">campsite_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_searchable_equipment</span><span class="p">(</span><span class="n">equipment</span><span class="o">=</span><span class="n">equipment</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.search.search_recreationdotgov.SearchRecreationDotGov.filter_campsites_to_equipment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">filter_campsites_to_equipment</span><span class="p">(</span><span class="n">campsites</span><span class="p">)</span></code>

<a href="#camply.search.search_recreationdotgov.SearchRecreationDotGov.filter_campsites_to_equipment" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Filter a Campsite DataFrame down to specified equipment</p>
<h5 id="camply.search.search_recreationdotgov.SearchRecreationDotGov.filter_campsites_to_equipment--parameters">Parameters<a class="headerlink" href="#camply.search.search_recreationdotgov.SearchRecreationDotGov.filter_campsites_to_equipment--parameters" title="Permanent link">#</a></h5>
<p>campsites: pd.DataFrame</p>
<h5 id="camply.search.search_recreationdotgov.SearchRecreationDotGov.filter_campsites_to_equipment--returns">Returns<a class="headerlink" href="#camply.search.search_recreationdotgov.SearchRecreationDotGov.filter_campsites_to_equipment--returns" title="Permanent link">#</a></h5>
<p>pd.DataFrame</p>

      <details class="quote">
        <summary>Source code in <code>camply/search/search_recreationdotgov.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-272" name="__codelineno-0-272"></a><span class="k">def</span> <span class="nf">filter_campsites_to_equipment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">campsites</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a><span class="sd">    Filter a Campsite DataFrame down to specified equipment</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a><span class="sd">    campsites: pd.DataFrame</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a><span class="sd">    -------</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a><span class="sd">    pd.DataFrame</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">equipment</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">campsites</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>        <span class="k">return</span> <span class="n">campsites</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>    <span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;campsite_id&quot;</span><span class="p">,</span> <span class="s2">&quot;permitted_equipment&quot;</span><span class="p">]</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>    <span class="n">exploded_data</span> <span class="o">=</span> <span class="n">campsites</span><span class="p">[</span><span class="n">column_names</span><span class="p">]</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s2">&quot;permitted_equipment&quot;</span><span class="p">)</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>    <span class="n">expanded_data</span> <span class="o">=</span> <span class="n">exploded_data</span><span class="p">[</span><span class="s2">&quot;permitted_equipment&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">)</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>    <span class="n">joined_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>        <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">exploded_data</span><span class="p">,</span> <span class="n">expanded_data</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>        <span class="n">columns</span><span class="o">=</span><span class="n">column_names</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;equipment_name&quot;</span><span class="p">,</span> <span class="s2">&quot;max_length&quot;</span><span class="p">],</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>    <span class="p">)</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>    <span class="n">joined_data</span><span class="p">[</span><span class="s2">&quot;equipment_name_normalized&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>        <span class="n">joined_data</span><span class="p">[</span><span class="s2">&quot;equipment_name&quot;</span><span class="p">]</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>        <span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>        <span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">EquipmentConfig</span><span class="o">.</span><span class="n">EQUIPMENT_REVERSE_MAPPING</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>    <span class="p">)</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>    <span class="n">equipment_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span><span class="p">]</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>    <span class="n">matching_equipment</span> <span class="o">=</span> <span class="n">joined_data</span><span class="p">[</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>        <span class="n">joined_data</span><span class="p">[</span><span class="s2">&quot;equipment_name_normalized&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">equipment_types</span><span class="p">)</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>    <span class="p">]</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>    <span class="n">matching_ids</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>    <span class="k">for</span> <span class="n">equipment_name</span><span class="p">,</span> <span class="n">equipment_length</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span><span class="p">:</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>        <span class="n">matching_data</span> <span class="o">=</span> <span class="n">matching_equipment</span><span class="p">[</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>            <span class="n">matching_equipment</span><span class="p">[</span><span class="s2">&quot;equipment_name_normalized&quot;</span><span class="p">]</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>            <span class="o">==</span> <span class="n">equipment_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>        <span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>        <span class="k">if</span> <span class="n">equipment_length</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>            <span class="n">matching_data</span> <span class="o">=</span> <span class="n">matching_data</span><span class="p">[</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>                <span class="n">matching_data</span><span class="p">[</span><span class="s2">&quot;max_length&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="nb">float</span><span class="p">(</span><span class="n">equipment_length</span><span class="p">)</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>            <span class="p">]</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>        <span class="n">matching_ids</span> <span class="o">+=</span> <span class="nb">list</span><span class="p">(</span><span class="n">matching_data</span><span class="p">[</span><span class="s2">&quot;campsite_id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>    <span class="n">original_campsites</span> <span class="o">=</span> <span class="n">campsites</span><span class="p">[</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>        <span class="n">campsites</span><span class="p">[</span><span class="s2">&quot;campsite_id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">matching_ids</span><span class="p">)</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>    <span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>    <span class="k">return</span> <span class="n">original_campsites</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.search.search_recreationdotgov.SearchRecreationDotGov.get_all_campsites" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_all_campsites</span><span class="p">()</span></code>

<a href="#camply.search.search_recreationdotgov.SearchRecreationDotGov.get_all_campsites" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Perform the Search and Return All Monthly Availabilities</p>
<h5 id="camply.search.search_recreationdotgov.SearchRecreationDotGov.get_all_campsites--returns">Returns<a class="headerlink" href="#camply.search.search_recreationdotgov.SearchRecreationDotGov.get_all_campsites--returns" title="Permanent link">#</a></h5>
<p>List[AvailableCampsite]</p>

      <details class="quote">
        <summary>Source code in <code>camply/search/search_recreationdotgov.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-207" name="__codelineno-0-207"></a><span class="k">def</span> <span class="nf">get_all_campsites</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AvailableCampsite</span><span class="p">]:</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a><span class="sd">    Perform the Search and Return All Monthly Availabilities</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a><span class="sd">    -------</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a><span class="sd">    List[AvailableCampsite]</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>    <span class="n">found_campsites</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>        <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;No campgrounds found to search&quot;</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>        <span class="k">raise</span> <span class="n">SearchError</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Searching across </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span><span class="p">)</span><span class="si">}</span><span class="s2"> campgrounds&quot;</span><span class="p">)</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsite_metadata</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">campsite_metadata</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">campsite_finder</span><span class="o">.</span><span class="n">get_internal_campsite_metadata</span><span class="p">(</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>                <span class="n">facility_ids</span><span class="o">=</span><span class="p">[</span><span class="n">facil</span><span class="o">.</span><span class="n">facility_id</span> <span class="k">for</span> <span class="n">facil</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span><span class="p">]</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>            <span class="p">)</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>        <span class="p">)</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>            <span class="s2">&quot;Metadata fetched for </span><span class="si">%s</span><span class="s2"> campsites&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">campsite_metadata</span><span class="p">)</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>        <span class="p">)</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">campground</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span><span class="p">):</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>        <span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_months</span><span class="p">:</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>                <span class="sa">f</span><span class="s2">&quot;Searching </span><span class="si">{</span><span class="n">campground</span><span class="o">.</span><span class="n">facility_name</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">campground</span><span class="o">.</span><span class="n">recreation_area</span><span class="si">}</span><span class="s2"> &quot;</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>                <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">campground</span><span class="o">.</span><span class="n">facility_id</span><span class="si">}</span><span class="s2">) for availability: &quot;</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">month</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%B, %Y&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>            <span class="p">)</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>            <span class="n">availabilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsite_finder</span><span class="o">.</span><span class="n">get_recdotgov_data</span><span class="p">(</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>                <span class="n">campground_id</span><span class="o">=</span><span class="n">campground</span><span class="o">.</span><span class="n">facility_id</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">month</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>            <span class="p">)</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>            <span class="n">campsites</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsite_finder</span><span class="o">.</span><span class="n">process_campsite_availability</span><span class="p">(</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>                <span class="n">availability</span><span class="o">=</span><span class="n">availabilities</span><span class="p">,</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>                <span class="n">recreation_area</span><span class="o">=</span><span class="n">campground</span><span class="o">.</span><span class="n">recreation_area</span><span class="p">,</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>                <span class="n">recreation_area_id</span><span class="o">=</span><span class="n">campground</span><span class="o">.</span><span class="n">recreation_area_id</span><span class="p">,</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>                <span class="n">facility_name</span><span class="o">=</span><span class="n">campground</span><span class="o">.</span><span class="n">facility_name</span><span class="p">,</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>                <span class="n">facility_id</span><span class="o">=</span><span class="n">campground</span><span class="o">.</span><span class="n">facility_id</span><span class="p">,</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>                <span class="n">month</span><span class="o">=</span><span class="n">month</span><span class="p">,</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>                <span class="n">campsite_metadata</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">campsite_metadata</span><span class="p">,</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>            <span class="p">)</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsites</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">[]]:</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>                <span class="n">campsites</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>                    <span class="n">campsite_obj</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>                    <span class="k">for</span> <span class="n">campsite_obj</span> <span class="ow">in</span> <span class="n">campsites</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>                    <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">campsite_obj</span><span class="o">.</span><span class="n">campsite_id</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsites</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>                <span class="p">]</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>            <span class="n">found_campsites</span> <span class="o">+=</span> <span class="n">campsites</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>            <span class="k">if</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span><span class="p">):</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>                <span class="n">sleep</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">uniform</span><span class="p">(</span><span class="o">*</span><span class="n">RecreationBookingConfig</span><span class="o">.</span><span class="n">RATE_LIMITING</span><span class="p">),</span> <span class="mi">2</span><span class="p">))</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>    <span class="n">campsite_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsites_to_df</span><span class="p">(</span><span class="n">campsites</span><span class="o">=</span><span class="n">found_campsites</span><span class="p">)</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>    <span class="n">campsite_df_validated</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_date_overlap</span><span class="p">(</span><span class="n">campsites</span><span class="o">=</span><span class="n">campsite_df</span><span class="p">)</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>    <span class="n">compiled_campsite_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_consolidate_campsites</span><span class="p">(</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>        <span class="n">campsite_df</span><span class="o">=</span><span class="n">campsite_df_validated</span><span class="p">,</span> <span class="n">nights</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nights</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a>    <span class="p">)</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>    <span class="n">equipment_filtered_campsites</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_campsites_to_equipment</span><span class="p">(</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>        <span class="n">campsites</span><span class="o">=</span><span class="n">compiled_campsite_df</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>    <span class="p">)</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>    <span class="n">compiled_campsites</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df_to_campsites</span><span class="p">(</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>        <span class="n">campsite_df</span><span class="o">=</span><span class="n">equipment_filtered_campsites</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>    <span class="p">)</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>    <span class="k">return</span> <span class="n">compiled_campsites</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="camply.SearchWindow" class="doc doc-heading">
        <code>SearchWindow</code>


<a href="#camply.SearchWindow" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="camply.containers.base_container.CamplyModel" href="containers/base_container/#camply.containers.base_container.CamplyModel">CamplyModel</a></code></p>

  
      <p>Search Window for Campsite Search</p>


        <details class="quote">
          <summary>Source code in <code>camply/containers/data_containers.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="k">class</span> <span class="nc">SearchWindow</span><span class="p">(</span><span class="n">CamplyModel</span><span class="p">):</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="sd">    Search Window for Campsite Search</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a>    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;start_date&quot;</span><span class="p">)</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>    <span class="k">def</span> <span class="nf">start_date_must_be_in_future</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">        Validate that start_date is in the future.</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">        Coerece start date to today&#39;s date when it is not in the future.</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>        <span class="n">current_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>        <span class="k">if</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="n">current_date</span><span class="p">:</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>            <span class="k">return</span> <span class="n">current_date</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>        <span class="k">return</span> <span class="n">v</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;end_date&quot;</span><span class="p">)</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>    <span class="k">def</span> <span class="nf">end_date_must_be_in_future</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">        Validate that end_date is in the future</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>        <span class="n">current_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>        <span class="k">if</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="n">current_date</span><span class="p">:</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;must be in the future&quot;</span><span class="p">)</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>        <span class="k">return</span> <span class="n">v</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>    <span class="n">start_date</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>    <span class="n">end_date</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>    <span class="k">def</span> <span class="nf">get_date_range</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">]:</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">        Generate a List of Dates Between two Dates</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">        -------</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">        List[datetime.date]</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>        <span class="k">return</span> <span class="p">[</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">start_date</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">end_date</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_date</span><span class="p">)</span><span class="o">.</span><span class="n">days</span><span class="p">)</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>        <span class="p">]</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="camply.containers.data_containers.SearchWindow.end_date_must_be_in_future" class="doc doc-heading">
<code class="highlight language-python"><span class="n">end_date_must_be_in_future</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#camply.containers.data_containers.SearchWindow.end_date_must_be_in_future" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Validate that end_date is in the future</p>

      <details class="quote">
        <summary>Source code in <code>camply/containers/data_containers.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;end_date&quot;</span><span class="p">)</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="nd">@classmethod</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="k">def</span> <span class="nf">end_date_must_be_in_future</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">    Validate that end_date is in the future</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>    <span class="n">current_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>    <span class="k">if</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="n">current_date</span><span class="p">:</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;must be in the future&quot;</span><span class="p">)</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>    <span class="k">return</span> <span class="n">v</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.containers.data_containers.SearchWindow.get_date_range" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_date_range</span><span class="p">()</span></code>

<a href="#camply.containers.data_containers.SearchWindow.get_date_range" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Generate a List of Dates Between two Dates</p>
<h5 id="camply.containers.data_containers.SearchWindow.get_date_range--returns">Returns<a class="headerlink" href="#camply.containers.data_containers.SearchWindow.get_date_range--returns" title="Permanent link">#</a></h5>
<p>List[datetime.date]</p>

      <details class="quote">
        <summary>Source code in <code>camply/containers/data_containers.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="k">def</span> <span class="nf">get_date_range</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">]:</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">    Generate a List of Dates Between two Dates</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">    -------</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">    List[datetime.date]</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>    <span class="k">return</span> <span class="p">[</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">start_date</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">x</span><span class="p">)</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">end_date</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_date</span><span class="p">)</span><span class="o">.</span><span class="n">days</span><span class="p">)</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>    <span class="p">]</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.containers.data_containers.SearchWindow.start_date_must_be_in_future" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start_date_must_be_in_future</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#camply.containers.data_containers.SearchWindow.start_date_must_be_in_future" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Validate that start_date is in the future.</p>
<p>Coerece start date to today's date when it is not in the future.</p>

      <details class="quote">
        <summary>Source code in <code>camply/containers/data_containers.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;start_date&quot;</span><span class="p">)</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="nd">@classmethod</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="k">def</span> <span class="nf">start_date_must_be_in_future</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">    Validate that start_date is in the future.</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">    Coerece start date to today&#39;s date when it is not in the future.</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>    <span class="n">current_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>    <span class="k">if</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="n">current_date</span><span class="p">:</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>        <span class="k">return</span> <span class="n">current_date</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>    <span class="k">return</span> <span class="n">v</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="camply.SearchYellowstone" class="doc doc-heading">
        <code>SearchYellowstone</code>


<a href="#camply.SearchYellowstone" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="camply.search.base_search.BaseCampingSearch" href="search/base_search/#camply.search.base_search.BaseCampingSearch">BaseCampingSearch</a></code></p>

  
      <p>Camping Search Object</p>


        <details class="quote">
          <summary>Source code in <code>camply/search/search_yellowstone.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-0-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-0-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-0-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-0-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-0-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-0-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-0-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-0-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-0-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-0-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-0-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-0-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-0-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-0-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-0-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-0-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-0-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-0-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-0-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-0-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-0-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-0-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-0-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-0-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="k">class</span> <span class="nc">SearchYellowstone</span><span class="p">(</span><span class="n">BaseCampingSearch</span><span class="p">):</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="sd">    Camping Search Object</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a>    <span class="c1"># noinspection PyUnusedLocal</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a>        <span class="n">search_window</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">SearchWindow</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">SearchWindow</span><span class="p">]],</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>        <span class="n">weekends_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>        <span class="n">campgrounds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a>        <span class="n">nights</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>        <span class="n">offline_search</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>        <span class="n">offline_search_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">        Initialize with Search Parameters</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">        search_window: Union[SearchWindow, List[SearchWindow]]</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">            Search Window tuple containing start date and End Date</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">        weekends_only: bool</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">            Whether to only search for Camping availabilities on the weekends (Friday /</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">            Saturday nights)</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">        campgrounds: Optional[Union[List[str], str]]</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="sd">            Campground ID or List of Campground IDs</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">        nights: int</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">            minimum number of consecutive nights to search per campsite,defaults to 1</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">        offline_search: bool</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="sd">            When set to True, the campsite search will both save the results of the</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">            campsites it&#39;s found, but also load those campsites before beginning a</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="sd">            search for other campsites.</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">        offline_search_path: Optional[str]</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">            When offline search is set to True, this is the name of the file to be saved/loaded.</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">            When not specified, the filename will default to `camply_campsites.json`</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>            <span class="n">provider</span><span class="o">=</span><span class="n">YellowstoneLodging</span><span class="p">(),</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>            <span class="n">search_window</span><span class="o">=</span><span class="n">search_window</span><span class="p">,</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>            <span class="n">weekends_only</span><span class="o">=</span><span class="n">weekends_only</span><span class="p">,</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>            <span class="n">nights</span><span class="o">=</span><span class="n">nights</span><span class="p">,</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>            <span class="n">offline_search</span><span class="o">=</span><span class="n">offline_search</span><span class="p">,</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>            <span class="n">offline_search_path</span><span class="o">=</span><span class="n">offline_search_path</span><span class="p">,</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a>        <span class="p">)</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span> <span class="o">=</span> <span class="n">make_list</span><span class="p">(</span><span class="n">campgrounds</span><span class="p">)</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>    <span class="k">def</span> <span class="nf">get_all_campsites</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AvailableCampsite</span><span class="p">]:</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="sd">        Search for all matching campsites in Yellowstone.</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">        -------</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="sd">        List[AvailableCampsite]</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a>        <span class="n">all_campsites</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>        <span class="n">searchable_campgrounds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_searchable_campgrounds</span><span class="p">()</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>        <span class="n">this_month</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">day</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>        <span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_months</span><span class="p">:</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>            <span class="k">if</span> <span class="n">month</span> <span class="o">&gt;=</span> <span class="n">this_month</span><span class="p">:</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>                <span class="n">all_campsites</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsite_finder</span><span class="o">.</span><span class="n">get_monthly_campsites</span><span class="p">(</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>                    <span class="n">month</span><span class="o">=</span><span class="n">month</span><span class="p">,</span> <span class="n">nights</span><span class="o">=</span><span class="kc">None</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nights</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">nights</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>                <span class="p">)</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>        <span class="n">matching_campsites</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_campsites_to_campgrounds</span><span class="p">(</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>            <span class="n">campsites</span><span class="o">=</span><span class="n">all_campsites</span><span class="p">,</span> <span class="n">searchable_campgrounds</span><span class="o">=</span><span class="n">searchable_campgrounds</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>        <span class="p">)</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>        <span class="n">campsite_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsites_to_df</span><span class="p">(</span><span class="n">campsites</span><span class="o">=</span><span class="n">matching_campsites</span><span class="p">)</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>        <span class="n">campsite_df_validated</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_date_overlap</span><span class="p">(</span><span class="n">campsites</span><span class="o">=</span><span class="n">campsite_df</span><span class="p">)</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>        <span class="n">time_window_end</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">search_days</span><span class="p">)</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>        <span class="n">compiled_campsite_df</span> <span class="o">=</span> <span class="n">campsite_df_validated</span><span class="p">[</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>            <span class="n">campsite_df_validated</span><span class="o">.</span><span class="n">booking_end_date</span> <span class="o">&lt;=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">time_window_end</span><span class="p">)</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>        <span class="p">]</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>        <span class="n">compiled_campsites</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df_to_campsites</span><span class="p">(</span><span class="n">campsite_df</span><span class="o">=</span><span class="n">compiled_campsite_df</span><span class="p">)</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>        <span class="k">return</span> <span class="n">compiled_campsites</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>    <span class="k">def</span> <span class="nf">_get_searchable_campgrounds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="sd">        Return the Campgrounds for the Camping Search</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="sd">        -------</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">        Optional[Set[str]]</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">[]]:</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>            <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>        <span class="n">supported_campsites</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_CAMPGROUNDS</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>        <span class="n">selected_campsites</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span><span class="p">)</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>        <span class="n">searchable_campgrounds</span> <span class="o">=</span> <span class="n">supported_campsites</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">selected_campsites</span><span class="p">)</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">searchable_campgrounds</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>            <span class="n">campground_ids</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">` (</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">)&quot;</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_CAMPGROUNDS</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>            <span class="p">]</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>            <span class="n">error_message</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>                <span class="s2">&quot;You must supply a YellowstoneNationalParkLodges supported &quot;</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>                <span class="s2">&quot;campground ID. Current supported Campground IDs: &quot;</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">campground_ids</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>            <span class="p">)</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>            <span class="k">raise</span> <span class="n">SearchError</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">searchable_campgrounds</span><span class="p">)</span><span class="si">}</span><span class="s2"> Matching Campgrounds Found&quot;</span><span class="p">)</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>        <span class="k">for</span> <span class="n">campground</span> <span class="ow">in</span> <span class="n">searchable_campgrounds</span><span class="p">:</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>                <span class="sa">f</span><span class="s2">&quot;‚õ∞  </span><span class="si">{</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_RECREATION_AREA_FORMAL_NAME</span><span class="si">}</span><span class="s2"> &quot;</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>                <span class="sa">f</span><span class="s2">&quot;(#</span><span class="si">{</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_RECREATION_AREA_ID</span><span class="si">}</span><span class="s2">) - üèï  &quot;</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_CAMPGROUNDS</span><span class="p">[</span><span class="n">campground</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">campground</span><span class="si">}</span><span class="s2">)&quot;</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>            <span class="p">)</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>        <span class="k">return</span> <span class="n">searchable_campgrounds</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>    <span class="k">def</span> <span class="nf">_filter_campsites_to_campgrounds</span><span class="p">(</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">campsites</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">AvailableCampsite</span><span class="p">],</span> <span class="n">searchable_campgrounds</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AvailableCampsite</span><span class="p">]:</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">        Filter Campsites Down to Matching Campgrounds</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">        campsites: List[AvailableCampsite]</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="sd">        searchable_campgrounds: Set[str]</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a><span class="sd">        -------</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a><span class="sd">        List[AvailableCampsite]</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">[]]:</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>            <span class="k">return</span> <span class="n">campsites</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>        <span class="n">matching_campsites</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>            <span class="n">campsite</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>            <span class="k">for</span> <span class="n">campsite</span> <span class="ow">in</span> <span class="n">campsites</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>            <span class="k">if</span> <span class="n">campsite</span><span class="o">.</span><span class="n">facility_id</span> <span class="ow">in</span> <span class="n">searchable_campgrounds</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>        <span class="p">]</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>        <span class="k">return</span> <span class="n">matching_campsites</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>    <span class="k">def</span> <span class="nf">print_campgrounds</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">        Print the Campgrounds inside of Yellowstone</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>        <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_CAMPGROUND_OBJECTS</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="camply.search.search_yellowstone.SearchYellowstone.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">search_window</span><span class="p">,</span> <span class="n">weekends_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">campgrounds</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nights</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">offline_search</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">offline_search_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#camply.search.search_yellowstone.SearchYellowstone.__init__" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Initialize with Search Parameters</p>
<h5 id="camply.search.search_yellowstone.SearchYellowstone.__init__--parameters">Parameters<a class="headerlink" href="#camply.search.search_yellowstone.SearchYellowstone.__init__--parameters" title="Permanent link">#</a></h5>

<details class="search_window">
  <summary>Union[SearchWindow, List[SearchWindow]]</summary>
  <p>Search Window tuple containing start date and End Date</p>
</details>
<details class="weekends_only">
  <summary>bool</summary>
  <p>Whether to only search for Camping availabilities on the weekends (Friday /
Saturday nights)</p>
</details>
<details class="campgrounds">
  <summary>Optional[Union[List[str], str]]</summary>
  <p>Campground ID or List of Campground IDs</p>
</details>
<details class="nights">
  <summary>int</summary>
  <p>minimum number of consecutive nights to search per campsite,defaults to 1</p>
</details>
<details class="offline_search">
  <summary>bool</summary>
  <p>When set to True, the campsite search will both save the results of the
campsites it's found, but also load those campsites before beginning a
search for other campsites.</p>
</details>
<details class="offline_search_path">
  <summary>Optional[str]</summary>
  <p>When offline search is set to True, this is the name of the file to be saved/loaded.
When not specified, the filename will default to <code>camply_campsites.json</code></p>
</details>
      <details class="quote">
        <summary>Source code in <code>camply/search/search_yellowstone.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a>    <span class="n">search_window</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">SearchWindow</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">SearchWindow</span><span class="p">]],</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>    <span class="n">weekends_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>    <span class="n">campgrounds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a>    <span class="n">nights</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>    <span class="n">offline_search</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>    <span class="n">offline_search_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">    Initialize with Search Parameters</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">    search_window: Union[SearchWindow, List[SearchWindow]]</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">        Search Window tuple containing start date and End Date</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">    weekends_only: bool</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">        Whether to only search for Camping availabilities on the weekends (Friday /</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">        Saturday nights)</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">    campgrounds: Optional[Union[List[str], str]]</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="sd">        Campground ID or List of Campground IDs</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">    nights: int</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">        minimum number of consecutive nights to search per campsite,defaults to 1</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">    offline_search: bool</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="sd">        When set to True, the campsite search will both save the results of the</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">        campsites it&#39;s found, but also load those campsites before beginning a</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="sd">        search for other campsites.</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">    offline_search_path: Optional[str]</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">        When offline search is set to True, this is the name of the file to be saved/loaded.</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">        When not specified, the filename will default to `camply_campsites.json`</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>        <span class="n">provider</span><span class="o">=</span><span class="n">YellowstoneLodging</span><span class="p">(),</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>        <span class="n">search_window</span><span class="o">=</span><span class="n">search_window</span><span class="p">,</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>        <span class="n">weekends_only</span><span class="o">=</span><span class="n">weekends_only</span><span class="p">,</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>        <span class="n">nights</span><span class="o">=</span><span class="n">nights</span><span class="p">,</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>        <span class="n">offline_search</span><span class="o">=</span><span class="n">offline_search</span><span class="p">,</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>        <span class="n">offline_search_path</span><span class="o">=</span><span class="n">offline_search_path</span><span class="p">,</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a>    <span class="p">)</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">campgrounds</span> <span class="o">=</span> <span class="n">make_list</span><span class="p">(</span><span class="n">campgrounds</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.search.search_yellowstone.SearchYellowstone.get_all_campsites" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_all_campsites</span><span class="p">()</span></code>

<a href="#camply.search.search_yellowstone.SearchYellowstone.get_all_campsites" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Search for all matching campsites in Yellowstone.</p>
<h5 id="camply.search.search_yellowstone.SearchYellowstone.get_all_campsites--returns">Returns<a class="headerlink" href="#camply.search.search_yellowstone.SearchYellowstone.get_all_campsites--returns" title="Permanent link">#</a></h5>
<p>List[AvailableCampsite]</p>

      <details class="quote">
        <summary>Source code in <code>camply/search/search_yellowstone.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-69">69</a></span>
<span class="normal"><a href="#__codelineno-0-70">70</a></span>
<span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span>
<span class="normal"><a href="#__codelineno-0-75">75</a></span>
<span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span>
<span class="normal"><a href="#__codelineno-0-84">84</a></span>
<span class="normal"><a href="#__codelineno-0-85">85</a></span>
<span class="normal"><a href="#__codelineno-0-86">86</a></span>
<span class="normal"><a href="#__codelineno-0-87">87</a></span>
<span class="normal"><a href="#__codelineno-0-88">88</a></span>
<span class="normal"><a href="#__codelineno-0-89">89</a></span>
<span class="normal"><a href="#__codelineno-0-90">90</a></span>
<span class="normal"><a href="#__codelineno-0-91">91</a></span>
<span class="normal"><a href="#__codelineno-0-92">92</a></span>
<span class="normal"><a href="#__codelineno-0-93">93</a></span>
<span class="normal"><a href="#__codelineno-0-94">94</a></span>
<span class="normal"><a href="#__codelineno-0-95">95</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="k">def</span> <span class="nf">get_all_campsites</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AvailableCampsite</span><span class="p">]:</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="sd">    Search for all matching campsites in Yellowstone.</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">    -------</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="sd">    List[AvailableCampsite]</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a>    <span class="n">all_campsites</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>    <span class="n">searchable_campgrounds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_searchable_campgrounds</span><span class="p">()</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>    <span class="n">this_month</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">day</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>    <span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_months</span><span class="p">:</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>        <span class="k">if</span> <span class="n">month</span> <span class="o">&gt;=</span> <span class="n">this_month</span><span class="p">:</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>            <span class="n">all_campsites</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsite_finder</span><span class="o">.</span><span class="n">get_monthly_campsites</span><span class="p">(</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>                <span class="n">month</span><span class="o">=</span><span class="n">month</span><span class="p">,</span> <span class="n">nights</span><span class="o">=</span><span class="kc">None</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nights</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">nights</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>            <span class="p">)</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>    <span class="n">matching_campsites</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_campsites_to_campgrounds</span><span class="p">(</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>        <span class="n">campsites</span><span class="o">=</span><span class="n">all_campsites</span><span class="p">,</span> <span class="n">searchable_campgrounds</span><span class="o">=</span><span class="n">searchable_campgrounds</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>    <span class="p">)</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>    <span class="n">campsite_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">campsites_to_df</span><span class="p">(</span><span class="n">campsites</span><span class="o">=</span><span class="n">matching_campsites</span><span class="p">)</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>    <span class="n">campsite_df_validated</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_date_overlap</span><span class="p">(</span><span class="n">campsites</span><span class="o">=</span><span class="n">campsite_df</span><span class="p">)</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>    <span class="n">time_window_end</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">search_days</span><span class="p">)</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>    <span class="n">compiled_campsite_df</span> <span class="o">=</span> <span class="n">campsite_df_validated</span><span class="p">[</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>        <span class="n">campsite_df_validated</span><span class="o">.</span><span class="n">booking_end_date</span> <span class="o">&lt;=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">time_window_end</span><span class="p">)</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>    <span class="p">]</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>    <span class="n">compiled_campsites</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df_to_campsites</span><span class="p">(</span><span class="n">campsite_df</span><span class="o">=</span><span class="n">compiled_campsite_df</span><span class="p">)</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>    <span class="k">return</span> <span class="n">compiled_campsites</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.search.search_yellowstone.SearchYellowstone.print_campgrounds" class="doc doc-heading">
<code class="highlight language-python"><span class="n">print_campgrounds</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#camply.search.search_yellowstone.SearchYellowstone.print_campgrounds" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Print the Campgrounds inside of Yellowstone</p>

      <details class="quote">
        <summary>Source code in <code>camply/search/search_yellowstone.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-155" name="__codelineno-0-155"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="k">def</span> <span class="nf">print_campgrounds</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">    Print the Campgrounds inside of Yellowstone</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>    <span class="n">log_sorted_response</span><span class="p">(</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_CAMPGROUND_OBJECTS</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="camply.YellowstoneLodging" class="doc doc-heading">
        <code>YellowstoneLodging</code>


<a href="#camply.YellowstoneLodging" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="camply.providers.base_provider.BaseProvider" href="providers/base_provider/#camply.providers.base_provider.BaseProvider">BaseProvider</a></code></p>

  
      <p>Scanner for Lodging in Yellowstone</p>


        <details class="quote">
          <summary>Source code in <code>camply/providers/xanterra/yellowstone_lodging.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-0-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-0-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-0-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-0-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-0-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-0-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-0-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-0-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-0-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-0-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-0-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-0-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-0-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-0-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-0-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-0-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-0-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-0-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-0-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="k">class</span> <span class="nc">YellowstoneLodging</span><span class="p">(</span><span class="n">BaseProvider</span><span class="p">):</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">    Scanner for Lodging in Yellowstone</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="sd">        String Representation</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">        -------</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">        str</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>        <span class="k">return</span> <span class="s2">&quot;&lt;YellowstoneLodging&gt;&quot;</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>    <span class="k">def</span> <span class="nf">_get_monthly_availability</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">month</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">nights</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">        Check All Lodging in Yellowstone for Campground Data</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">        -------</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">        data_availability: dict</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="sd">            Data Availability Dictionary</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>        <span class="n">query_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>            <span class="n">date</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_ensure_current_month</span><span class="p">(</span><span class="n">month</span><span class="o">=</span><span class="n">month</span><span class="p">),</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>            <span class="n">limit</span><span class="o">=</span><span class="mi">31</span><span class="p">,</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>            <span class="n">rate_code</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">RATE_CODE</span><span class="p">,</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>        <span class="p">)</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>        <span class="k">if</span> <span class="n">nights</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>            <span class="n">query_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">nights</span><span class="o">=</span><span class="n">nights</span><span class="p">))</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>        <span class="n">api_endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_api_endpoint</span><span class="p">(</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>            <span class="n">url_path</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_LODGING_PATH</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="kc">None</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>        <span class="p">)</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>            <span class="sa">f</span><span class="s2">&quot;Searching for Yellowstone Lodging Availability: </span><span class="si">{</span><span class="n">month</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%B, %Y&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>        <span class="p">)</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>        <span class="n">all_resort_availability_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_yellowstone_request</span><span class="p">(</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>            <span class="n">endpoint</span><span class="o">=</span><span class="n">api_endpoint</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">query_dict</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>        <span class="p">)</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a>        <span class="k">return</span> <span class="n">all_resort_availability_data</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>    <span class="nd">@tenacity</span><span class="o">.</span><span class="n">retry</span><span class="p">(</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a>        <span class="n">wait</span><span class="o">=</span><span class="n">tenacity</span><span class="o">.</span><span class="n">wait_random_exponential</span><span class="p">(</span><span class="n">multiplier</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">1800</span><span class="p">),</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a>        <span class="n">stop</span><span class="o">=</span><span class="n">tenacity</span><span class="o">.</span><span class="n">stop</span><span class="o">.</span><span class="n">stop_after_delay</span><span class="p">(</span><span class="mi">6000</span><span class="p">),</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a>    <span class="p">)</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>    <span class="k">def</span> <span class="nf">_try_retry_get_data</span><span class="p">(</span><span class="n">endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="sd">        Try and Retry Fetching Data from the Yellowstone API.</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">        Unfortunately this is a required method to request the data since the</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="sd">        Yellowstone API doesn&#39;t always return data.</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">        endpoint: str</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="sd">            API Endpoint</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="sd">        params</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="sd">        -------</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">        dict</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>        <span class="n">yellowstone_headers</span> <span class="o">=</span> <span class="n">choice</span><span class="p">(</span><span class="n">USER_AGENTS</span><span class="p">)</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>        <span class="n">yellowstone_headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">STANDARD_HEADERS</span><span class="p">)</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>        <span class="n">yellowstone_headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">API_REFERRERS</span><span class="p">)</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>            <span class="n">url</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">yellowstone_headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>        <span class="p">)</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span> <span class="ow">and</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>            <span class="k">return</span> <span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>            <span class="n">error_message</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>                <span class="s2">&quot;Something went wrong with checking the &quot;</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>                <span class="s2">&quot;Yellowstone Booking API. Will continue retrying.&quot;</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>            <span class="p">)</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>    <span class="k">def</span> <span class="nf">make_yellowstone_request</span><span class="p">(</span><span class="n">endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="sd">        Try and Retry Fetching Data from the Yellowstone API.</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">        Unfortunately this is a required method to request the data since the</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">        Yellowstone API doesn&#39;t always return data.</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">        endpoint: str</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">            API Endpoint</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">        params</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a><span class="sd">        -------</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="sd">        dict</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">YellowstoneLodging</span><span class="o">.</span><span class="n">_try_retry_get_data</span><span class="p">(</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>                <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>            <span class="p">)</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>        <span class="k">except</span> <span class="ne">RuntimeError</span> <span class="k">as</span> <span class="n">re</span><span class="p">:</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;error_message: </span><span class="si">{</span><span class="n">re</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>        <span class="k">return</span> <span class="n">content</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>    <span class="k">def</span> <span class="nf">_get_api_endpoint</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">        Build the API Endpoint for All Yellowstone Lodging</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>        <span class="k">if</span> <span class="n">query</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>            <span class="n">query_string</span> <span class="o">=</span> <span class="n">parse</span><span class="o">.</span><span class="n">urlencode</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">)</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>            <span class="n">query_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>        <span class="n">url_components</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>            <span class="n">scheme</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">API_SCHEME</span><span class="p">,</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>            <span class="n">netloc</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">API_BASE_ENDPOINT</span><span class="p">,</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>            <span class="n">url</span><span class="o">=</span><span class="n">url_path</span><span class="p">,</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>            <span class="n">params</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>            <span class="n">query</span><span class="o">=</span><span class="n">query_string</span><span class="p">,</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>            <span class="n">fragment</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>        <span class="p">)</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>        <span class="n">api_endpoint</span> <span class="o">=</span> <span class="n">parse</span><span class="o">.</span><span class="n">urlunparse</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">url_components</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>        <span class="k">return</span> <span class="n">api_endpoint</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>    <span class="k">def</span> <span class="nf">_return_lodging_url</span><span class="p">(</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>        <span class="bp">cls</span><span class="p">,</span> <span class="n">lodging_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">month</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">        Return a Browser Loadable URL to book from</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a><span class="sd">        lodging_code: str</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a><span class="sd">            Lodging Code from API</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a><span class="sd">        month: datetime</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a><span class="sd">            Month to return bookings filtered to</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a><span class="sd">        params: Optional[dict]</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a><span class="sd">            Optional URL Parameters</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a><span class="sd">        -------</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="sd">        str</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="sd">            URL String</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>        <span class="n">query</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>            <span class="n">dateFrom</span><span class="o">=</span><span class="n">month</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%m-</span><span class="si">%d</span><span class="s2">-%Y&quot;</span><span class="p">),</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>            <span class="n">adults</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>            <span class="n">destination</span><span class="o">=</span><span class="n">lodging_code</span><span class="p">,</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>            <span class="n">children</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>        <span class="p">)</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>            <span class="n">query</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>        <span class="n">query_string</span> <span class="o">=</span> <span class="n">parse</span><span class="o">.</span><span class="n">urlencode</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">)</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>        <span class="n">url_components</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>            <span class="n">scheme</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">API_SCHEME</span><span class="p">,</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>            <span class="n">netloc</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">WEBUI_BASE_ENDPOINT</span><span class="p">,</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>            <span class="n">url</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">WEBUI_BOOKING_PATH</span><span class="p">,</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>            <span class="n">params</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>            <span class="n">query</span><span class="o">=</span><span class="n">query_string</span><span class="p">,</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>            <span class="n">fragment</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>        <span class="p">)</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>        <span class="n">webui_endpoint</span> <span class="o">=</span> <span class="n">parse</span><span class="o">.</span><span class="n">urlunparse</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">url_components</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>        <span class="k">return</span> <span class="n">webui_endpoint</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>    <span class="k">def</span> <span class="nf">_compile_campground_availabilities</span><span class="p">(</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>        <span class="bp">cls</span><span class="p">,</span> <span class="n">availability</span><span class="p">:</span> <span class="n">XantResortData</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a><span class="sd">        Gather Data about campground availabilities within a JSON Availability Objet</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a><span class="sd">        availability: ResortData</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a><span class="sd">            JSON Availability Object</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a><span class="sd">        -------</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a><span class="sd">        available_campsites:  List[dict]</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a><span class="sd">            List of Availabilities as JSON</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>        <span class="n">available_campsites</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>        <span class="k">for</span> <span class="n">booking_date</span><span class="p">,</span> <span class="n">daily_data</span> <span class="ow">in</span> <span class="n">availability</span><span class="o">.</span><span class="n">availability</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>            <span class="n">camping_keys</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>                <span class="n">key</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>                <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">daily_data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>                <span class="k">if</span> <span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">LODGING_CAMPGROUND_QUALIFIER</span> <span class="ow">in</span> <span class="n">key</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>            <span class="p">]</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>            <span class="k">for</span> <span class="n">hotel_code</span> <span class="ow">in</span> <span class="n">camping_keys</span><span class="p">:</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>                <span class="n">hotel_data</span> <span class="o">=</span> <span class="n">daily_data</span><span class="p">[</span><span class="n">hotel_code</span><span class="p">]</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>                <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>                    <span class="n">hotel_title</span> <span class="o">=</span> <span class="n">hotel_data</span><span class="o">.</span><span class="n">rates</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">RATE_CODE</span><span class="p">]</span><span class="o">.</span><span class="n">title</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>                    <span class="n">hotel_rate_mins</span> <span class="o">=</span> <span class="n">hotel_data</span><span class="o">.</span><span class="n">rates</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">RATE_CODE</span><span class="p">]</span><span class="o">.</span><span class="n">mins</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>                    <span class="k">if</span> <span class="n">hotel_rate_mins</span> <span class="o">!=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">0</span><span class="p">}:</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>                        <span class="n">min_capacity</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">hotel_rate_mins</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>                        <span class="n">max_capacity</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">hotel_rate_mins</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>                        <span class="n">capacity</span> <span class="o">=</span> <span class="p">(</span><span class="n">min_capacity</span><span class="p">,</span> <span class="n">max_capacity</span><span class="p">)</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>                        <span class="n">campsite</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>                            <span class="n">campsite_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>                            <span class="n">booking_date</span><span class="o">=</span><span class="n">booking_date</span><span class="p">,</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>                            <span class="n">campsite_occupancy</span><span class="o">=</span><span class="n">capacity</span><span class="p">,</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>                            <span class="n">recreation_area</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_RECREATION_AREA_NAME</span><span class="p">,</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>                            <span class="n">recreation_area_id</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_RECREATION_AREA_ID</span><span class="p">,</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>                            <span class="n">facility_name</span><span class="o">=</span><span class="n">hotel_title</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>                                <span class="o">*</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_CAMPGROUND_NAME_REPLACE</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>                            <span class="p">),</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>                            <span class="n">facility_id</span><span class="o">=</span><span class="n">hotel_code</span><span class="p">,</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>                        <span class="p">)</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>                        <span class="n">available_campsites</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">campsite</span><span class="p">)</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>                    <span class="k">pass</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">{</span><span class="n">logging_utils</span><span class="o">.</span><span class="n">get_emoji</span><span class="p">(</span><span class="n">available_campsites</span><span class="p">)</span><span class="si">}</span><span class="se">\t</span><span class="s2">&quot;</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">available_campsites</span><span class="p">)</span><span class="si">}</span><span class="s2"> sites found.&quot;</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>        <span class="p">)</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>        <span class="k">return</span> <span class="n">available_campsites</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>    <span class="k">def</span> <span class="nf">_gather_campsite_specific_availability</span><span class="p">(</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>        <span class="n">available_campsites</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>        <span class="n">month</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>        <span class="n">nights</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a><span class="sd">        Get campsite extra information</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a><span class="sd">        Given a DataFrame of campsite availability, return updated Data with details</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a><span class="sd">        about the actual campsites that are available (i.e Tent Size, RV Length, Etc)</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a><span class="sd">        available_campsites: List[dict]</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a><span class="sd">            List of Available Campsites as JSON objects</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a><span class="sd">        month: datetime</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a><span class="sd">            Month object</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a><span class="sd">        -------</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><span class="sd">        List[dict]</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>        <span class="n">available_room_array</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>        <span class="n">availability_df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">available_campsites</span><span class="p">)</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>        <span class="k">if</span> <span class="n">availability_df</span><span class="o">.</span><span class="n">empty</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>            <span class="k">return</span> <span class="n">available_room_array</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>        <span class="k">for</span> <span class="n">facility_id</span><span class="p">,</span> <span class="n">_facility_df</span> <span class="ow">in</span> <span class="n">availability_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>            <span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_ID</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>        <span class="p">):</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>            <span class="n">api_endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_api_endpoint</span><span class="p">(</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>                <span class="n">url_path</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_CAMPSITE_AVAILABILITY</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="kc">None</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>            <span class="p">)</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>            <span class="n">params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_ensure_current_month</span><span class="p">(</span><span class="n">month</span><span class="o">=</span><span class="n">month</span><span class="p">),</span> <span class="n">limit</span><span class="o">=</span><span class="mi">31</span><span class="p">)</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>            <span class="k">if</span> <span class="n">nights</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>                <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">nights</span><span class="o">=</span><span class="n">nights</span><span class="p">))</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>            <span class="n">campsite_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_yellowstone_request</span><span class="p">(</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>                <span class="n">endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">api_endpoint</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">facility_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>            <span class="p">)</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>            <span class="n">campsite_availability</span> <span class="o">=</span> <span class="n">campsite_data</span><span class="p">[</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>                <span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_AVAILABILITY</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>            <span class="p">]</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>            <span class="n">booking_dates</span> <span class="o">=</span> <span class="n">campsite_availability</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>            <span class="n">availabilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_daily_availability</span><span class="p">(</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>                <span class="n">booking_dates</span><span class="o">=</span><span class="n">booking_dates</span><span class="p">,</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>                <span class="n">campsite_availability</span><span class="o">=</span><span class="n">campsite_availability</span><span class="p">,</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>                <span class="n">facility_id</span><span class="o">=</span><span class="n">facility_id</span><span class="p">,</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>            <span class="p">)</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>            <span class="n">available_room_array</span> <span class="o">+=</span> <span class="n">availabilities</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>        <span class="k">return</span> <span class="n">available_room_array</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>    <span class="k">def</span> <span class="nf">_process_daily_availability</span><span class="p">(</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>        <span class="bp">cls</span><span class="p">,</span> <span class="n">booking_dates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">campsite_availability</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">facility_id</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a><span class="sd">        Process Monthly Availability</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a><span class="sd">        booking_dates: List[str]</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a><span class="sd">            List of booking dates to process</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a><span class="sd">        campsite_availability: dict</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a><span class="sd">            Campsite availability dict</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a><span class="sd">        facility_id: str</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a><span class="sd">            Identification of the Facility</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a><span class="sd">        -------</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a><span class="sd">        List[dict]</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>        <span class="n">daily_availabilities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>        <span class="k">for</span> <span class="n">booking_date_str</span> <span class="ow">in</span> <span class="n">booking_dates</span><span class="p">:</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>            <span class="n">daily_availability</span> <span class="o">=</span> <span class="n">campsite_availability</span><span class="p">[</span><span class="n">booking_date_str</span><span class="p">]</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>            <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>                <span class="n">daily_availability</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_STATUS</span><span class="p">]</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>                <span class="o">==</span> <span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_STATUS_QUALIFIER</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>            <span class="p">):</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>                <span class="n">available_rooms</span> <span class="o">=</span> <span class="n">daily_availability</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_ROOMS</span><span class="p">]</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>                <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">available_rooms</span><span class="p">:</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>                    <span class="k">if</span> <span class="n">room</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_AVAILABLE_QUALIFIER</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>                        <span class="n">daily_availabilities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>                            <span class="nb">dict</span><span class="p">(</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>                                <span class="n">booking_date</span><span class="o">=</span><span class="n">booking_date_str</span><span class="p">,</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>                                <span class="n">facility_id</span><span class="o">=</span><span class="n">facility_id</span><span class="p">,</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>                                <span class="n">campsite_code</span><span class="o">=</span><span class="n">room</span><span class="p">[</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>                                    <span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_ROOM_CODE</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>                                <span class="p">],</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>                                <span class="n">available</span><span class="o">=</span><span class="n">room</span><span class="p">[</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>                                    <span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_AVAILABLE_QUALIFIER</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>                                <span class="p">],</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>                                <span class="n">price</span><span class="o">=</span><span class="n">room</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_PRICE</span><span class="p">],</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>                            <span class="p">)</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>                        <span class="p">)</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>        <span class="k">return</span> <span class="n">daily_availabilities</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>    <span class="k">def</span> <span class="nf">_get_property_information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">available_rooms</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="sd">        Gather Information About All Campgrounds / Hotels within Yellowstone</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a><span class="sd">        available_rooms: List[dict]</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a><span class="sd">        -------</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a><span class="sd">        List[dict]</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>        <span class="n">property_info_array</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>        <span class="n">availability_df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">available_rooms</span><span class="p">)</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>        <span class="k">if</span> <span class="n">availability_df</span><span class="o">.</span><span class="n">empty</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>            <span class="k">return</span> <span class="n">property_info_array</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>        <span class="n">facility_identifiers</span> <span class="o">=</span> <span class="n">availability_df</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_ID</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>        <span class="k">for</span> <span class="n">facility_id</span> <span class="ow">in</span> <span class="n">facility_identifiers</span><span class="p">:</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>            <span class="n">api_endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_api_endpoint</span><span class="p">(</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>                <span class="n">url_path</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_PROPERTY_INFO</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="kc">None</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>            <span class="p">)</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>            <span class="n">campsite_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_yellowstone_request</span><span class="p">(</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>                <span class="n">endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">api_endpoint</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">facility_id</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>            <span class="p">)</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>            <span class="n">campsite_codes</span> <span class="o">=</span> <span class="n">campsite_info</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>            <span class="k">for</span> <span class="n">campsite_code</span> <span class="ow">in</span> <span class="n">campsite_codes</span><span class="p">:</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>                <span class="n">campsite_data</span> <span class="o">=</span> <span class="n">campsite_info</span><span class="p">[</span><span class="n">campsite_code</span><span class="p">]</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>                <span class="n">property_info_array</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>                    <span class="nb">dict</span><span class="p">(</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>                        <span class="n">facility_id</span><span class="o">=</span><span class="n">facility_id</span><span class="p">,</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>                        <span class="n">campsite_code</span><span class="o">=</span><span class="n">campsite_code</span><span class="p">,</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>                        <span class="n">campsite_title</span><span class="o">=</span><span class="n">campsite_data</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">LODGING_TITLE</span><span class="p">],</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>                        <span class="n">campsite_type</span><span class="o">=</span><span class="n">campsite_data</span><span class="p">[</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>                            <span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_TYPE</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>                        <span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>                        <span class="n">capacity</span><span class="o">=</span><span class="p">(</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>                            <span class="n">campsite_data</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">LODGING_OCCUPANCY_BASE</span><span class="p">],</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>                            <span class="n">campsite_data</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">LODGING_OCCUPANCY_MAX</span><span class="p">],</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>                        <span class="p">),</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>                    <span class="p">)</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>                <span class="p">)</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>        <span class="k">return</span> <span class="n">property_info_array</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>    <span class="k">def</span> <span class="nf">get_monthly_campsites</span><span class="p">(</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">month</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">nights</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AvailableCampsite</span><span class="p">]:</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a><span class="sd">        Return All Campsites Available in a Given Month</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a><span class="sd">        month: datetime</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a><span class="sd">            Month to Search</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a><span class="sd">        nights: Optional[int]</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a><span class="sd">            Search for consecutive nights</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a><span class="sd">        -------</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a><span class="sd">        List[AvailableCampsite]</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>        <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>        <span class="n">search_date</span> <span class="o">=</span> <span class="n">month</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">day</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>        <span class="k">if</span> <span class="n">month</span> <span class="o">&lt;=</span> <span class="n">now</span><span class="p">:</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>                <span class="s2">&quot;Cannot input search dates before today, adjusting search parameters.&quot;</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>            <span class="p">)</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>            <span class="n">search_date</span> <span class="o">=</span> <span class="n">search_date</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>                <span class="n">year</span><span class="o">=</span><span class="n">now</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">now</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="n">now</span><span class="o">.</span><span class="n">day</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>            <span class="p">)</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>        <span class="n">availability_found</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_monthly_availability</span><span class="p">(</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>            <span class="n">month</span><span class="o">=</span><span class="n">search_date</span><span class="p">,</span> <span class="n">nights</span><span class="o">=</span><span class="n">nights</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>        <span class="p">)</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>        <span class="n">availability</span> <span class="o">=</span> <span class="n">XantResortData</span><span class="p">(</span><span class="o">**</span><span class="n">availability_found</span><span class="p">)</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>        <span class="n">monthly_campsites</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compile_campground_availabilities</span><span class="p">(</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>            <span class="n">availability</span><span class="o">=</span><span class="n">availability</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>        <span class="p">)</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>        <span class="n">campsite_data</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>            <span class="n">monthly_campsites</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">CAMPSITE_DATA_COLUMNS</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>        <span class="p">)</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>        <span class="k">if</span> <span class="n">campsite_data</span><span class="o">.</span><span class="n">empty</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>            <span class="k">return</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>        <span class="n">available_room_array</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gather_campsite_specific_availability</span><span class="p">(</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>            <span class="n">available_campsites</span><span class="o">=</span><span class="n">monthly_campsites</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">month</span><span class="p">,</span> <span class="n">nights</span><span class="o">=</span><span class="n">nights</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>        <span class="p">)</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>        <span class="n">available_rooms</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">available_room_array</span><span class="p">)</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>        <span class="n">property_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_property_information</span><span class="p">(</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>            <span class="n">available_rooms</span><span class="o">=</span><span class="n">available_room_array</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>        <span class="p">)</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>        <span class="n">properties</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">property_info</span><span class="p">)</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>        <span class="n">merged_campsites</span> <span class="o">=</span> <span class="n">available_rooms</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>            <span class="n">properties</span><span class="p">,</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>            <span class="n">on</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>                <span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_ID_COLUMN</span><span class="p">,</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>                <span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">CAMPSITE_ID_COLUMN</span><span class="p">,</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>            <span class="p">],</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>        <span class="p">)</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>        <span class="n">merged_campsites</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_DATE_COLUMN</span><span class="p">]</span> <span class="o">=</span> <span class="n">to_datetime</span><span class="p">(</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>            <span class="n">merged_campsites</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_DATE_COLUMN</span><span class="p">]</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>        <span class="p">)</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>        <span class="k">if</span> <span class="n">nights</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>            <span class="n">nights_param</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">nights</span><span class="o">=</span><span class="n">nights</span><span class="p">)</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>            <span class="n">nights_param</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">nights</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>        <span class="n">booking_nights</span> <span class="o">=</span> <span class="n">nights_param</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nights&quot;</span><span class="p">)</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>        <span class="n">merged_campsites</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_END_DATE_COLUMN</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged_campsites</span><span class="p">[</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>            <span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_DATE_COLUMN</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>        <span class="p">]</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">booking_nights</span><span class="p">)</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>        <span class="n">merged_campsites</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_NIGHTS_COLUMN</span><span class="p">]</span> <span class="o">=</span> <span class="n">booking_nights</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>        <span class="n">final_campsites</span> <span class="o">=</span> <span class="n">merged_campsites</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>            <span class="n">campsite_data</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_ID_COLUMN</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>        <span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_DATE_COLUMN</span><span class="p">)</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>        <span class="n">final_campsites</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_URL_COLUMN</span><span class="p">]</span> <span class="o">=</span> <span class="n">final_campsites</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>            <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_return_lodging_url</span><span class="p">(</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>                <span class="n">lodging_code</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">facility_id</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">booking_date</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">nights_param</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>            <span class="p">),</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>            <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>        <span class="p">)</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>        <span class="n">all_monthly_campsite_array</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_df_to_campsites</span><span class="p">(</span><span class="n">campsite_df</span><span class="o">=</span><span class="n">final_campsites</span><span class="p">)</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>        <span class="k">return</span> <span class="n">all_monthly_campsite_array</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>    <span class="k">def</span> <span class="nf">_df_to_campsites</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">campsite_df</span><span class="p">:</span> <span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AvailableCampsite</span><span class="p">]:</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a><span class="sd">        Transform a DataFrame into an array of AvailableCampsites</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a><span class="sd">        campsite_df: DataFrame</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a><span class="sd">        -------</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a><span class="sd">        List[AvailableCampsite]</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>        <span class="n">all_monthly_campsite_array</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">campsite_df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>            <span class="n">campsite</span> <span class="o">=</span> <span class="n">AvailableCampsite</span><span class="p">(</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>                <span class="n">campsite_id</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">CAMPSITE_ID_COLUMN</span><span class="p">],</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>                <span class="n">booking_date</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_DATE_COLUMN</span><span class="p">],</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>                <span class="n">booking_end_date</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_END_DATE_COLUMN</span><span class="p">],</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>                <span class="n">booking_nights</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_NIGHTS_COLUMN</span><span class="p">],</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>                <span class="n">campsite_site_name</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">CAMPSITE_SITE_NAME_COLUMN</span><span class="p">],</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>                <span class="n">campsite_loop_name</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_LOOP_NAME</span><span class="p">,</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>                <span class="n">campsite_type</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">CAMPSITE_TYPE_COLUMN</span><span class="p">],</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>                <span class="n">campsite_occupancy</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">CAMPSITE_OCCUPANCY_COLUMN</span><span class="p">],</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>                <span class="n">campsite_use_type</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">CAMPSITE_USE_TYPE_COLUMN</span><span class="p">],</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>                <span class="n">availability_status</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">CAMPSITE_AVAILABILITY_STATUS</span><span class="p">,</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>                <span class="n">recreation_area</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_RECREATION_AREA_NAME</span><span class="p">,</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>                <span class="n">recreation_area_id</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_RECREATION_AREA_ID</span><span class="p">,</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>                <span class="n">facility_name</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_NAME_COLUMN</span><span class="p">],</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>                <span class="n">facility_id</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_ID_COLUMN</span><span class="p">],</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>                <span class="n">booking_url</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_URL_COLUMN</span><span class="p">],</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>            <span class="p">)</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>            <span class="n">all_monthly_campsite_array</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">campsite</span><span class="p">)</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>        <span class="k">return</span> <span class="n">all_monthly_campsite_array</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>    <span class="k">def</span> <span class="nf">_ensure_current_month</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">month</span><span class="p">:</span> <span class="n">datetime</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a><span class="sd">        Ensure That We Never Give the Yellowstone API Dates in the past.</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a><span class="sd">        month: datetime</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a><span class="sd">        Returns</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a><span class="sd">        -------</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a><span class="sd">        datetime</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>        <span class="n">yellowstone_timezone</span> <span class="o">=</span> <span class="n">timezone</span><span class="p">(</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">YELLOWSTONE_TIMEZONE</span><span class="p">)</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>        <span class="n">yellowstone_current_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">yellowstone_timezone</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>        <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>            <span class="n">year</span><span class="o">=</span><span class="n">yellowstone_current_time</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>            <span class="n">month</span><span class="o">=</span><span class="n">yellowstone_current_time</span><span class="o">.</span><span class="n">month</span><span class="p">,</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>            <span class="n">day</span><span class="o">=</span><span class="n">yellowstone_current_time</span><span class="o">.</span><span class="n">day</span><span class="p">,</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>        <span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>        <span class="k">if</span> <span class="n">today</span> <span class="o">&gt;</span> <span class="n">month</span><span class="p">:</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>            <span class="n">month</span> <span class="o">=</span> <span class="n">today</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>        <span class="k">return</span> <span class="n">month</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

<a href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.__repr__" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>String Representation</p>
<h5 id="camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.__repr__--returns">Returns<a class="headerlink" href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.__repr__--returns" title="Permanent link">#</a></h5>
<p>str</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/xanterra/yellowstone_lodging.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="sd">    String Representation</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">    -------</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">    str</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>    <span class="k">return</span> <span class="s2">&quot;&lt;YellowstoneLodging&gt;&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.get_monthly_campsites" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_monthly_campsites</span><span class="p">(</span><span class="n">month</span><span class="p">,</span> <span class="n">nights</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.get_monthly_campsites" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Return All Campsites Available in a Given Month</p>
<h5 id="camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.get_monthly_campsites--parameters">Parameters<a class="headerlink" href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.get_monthly_campsites--parameters" title="Permanent link">#</a></h5>

<details class="month">
  <summary>datetime</summary>
  <p>Month to Search</p>
</details>
<details class="nights">
  <summary>Optional[int]</summary>
  <p>Search for consecutive nights</p>
</details>      <h5 id="camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.get_monthly_campsites--returns">Returns<a class="headerlink" href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.get_monthly_campsites--returns" title="Permanent link">#</a></h5>
<p>List[AvailableCampsite]</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/xanterra/yellowstone_lodging.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-386" name="__codelineno-0-386"></a><span class="k">def</span> <span class="nf">get_monthly_campsites</span><span class="p">(</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">month</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">nights</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AvailableCampsite</span><span class="p">]:</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a><span class="sd">    Return All Campsites Available in a Given Month</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a><span class="sd">    month: datetime</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a><span class="sd">        Month to Search</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a><span class="sd">    nights: Optional[int]</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a><span class="sd">        Search for consecutive nights</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a><span class="sd">    -------</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a><span class="sd">    List[AvailableCampsite]</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>    <span class="n">search_date</span> <span class="o">=</span> <span class="n">month</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">day</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>    <span class="k">if</span> <span class="n">month</span> <span class="o">&lt;=</span> <span class="n">now</span><span class="p">:</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>            <span class="s2">&quot;Cannot input search dates before today, adjusting search parameters.&quot;</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>        <span class="p">)</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>        <span class="n">search_date</span> <span class="o">=</span> <span class="n">search_date</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>            <span class="n">year</span><span class="o">=</span><span class="n">now</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">now</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="n">now</span><span class="o">.</span><span class="n">day</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>        <span class="p">)</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>    <span class="n">availability_found</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_monthly_availability</span><span class="p">(</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>        <span class="n">month</span><span class="o">=</span><span class="n">search_date</span><span class="p">,</span> <span class="n">nights</span><span class="o">=</span><span class="n">nights</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>    <span class="p">)</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>    <span class="n">availability</span> <span class="o">=</span> <span class="n">XantResortData</span><span class="p">(</span><span class="o">**</span><span class="n">availability_found</span><span class="p">)</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>    <span class="n">monthly_campsites</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compile_campground_availabilities</span><span class="p">(</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>        <span class="n">availability</span><span class="o">=</span><span class="n">availability</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>    <span class="p">)</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>    <span class="n">campsite_data</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>        <span class="n">monthly_campsites</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">CAMPSITE_DATA_COLUMNS</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>    <span class="p">)</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>    <span class="k">if</span> <span class="n">campsite_data</span><span class="o">.</span><span class="n">empty</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">()</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>    <span class="n">available_room_array</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gather_campsite_specific_availability</span><span class="p">(</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>        <span class="n">available_campsites</span><span class="o">=</span><span class="n">monthly_campsites</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">month</span><span class="p">,</span> <span class="n">nights</span><span class="o">=</span><span class="n">nights</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>    <span class="p">)</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>    <span class="n">available_rooms</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">available_room_array</span><span class="p">)</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>    <span class="n">property_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_property_information</span><span class="p">(</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>        <span class="n">available_rooms</span><span class="o">=</span><span class="n">available_room_array</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>    <span class="p">)</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>    <span class="n">properties</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">property_info</span><span class="p">)</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>    <span class="n">merged_campsites</span> <span class="o">=</span> <span class="n">available_rooms</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>        <span class="n">properties</span><span class="p">,</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>        <span class="n">on</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>            <span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_ID_COLUMN</span><span class="p">,</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>            <span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">CAMPSITE_ID_COLUMN</span><span class="p">,</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>        <span class="p">],</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>    <span class="p">)</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>    <span class="n">merged_campsites</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_DATE_COLUMN</span><span class="p">]</span> <span class="o">=</span> <span class="n">to_datetime</span><span class="p">(</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>        <span class="n">merged_campsites</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_DATE_COLUMN</span><span class="p">]</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>    <span class="p">)</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>    <span class="k">if</span> <span class="n">nights</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>        <span class="n">nights_param</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">nights</span><span class="o">=</span><span class="n">nights</span><span class="p">)</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>        <span class="n">nights_param</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">nights</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>    <span class="n">booking_nights</span> <span class="o">=</span> <span class="n">nights_param</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nights&quot;</span><span class="p">)</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>    <span class="n">merged_campsites</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_END_DATE_COLUMN</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged_campsites</span><span class="p">[</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>        <span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_DATE_COLUMN</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>    <span class="p">]</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">booking_nights</span><span class="p">)</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>    <span class="n">merged_campsites</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_NIGHTS_COLUMN</span><span class="p">]</span> <span class="o">=</span> <span class="n">booking_nights</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>    <span class="n">final_campsites</span> <span class="o">=</span> <span class="n">merged_campsites</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>        <span class="n">campsite_data</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">FACILITY_ID_COLUMN</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>    <span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_DATE_COLUMN</span><span class="p">)</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>    <span class="n">final_campsites</span><span class="p">[</span><span class="n">YellowstoneConfig</span><span class="o">.</span><span class="n">BOOKING_URL_COLUMN</span><span class="p">]</span> <span class="o">=</span> <span class="n">final_campsites</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>        <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_return_lodging_url</span><span class="p">(</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>            <span class="n">lodging_code</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">facility_id</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">booking_date</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">nights_param</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>        <span class="p">),</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>        <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>    <span class="p">)</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>    <span class="n">all_monthly_campsite_array</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_df_to_campsites</span><span class="p">(</span><span class="n">campsite_df</span><span class="o">=</span><span class="n">final_campsites</span><span class="p">)</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>    <span class="k">return</span> <span class="n">all_monthly_campsite_array</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.make_yellowstone_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">make_yellowstone_request</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.make_yellowstone_request" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Try and Retry Fetching Data from the Yellowstone API.</p>
<p>Unfortunately this is a required method to request the data since the
Yellowstone API doesn't always return data.</p>
<h5 id="camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.make_yellowstone_request--parameters">Parameters<a class="headerlink" href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.make_yellowstone_request--parameters" title="Permanent link">#</a></h5>

<details class="endpoint">
  <summary>str</summary>
  <p>API Endpoint</p>
</details>      <p>params</p>
<h5 id="camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.make_yellowstone_request--returns">Returns<a class="headerlink" href="#camply.providers.xanterra.yellowstone_lodging.YellowstoneLodging.make_yellowstone_request--returns" title="Permanent link">#</a></h5>
<p>dict</p>

      <details class="quote">
        <summary>Source code in <code>camply/providers/xanterra/yellowstone_lodging.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="k">def</span> <span class="nf">make_yellowstone_request</span><span class="p">(</span><span class="n">endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>    <span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="sd">    Try and Retry Fetching Data from the Yellowstone API.</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">    Unfortunately this is a required method to request the data since the</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">    Yellowstone API doesn&#39;t always return data.</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">    endpoint: str</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">        API Endpoint</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">    params</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a><span class="sd">    -------</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="sd">    dict</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>        <span class="n">content</span> <span class="o">=</span> <span class="n">YellowstoneLodging</span><span class="o">.</span><span class="n">_try_retry_get_data</span><span class="p">(</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>            <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>        <span class="p">)</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>    <span class="k">except</span> <span class="ne">RuntimeError</span> <span class="k">as</span> <span class="n">re</span><span class="p">:</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;error_message: </span><span class="si">{</span><span class="n">re</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>    <span class="k">return</span> <span class="n">content</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>


  




                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../cli/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Command Line Interface ‚å®Ô∏è" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Command Line Interface ‚å®Ô∏è
            </div>
          </div>
        </a>
      
      
        
        <a href="_version/" class="md-footer__link md-footer__link--next" aria-label="Next: _version" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              _version
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020 Justin Flannery
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tracking", "content.code.annotate"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>